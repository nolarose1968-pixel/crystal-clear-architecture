/**
 * Enterprise API Management Platform
 * Comprehensive API gateway, monitoring, and management system
 */

import type { EmployeeData } from '../types';
import {
  generateHtmlHead,
  generateHeader,
  generateToolCards,
  generateFooter,
  generateMetricGrid,
} from '../components';

export function generateApiPage(employee: EmployeeData, pathname?: string): string {
  const content = generateApiContent(employee, pathname);

  const html = `
    ${generateHtmlHead(
      `API Management - ${employee.name}`,
      'Comprehensive API endpoints for system integration, data access, and automation'
    )}
    ${generateHeader(employee, '/api')}
    <main class="api-container">
      ${content}
    </main>
    ${generateFooter()}
    </body>
    </html>
  `;

  return html;
}

function generateApiContent(employee: EmployeeData, pathname?: string): string {
  if (pathname === '/api/gateway') {
    return generateApiGatewayContent(employee);
  } else if (pathname === '/api/monitoring') {
    return generateApiMonitoringContent(employee);
  } else if (pathname === '/api/security') {
    return generateApiSecurityContent(employee);
  } else if (pathname === '/api/documentation') {
    return generateApiDocumentationContent(employee);
  } else if (pathname === '/api/analytics') {
    return generateApiAnalyticsContent(employee);
  } else if (pathname === '/api/developer') {
    return generateApiDeveloperContent(employee);
  } else if (pathname === '/api/integrations') {
    return generateApiIntegrationsContent(employee);
  } else {
    return generateApiOverviewContent(employee);
  }
}

function generateApiOverviewContent(employee: EmployeeData): string {
  const realTimeMetrics = [
    { label: 'Total APIs', value: '247', change: '+12', trend: 'up' },
    { label: 'Active Calls', value: '47.2K', change: '+8.3%', trend: 'up' },
    { label: 'Success Rate', value: '99.9%', change: '+0.1%', trend: 'up' },
    { label: 'Avg Response', value: '142ms', change: '-12ms', trend: 'up' }
  ];

  const apiCategories = [
    {
      icon: 'ğŸ¥',
      title: 'System Health',
      description: 'Health checks, status monitoring, and system diagnostics',
      endpoint: '/api/health',
      status: 'online',
      metrics: { endpoints: '4', checks: '24/7', uptime: '99.9%' }
    },
    {
      icon: 'ğŸ‘¤',
      title: 'Employee Profile',
      description: 'Employee data, profile information, and organizational details',
      endpoint: '/api/profile',
      status: 'online',
      metrics: { profiles: '1', fields: '15', updates: '2.1K' }
    },
    {
      icon: 'ğŸ› ï¸',
      title: 'Tools & Features',
      description: 'Available tools, feature access, and capability management',
      endpoint: '/api/tools',
      status: 'online',
      metrics: { tools: '8', features: '12', access: '100%' }
    },
    {
      icon: 'ğŸ“‡',
      title: 'Contact Management',
      description: 'Business contacts, relationships, and communication data',
      endpoint: '/api/contacts',
      status: 'online',
      metrics: { contacts: '450', categories: '4', recent: '25' }
    },
    {
      icon: 'ğŸ“…',
      title: 'Schedule & Calendar',
      description: 'Appointments, meetings, and time management (Premium)',
      endpoint: '/api/schedule',
      status: 'online',
      metrics: { appointments: '12', thisWeek: '8', today: '3' }
    },
    {
      icon: 'ğŸ“Š',
      title: 'Analytics & Metrics',
      description: 'Usage analytics, performance metrics, and business intelligence',
      endpoint: '/api/analytics',
      status: 'online',
      metrics: { reports: '247', metrics: '15', trends: 'â†—ï¸' }
    },
    {
      icon: 'ğŸ“‹',
      title: 'System Logs',
      description: 'Activity logs, audit trails, and system events (Admin)',
      endpoint: '/api/logs',
      status: 'online',
      metrics: { entries: '8.5K', today: '234', retention: '90d' }
    },
    {
      icon: 'âš™ï¸',
      title: 'System Administration',
      description: 'Cache management, system configuration, and maintenance',
      endpoint: '/api/cache/clear',
      status: 'online',
      metrics: { operations: '12', cache: '2.1MB', efficiency: '94%' }
    }
  ];

  const activeEndpoints = [
    { method: 'GET', path: '/api/health', calls: '892', status: '200' },
    { method: 'GET', path: '/api/status', calls: '1.2K', status: '200' },
    { method: 'GET', path: '/api/profile', calls: '756', status: '200' },
    { method: 'GET', path: '/api/tools', calls: '543', status: '200' },
    { method: 'GET', path: '/api/contacts', calls: '423', status: '200' },
    { method: 'GET', path: '/api/analytics', calls: '12.4K', status: '200' },
    { method: 'GET', path: '/api/monitoring', calls: '3.1K', status: '200' },
    { method: 'GET', path: '/api/schedule', calls: '234', status: '200' },
    { method: 'GET', path: '/api/logs', calls: '89', status: '200' },
    { method: 'POST', path: '/api/cache/clear', calls: '12', status: '200' },
    { method: 'GET', path: '/api/endpoints', calls: '345', status: '200' }
  ];

  return `
    <div class="api-overview-container">
      <style>
        ${getApiOverviewStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ”Œ Enterprise API Management Platform</h1>
          <p>Comprehensive API gateway, monitoring, security, and developer tools for enterprise-scale operations</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              API Gateway Online - All Systems Operational
            </div>
            <div class="last-update">Last updated: <span id="lastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Enhanced Real-Time Performance Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš¡ Real-Time Performance</h2>
          <p>Live API metrics and system performance indicators</p>
          <div class="header-actions">
            <button class="refresh-btn" onclick="refreshMetrics()">
              <span class="refresh-icon">ğŸ”„</span>
              Refresh
            </button>
            <div class="auto-refresh">
              <label class="toggle">
                <input type="checkbox" id="autoRefresh" checked onchange="toggleAutoRefresh()">
                <span class="toggle-slider"></span>
              </label>
              <span class="toggle-label">Auto-refresh</span>
            </div>
          </div>
        </div>

        <div class="metrics-dashboard">
          <div class="metrics-grid">
            ${realTimeMetrics.map(metric => `
              <div class="metric-card ${metric.trend}" onclick="showMetricDetails('${metric.label}')">
                <div class="metric-header">
                  <div class="metric-icon">${metric.label === 'Total APIs' ? 'ğŸ”Œ' : metric.label === 'Active Calls' ? 'ğŸ“¡' : metric.label === 'Success Rate' ? 'âœ…' : 'âš¡'}</div>
                  <div class="metric-sparkline" id="sparkline-${metric.label.replace(/\s+/g, '-').toLowerCase()}">
                    <svg width="60" height="20" viewBox="0 0 60 20">
                      <path d="M0,10 Q15,5 30,15 T60,10" stroke="#40e0d0" stroke-width="2" fill="none"/>
                    </svg>
                  </div>
                </div>
                <div class="metric-content">
                  <div class="metric-value">${metric.value}</div>
                  <div class="metric-label">${metric.label}</div>
                  <div class="metric-change ${metric.trend}">
                    <span class="change-icon">${metric.trend === 'up' ? 'â†—ï¸' : 'â†˜ï¸'}</span>
                    <span class="change-value">${metric.change}</span>
                  </div>
                </div>
                <div class="metric-details">
                  <div class="metric-trend">Last 24h: ${metric.trend === 'up' ? '+' : ''}${Math.floor(Math.random() * 20) + 5}%</div>
                  <div class="metric-target">Target: ${metric.label === 'Success Rate' ? '99.9%' : metric.label === 'Avg Response' ? '< 150ms' : 'Optimal'}</div>
                </div>
              </div>
            `).join('')}
          </div>

          <!-- Performance Chart -->
          <div class="performance-chart">
            <div class="chart-header">
              <h3>ğŸ“ˆ Performance Trend (Last 24 Hours)</h3>
              <div class="chart-controls">
                <button class="chart-btn active" onclick="setChartPeriod('1h')">1H</button>
                <button class="chart-btn" onclick="setChartPeriod('6h')">6H</button>
                <button class="chart-btn" onclick="setChartPeriod('24h')">24H</button>
                <button class="chart-btn" onclick="setChartPeriod('7d')">7D</button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="performanceChart" width="400" height="200"></canvas>
              <div class="chart-placeholder">
                <div class="placeholder-icon">ğŸ“Š</div>
                <div class="placeholder-text">Interactive performance chart loading...</div>
                <div class="loading-spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Enhanced API Categories -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ—ï¸ API Infrastructure</h2>
          <p>Core API management systems and enterprise capabilities</p>
          <div class="header-actions">
            <div class="system-overview">
              <div class="system-status">
                <div class="status-indicator online">
                  <span class="pulse"></span>
                </div>
                <span class="status-text">All Systems Operational</span>
              </div>
              <div class="system-metrics">
                <span class="metric">11/11 Endpoints Online</span>
                <span class="metric">99.9% Avg Uptime</span>
              </div>
            </div>
          </div>
        </div>

        <div class="api-categories-grid">
          ${apiCategories.map(category => `
            <div class="api-category-card" onclick="navigateToCategory('${category.endpoint}')">
              <div class="category-header">
                <div class="category-icon">${category.icon}</div>
                <div class="category-status ${category.status}">
                  <span class="status-dot"></span>
                  <span class="status-pulse"></span>
                  ${category.status.toUpperCase()}
                </div>
                <div class="category-actions">
                  <button class="action-btn small" onclick="event.stopPropagation(); quickAction('${category.title.toLowerCase().replace(/\s+/g, '_')}')">
                    âš¡ Quick Access
                  </button>
                </div>
              </div>

              <div class="category-content">
                <h3 class="category-title">${category.title}</h3>
                <p class="category-description">${category.description}</p>

                <div class="category-metrics">
                  <div class="metric-item primary">
                    <span class="metric-label">${Object.keys(category.metrics)[0].replace(/([A-Z])/g, ' $1').toLowerCase()}:</span>
                    <span class="metric-value">${category.metrics.endpoints || category.metrics.alerts || category.metrics.threats || category.metrics.docs || category.metrics.reports || category.metrics.webhooks}</span>
                    <span class="metric-trend ${Math.random() > 0.5 ? 'up' : 'stable'}">
                      ${Math.random() > 0.5 ? 'â†—ï¸' : 'â†’'}
                    </span>
                  </div>
                  <div class="metric-item">
                    <span class="metric-label">${Object.keys(category.metrics)[1].replace(/([A-Z])/g, ' $1').toLowerCase()}:</span>
                    <span class="metric-value">${category.metrics.traffic || category.metrics.latency || category.metrics.policies || category.metrics.testers || category.metrics.dashboards || category.metrics.integrations}</span>
                  </div>
                  <div class="metric-item">
                    <span class="metric-label">${Object.keys(category.metrics)[2].replace(/([A-Z])/g, ' $1').toLowerCase()}:</span>
                    <span class="metric-value">${category.metrics.uptime || category.metrics.throughput || category.metrics.audits || category.metrics.samples || category.metrics.exports || category.metrics.automations}</span>
                  </div>
                </div>
              </div>

              <div class="category-footer">
                <a href="${category.endpoint}" class="category-btn primary">
                  <span class="btn-icon">${category.icon}</span>
                  Access ${category.title}
                </a>
                <div class="category-links">
                  <button class="link-btn" onclick="event.stopPropagation(); showCategoryDocs('${category.endpoint}')">ğŸ“š Docs</button>
                  <button class="link-btn" onclick="event.stopPropagation(); showCategoryMetrics('${category.endpoint}')">ğŸ“Š Metrics</button>
                  <button class="link-btn" onclick="event.stopPropagation(); showCategoryAlerts('${category.endpoint}')">ğŸ”” Alerts</button>
                </div>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Active Endpoints -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”„ Active Endpoints</h2>
          <p>Currently active API endpoints and their performance metrics</p>
        </div>

        <div class="endpoints-table">
          <div class="table-header">
            <div class="table-cell">Method</div>
            <div class="table-cell">Endpoint</div>
            <div class="table-cell">Calls Today</div>
            <div class="table-cell">Status</div>
            <div class="table-cell">Actions</div>
          </div>
          ${activeEndpoints.map(endpoint => `
            <div class="table-row">
              <div class="table-cell">
                <span class="method-badge method-${endpoint.method.toLowerCase()}">${endpoint.method}</span>
              </div>
              <div class="table-cell endpoint-path">${endpoint.path}</div>
              <div class="table-cell">${endpoint.calls}</div>
              <div class="table-cell">
                <span class="status-badge status-${endpoint.status.startsWith('2') ? 'success' : 'error'}">${endpoint.status}</span>
              </div>
              <div class="table-cell">
                <button class="action-btn small" onclick="viewEndpointDetails('${endpoint.path}')">View</button>
                <button class="action-btn small secondary" onclick="testEndpoint('${endpoint.path}')">Test</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš¡ Quick Actions</h2>
          <p>Common API management tasks and shortcuts</p>
        </div>

        <div class="quick-actions-grid">
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/health')">
            <span class="action-icon">ğŸ’š</span>
            <span class="action-text">Health Check</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/profile')">
            <span class="action-icon">ğŸ‘¤</span>
            <span class="action-text">View Profile</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/tools')">
            <span class="action-icon">ğŸ› ï¸</span>
            <span class="action-text">My Tools</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/contacts')">
            <span class="action-icon">ğŸ“‡</span>
            <span class="action-text">Contacts</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/analytics')">
            <span class="action-icon">ğŸ“Š</span>
            <span class="action-text">Analytics</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/endpoints')">
            <span class="action-icon">ğŸ“‹</span>
            <span class="action-text">API Docs</span>
          </button>
          <button class="quick-action-btn" onclick="fetchApiEndpoint('/api/schedule')">
            <span class="action-icon">ğŸ“…</span>
            <span class="action-text">Schedule</span>
          </button>
          <button class="quick-action-btn" onclick="clearCache()">
            <span class="action-icon">ğŸ§¹</span>
            <span class="action-text">Clear Cache</span>
          </button>
        </div>
      </div>

      <!-- API Health Summary -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ’š System Health Overview</h2>
          <p>Overall API ecosystem health and performance status</p>
        </div>

        <div class="health-overview">
          <div class="health-card">
            <div class="health-icon">ğŸŒ</div>
            <div class="health-info">
              <h3>API Gateway</h3>
              <p>All endpoints operational</p>
              <div class="health-status healthy">âœ… Healthy</div>
            </div>
          </div>
          <div class="health-card">
            <div class="health-icon">ğŸ”’</div>
            <div class="health-info">
              <h3>Security Systems</h3>
              <p>No active threats detected</p>
              <div class="health-status healthy">âœ… Secure</div>
            </div>
          </div>
          <div class="health-card">
            <div class="health-icon">âš¡</div>
            <div class="health-info">
              <h3>Performance</h3>
              <p>Optimal response times</p>
              <div class="health-status healthy">âœ… Optimal</div>
            </div>
          </div>
          <div class="health-card">
            <div class="health-icon">ğŸ“Š</div>
            <div class="health-info">
              <h3>Monitoring</h3>
              <p>All systems monitored</p>
              <div class="health-status healthy">âœ… Active</div>
            </div>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/profile" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          Back to Profile
        </a>
        <a href="/api/gateway" class="nav-btn primary">
          <span class="btn-icon">ğŸšª</span>
          API Gateway
        </a>
        <a href="/api/monitoring" class="nav-btn accent">
          <span class="btn-icon">ğŸ“Š</span>
          Monitoring
        </a>
      </div>
    </div>

    <script>
      ${getApiOverviewScripts()}
    </script>
  `;
}

function getApiOverviewStyles(): string {
  return `
    .api-overview-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    /* Header Section */
    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    /* Section Headers */
    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    /* Metrics Grid */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .metric-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .metric-card.up {
      border-left: 4px solid #22c55e;
    }

    .metric-card.down {
      border-left: 4px solid #ef4444;
    }

    .metric-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .metric-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .metric-change {
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .metric-change.up {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .metric-change.down {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    /* API Categories Grid */
    .api-categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .api-category-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
    }

    .api-category-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .category-icon {
      font-size: 2rem;
    }

    .category-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .category-status.online {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .category-status.offline {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: currentColor;
    }

    .category-title {
      font-size: 1.5rem;
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .category-description {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1.5rem;
    }

    .category-metrics {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .metric-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .metric-item .metric-label {
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .metric-item .metric-value {
      color: #40e0d0;
      font-weight: 600;
    }

    .category-btn {
      display: inline-block;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      text-decoration: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.2s ease;
      width: 100%;
      text-align: center;
    }

    .category-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    /* Endpoints Table */
    .endpoints-table {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
      margin-top: 2rem;
    }

    .table-header {
      display: grid;
      grid-template-columns: 100px 3fr 1fr 100px 200px;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      font-weight: 600;
      color: #e0e6ed;
    }

    .table-row {
      display: grid;
      grid-template-columns: 100px 3fr 1fr 100px 200px;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background 0.2s ease;
    }

    .table-row:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .table-cell {
      display: flex;
      align-items: center;
      color: #a0a9b8;
    }

    .method-badge {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      color: white;
    }

    .method-get {
      background: #22c55e;
    }

    .method-post {
      background: #3b82f6;
    }

    .method-put {
      background: #f59e0b;
    }

    .method-delete {
      background: #ef4444;
    }

    .endpoint-path {
      color: #40e0d0;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .status-badge {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .status-success {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .status-error {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .action-btn.small {
      padding: 0.25rem 0.75rem;
      font-size: 0.8rem;
      border-radius: 4px;
      margin-right: 0.5rem;
    }

    /* Quick Actions */
    .quick-actions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }

    .quick-action-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: #e0e6ed;
    }

    .quick-action-btn:hover {
      transform: translateY(-2px);
      border-color: #40e0d0;
      box-shadow: 0 4px 15px rgba(64, 224, 208, 0.2);
    }

    .action-icon {
      font-size: 2rem;
    }

    .action-text {
      font-size: 0.9rem;
      font-weight: 600;
    }

    /* Health Overview */
    .health-overview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .health-card {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .health-icon {
      font-size: 2rem;
    }

    .health-info h3 {
      color: #e0e6ed;
      margin-bottom: 0.25rem;
    }

    .health-info p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .health-status {
      font-size: 0.8rem;
      font-weight: 600;
      color: #22c55e;
    }

    /* Navigation */
    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    /* Animations */
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Integration Templates */
    .templates-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .template-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
      text-align: center;
    }

    .template-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .template-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .template-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .template-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .template-features {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .template-features .feature {
      background: rgba(255, 215, 0, 0.1);
      color: #ffd700;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .template-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .template-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .template-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    /* Notification Animations */
    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOutRight {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(100%);
        opacity: 0;
      }
    }

    /* Enhanced Integration Cards */
    .integrations-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .integration-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .integration-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .integration-card.connected {
      border-color: #22c55e;
      background: rgba(34, 197, 94, 0.05);
    }

    .integration-card.active {
      border-color: #ffd700;
      background: rgba(255, 215, 0, 0.05);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .api-overview-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .header-status {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
      }

      .metrics-grid,
      .api-categories-grid,
      .health-overview,
      .integrations-grid,
      .templates-grid {
        grid-template-columns: 1fr;
      }

      .endpoints-table {
        display: block;
        overflow-x: auto;
      }

      .table-header,
      .table-row {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }

      .table-header {
        display: none;
      }

      .table-row {
        padding: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .quick-actions-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }
    }

    /* Enhanced Metrics Dashboard */
    .metrics-dashboard {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 1rem;
    }

    .refresh-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      background: rgba(64, 224, 208, 0.1);
      color: #40e0d0;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .refresh-btn:hover {
      background: #40e0d0;
      color: #0a0e27;
      transform: translateY(-1px);
    }

    .auto-refresh {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .toggle {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 20px;
    }

    .toggle input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255, 255, 255, 0.2);
      transition: 0.4s;
      border-radius: 20px;
    }

    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }

    input:checked + .toggle-slider {
      background-color: #40e0d0;
    }

    input:checked + .toggle-slider:before {
      transform: translateX(20px);
    }

    .toggle-label {
      font-size: 0.85rem;
      color: #a0a9b8;
      font-weight: 600;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .metric-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .metric-card.up {
      border-left: 4px solid #22c55e;
    }

    .metric-card.down {
      border-left: 4px solid #ef4444;
    }

    .metric-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .metric-icon {
      font-size: 2rem;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      border-radius: 50%;
      flex-shrink: 0;
    }

    .metric-sparkline {
      opacity: 0.7;
    }

    .metric-content {
      margin-bottom: 1rem;
    }

    .metric-value {
      font-size: 2rem;
      font-weight: 700;
      color: #e0e6ed;
      margin-bottom: 0.25rem;
    }

    .metric-label {
      font-size: 0.9rem;
      color: #a0a9b8;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .metric-change {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.85rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .metric-change.up {
      color: #22c55e;
    }

    .metric-change.down {
      color: #ef4444;
    }

    .metric-details {
      padding-top: 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .metric-trend,
    .metric-target {
      font-size: 0.8rem;
      color: #a0a9b8;
      margin-bottom: 0.25rem;
    }

    /* Performance Chart */
    .performance-chart {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.2);
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .chart-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .chart-controls {
      display: flex;
      gap: 0.5rem;
    }

    .chart-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      background: rgba(64, 224, 208, 0.1);
      color: #40e0d0;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .chart-btn:hover,
    .chart-btn.active {
      background: #40e0d0;
      color: #0a0e27;
    }

    .chart-container {
      position: relative;
      height: 200px;
    }

    .chart-placeholder {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #a0a9b8;
    }

    .placeholder-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .placeholder-text {
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .loading-spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(64, 224, 208, 0.3);
      border-top: 2px solid #40e0d0;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Enhanced API Category Cards */
    .system-overview {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .system-status {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #22c55e;
      position: relative;
    }

    .status-indicator .pulse {
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      border: 2px solid rgba(34, 197, 94, 0.3);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .status-text {
      color: #22c55e;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .system-metrics {
      display: flex;
      gap: 1rem;
    }

    .system-metrics .metric {
      color: #a0a9b8;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .api-category-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .api-category-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 12px 30px rgba(64, 224, 208, 0.2);
    }

    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.5rem;
    }

    .category-icon {
      font-size: 3rem;
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      border-radius: 50%;
      flex-shrink: 0;
    }

    .category-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    .category-status.online {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
    }

    .status-pulse {
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-radius: 50%;
      animation: pulse-ring 2s infinite;
    }

    .category-actions {
      margin-top: 0.5rem;
    }

    .category-content {
      margin-bottom: 2rem;
    }

    .category-title {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
      font-size: 1.3rem;
    }

    .category-description {
      color: #a0a9b8;
      line-height: 1.5;
      margin-bottom: 1.5rem;
    }

    .category-metrics .metric-item.primary {
      background: rgba(64, 224, 208, 0.1);
      border-radius: 8px;
      padding: 0.75rem;
      margin-bottom: 0.75rem;
      border-left: 4px solid #40e0d0;
    }

    .metric-trend {
      margin-left: 0.5rem;
      font-size: 0.9rem;
    }

    .metric-trend.up {
      color: #22c55e;
    }

    .metric-trend.stable {
      color: #a0a9b8;
    }

    .category-footer {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 1.5rem;
    }

    .category-btn.primary {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      background: linear-gradient(135deg, #40e0d0, #22c55e);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 700;
      transition: all 0.3s ease;
      margin-bottom: 1rem;
    }

    .category-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.4);
    }

    .category-links {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .link-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      background: rgba(64, 224, 208, 0.1);
      color: #40e0d0;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .link-btn:hover {
      background: #40e0d0;
      color: #0a0e27;
    }

    /* Pulse Ring Animation */
    @keyframes pulse-ring {
      0% {
        transform: scale(0.33);
        opacity: 1;
      }
      40%, 50% {
        opacity: 0.7;
      }
      100% {
        transform: scale(1);
        opacity: 0;
      }
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .metrics-dashboard {
        gap: 1.5rem;
      }

      .header-actions {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .system-overview {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }

      .system-metrics {
        flex-direction: column;
        gap: 0.5rem;
      }

      .metric-card {
        padding: 1rem;
      }

      .metric-header {
        margin-bottom: 0.75rem;
      }

      .metric-value {
        font-size: 1.5rem;
      }

      .category-header {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
      }

      .category-icon {
        width: 50px;
        height: 50px;
        font-size: 2rem;
      }

      .category-footer {
        flex-direction: column;
      }

      .category-links {
        justify-content: center;
      }
    }
  `;
}

function getApiOverviewScripts(): string {
  return `
    // Enterprise API Management Platform - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiOverview();
    });

    function initializeApiOverview() {
      // Start live updates
      startLiveUpdates();

      // Initialize components
      updateEndpointStatus();

      // Setup event listeners
      setupEventListeners();

      // Initialize enhanced features
      initializeMetricsDashboard();
      initializePerformanceChart();
      initializeCategoryNavigation();
    }

    function startLiveUpdates() {
      // Update timestamps every second
      setInterval(() => {
        updateLastUpdated();
      }, 1000);

      // Update metrics every 30 seconds
      setInterval(() => {
        updateLiveMetrics();
      }, 30000);
    }

    function updateLastUpdated() {
      const lastUpdateElement = document.getElementById('lastUpdate');
      if (lastUpdateElement) {
        lastUpdateElement.textContent = new Date().toLocaleTimeString();
      }
    }

    function updateLiveMetrics() {
      // Simulate real-time metric updates
      const metricCards = document.querySelectorAll('.metric-card');
      metricCards.forEach(card => {
        // Add subtle animation to indicate update
        card.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
          card.style.animation = '';
        }, 500);
      });
    }

    function updateEndpointStatus() {
      // Simulate endpoint status updates
      const statusBadges = document.querySelectorAll('.status-badge');
      statusBadges.forEach(badge => {
        // Occasionally change status for demo
        if (Math.random() < 0.1) {
          const currentStatus = badge.classList.contains('status-success') ? 'error' : 'success';
          badge.className = \`status-badge status-\${currentStatus}\`;
          badge.textContent = currentStatus === 'success' ? '200' : '500';
        }
      });
    }

    function setupEventListeners() {
      // Quick action buttons
      document.querySelectorAll('.quick-action-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.querySelector('.action-text').textContent;
          handleQuickAction(action);
        });
      });
    }

    // Global functions for button onclick handlers
    function viewEndpointDetails(endpoint) {
      alert(\`ğŸ” Endpoint Details: \${endpoint}\\\\n\\\\nğŸ“Š Performance Metrics:\\\\nâ€¢ Response Time: 142ms\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Daily Calls: 15.2K\\\\nâ€¢ Error Rate: 0.1%\\\\n\\\\nğŸ“‹ Recent Activity:\\\\nâ€¢ Last Call: 2 seconds ago\\\\nâ€¢ Peak Usage: 8:30 PM\\\\nâ€¢ Avg Payload: 2.3KB\\\\n\\\\nğŸ”§ Configuration:\\\\nâ€¢ Rate Limit: 1000/min\\\\nâ€¢ Timeout: 30s\\\\nâ€¢ Caching: Enabled\`);
    }

    function testEndpoint(endpoint) {
      alert(\`ğŸ§ª Testing Endpoint: \${endpoint}\\\\n\\\\nğŸ”„ Sending test request...\\\\nâœ… Response: 200 OK\\\\nâš¡ Response Time: 89ms\\\\nğŸ“Š Payload Size: 1.2KB\\\\n\\\\nğŸ›¡ï¸ Security Check: Passed\\\\nğŸ”’ Authentication: Valid\\\\nğŸ“‹ Validation: Successful\\\\n\\\\nâœ… Endpoint is healthy and responding correctly.\`);
    }

    function createNewApi() {
      alert('â• Create New API\\\\n\\\\nğŸš€ API Creation Wizard\\\\n\\\\nStep 1: Define API\\\\nâ€¢ Name: Fantasy Sports API\\\\nâ€¢ Version: v2.0\\\\nâ€¢ Base Path: /api/v2/fantasy\\\\n\\\\nStep 2: Configure Endpoints\\\\nâ€¢ GET /sports - List sports\\\\nâ€¢ GET /sports/{id}/odds - Get odds\\\\nâ€¢ POST /bets - Place bet\\\\n\\\\nStep 3: Set Policies\\\\nâ€¢ Rate Limit: 1000/min\\\\nâ€¢ Authentication: JWT\\\\nâ€¢ CORS: Enabled\\\\n\\\\nâœ… API created successfully!\\\\nğŸ”— Endpoint: /api/v2/fantasy');
    }

    function generateApiKey() {
      const apiKey = 'sk_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
      alert(\`ğŸ”‘ API Key Generated\\\\n\\\\nğŸ” New API Key:\\\\n\${apiKey}\\\\n\\\\nâš ï¸ Important:\\\\nâ€¢ Keep this key secure\\\\nâ€¢ Never share in public\\\\nâ€¢ Rotate regularly\\\\nâ€¢ Monitor usage\\\\n\\\\nğŸ“‹ Key Details:\\\\nâ€¢ Created: \${new Date().toLocaleString()}\\\\nâ€¢ Expires: Never\\\\nâ€¢ Rate Limit: 1000/min\\\\nâ€¢ Permissions: Read/Write\\\\n\\\\nâœ… Key copied to clipboard\`);
    }

    async function runHealthCheck() {
      try {
        // Fetch real statistics from the logs API
        const response = await fetch('/api/logs?limit=1&hours=24');
        const logData = await response.json();
        const stats = logData.statistics;

        const performanceMetrics = 'â€¢ Response Time: ' + stats.avgResponseTime + 'ms\\nâ€¢ Success Rate: ' + stats.successRate + '%\\nâ€¢ Uptime: 99.9%\\nâ€¢ Error Rate: ' + (100 - parseFloat(stats.successRate)).toFixed(1) + '%';

        alert('ğŸ’š API Health Check\\n\\nğŸ” Scanning all endpoints...\\n\\nâœ… API Gateway: Healthy\\nâœ… Authentication: Working\\nâœ… Database: Connected\\nâœ… Cache: Operational\\nâœ… Monitoring: Active\\n\\nğŸ“Š Performance:\\n' + performanceMetrics + '\\n\\nğŸ›¡ï¸ Security:\\nâ€¢ SSL: Active\\nâ€¢ Firewall: Enabled\\nâ€¢ DDoS Protection: Active\\nâ€¢ Encryption: AES-256\\n\\nâœ… All systems operational!');

      } catch (error) {
        console.error('Error fetching health check data:', error);
        // Fallback to original hardcoded data
        alert('ğŸ’š API Health Check\\\\n\\\\nğŸ” Scanning all endpoints...\\\\n\\\\nâœ… API Gateway: Healthy\\\\nâœ… Authentication: Working\\\\nâœ… Database: Connected\\\\nâœ… Cache: Operational\\\\nâœ… Monitoring: Active\\\\n\\\\nğŸ“Š Performance:\\\\nâ€¢ Response Time: 142ms\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Uptime: 99.9%\\\\nâ€¢ Error Rate: 0.1%\\\\n\\\\nğŸ›¡ï¸ Security:\\\\nâ€¢ SSL: Active\\\\nâ€¢ Firewall: Enabled\\\\nâ€¢ DDoS Protection: Active\\\\nâ€¢ Encryption: AES-256\\\\n\\\\nâœ… All systems operational!');
      }
    }

    async function viewApiLogs() {
      try {
        // Fetch real log data from the API
        const response = await fetch('/api/logs?limit=5&hours=24');
        const logData = await response.json();

        // Format recent activity
        const recentActivity = logData.recentActivity.map(function(log) {
          return '[' + log.timestamp + '] ' + log.method + ' ' + log.endpoint + ' - ' + log.status;
        }).join('\\n');

        // Format log statistics
        const stats = logData.statistics;
        const logStats = 'â€¢ Total Requests: ' + stats.totalRequests.toLocaleString() + '\\nâ€¢ Success Rate: ' + stats.successRate + '%\\nâ€¢ Peak Hour: ' + stats.peakHour + '\\nâ€¢ Avg Response: ' + stats.avgResponseTime + 'ms';

        // Format log management info
        const metadata = logData.metadata;
        const logManagement = 'â€¢ Retention: ' + metadata.retentionDays + ' days\\nâ€¢ Storage: ' + metadata.storageSize + '\\nâ€¢ Compression: ' + (metadata.compressionEnabled ? 'Enabled' : 'Disabled') + '\\nâ€¢ Export: ' + (metadata.exportAvailable ? 'Available' : 'Unavailable');

        alert('ğŸ“‹ API Logs & Activity\\n\\nğŸ” Recent API Activity:\\n\\n' + recentActivity + '\\n\\nğŸ“Š Log Statistics:\\n' + logStats + '\\n\\nğŸ”§ Log Management:\\n' + logManagement);

      } catch (error) {
        console.error('Error fetching API logs:', error);
        // Fallback to the original hardcoded data if fetch fails
        alert('ğŸ“‹ API Logs & Activity\\\\n\\\\nğŸ” Recent API Activity:\\\\n\\\\n[14:32:15] GET /api/v2/clients - 200 OK\\\\n[14:31:42] POST /api/v2/bets - 201 Created\\\\n[14:30:18] GET /api/v2/analytics - 200 OK\\\\n[14:29:55] PUT /api/v2/profiles - 200 OK\\\\n[14:28:33] GET /api/v2/health - 200 OK\\\\n\\\\nğŸ“Š Log Statistics:\\\\nâ€¢ Total Requests: 47,231\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Peak Hour: 8:00 PM\\\\nâ€¢ Avg Response: 142ms\\\\n\\\\nğŸ”§ Log Management:\\\\nâ€¢ Retention: 90 days\\\\nâ€¢ Storage: 2.3GB\\\\nâ€¢ Compression: Enabled\\\\nâ€¢ Export: Available\');
      }
    }

    function exportApiData() {
      alert('ğŸ“¤ API Data Export\\\\n\\\\nğŸ“Š Export Options:\\\\n\\\\nğŸ“‹ Available Datasets:\\\\nâ€¢ API Usage Analytics\\\\nâ€¢ Endpoint Performance\\\\nâ€¢ Error Logs\\\\nâ€¢ Security Events\\\\nâ€¢ Rate Limiting Data\\\\n\\\\nğŸ“ Export Formats:\\\\nâ€¢ JSON (Structured)\\\\nâ€¢ CSV (Spreadsheet)\\\\nâ€¢ PDF (Report)\\\\nâ€¢ Excel (Analysis)\\\\n\\\\nğŸ“… Date Range:\\\\nâ€¢ Last 24 hours\\\\nâ€¢ Last 7 days\\\\nâ€¢ Last 30 days\\\\nâ€¢ Custom range\\\\n\\\\nâ³ Exporting...\\\\nâœ… Files generated:\\\\nğŸ“ api_usage_2025-01-29.json\\\\nğŸ“ performance_report.pdf\\\\nğŸ“ security_audit.xlsx\');
    }

    function configureWebhook() {
      alert('ğŸ”— Webhook Configuration\\\\n\\\\nğŸª Webhook Management\\\\n\\\\nğŸ“¡ Active Webhooks:\\\\nâ€¢ Bet Placed (12 endpoints)\\\\nâ€¢ Game Started (8 endpoints)\\\\nâ€¢ Payout Processed (15 endpoints)\\\\nâ€¢ Error Alert (5 endpoints)\\\\n\\\\nâ• Create New Webhook:\\\\n\\\\nEvent: Payment Received\\\\nURL: https://api.client.com/webhook\\\\nMethod: POST\\\\nHeaders: Authorization, Content-Type\\\\nSecret: whsec_...\\\\n\\\\nâœ… Webhook created!\\\\nğŸ”— ID: wh_1234567890\\\\nğŸ“Š Status: Active\\\\nâš¡ Test sent successfully\');
    }

    // New enhanced quick action functions
    async function fetchApiEndpoint(endpoint) {
      try {
        console.log('Fetching API endpoint:', endpoint);
        const response = await fetch(endpoint);
        const data = await response.json();

        if (response.ok) {
          // Format the response for display
          const formattedData = JSON.stringify(data, null, 2);
          alert(`âœ… ${endpoint.toUpperCase()}\\n\\nğŸ“Š Response Data:\\n${formattedData.substring(0, 500)}${formattedData.length > 500 ? '\\n... (truncated)' : ''}`);
        } else {
          alert(`âŒ ${endpoint.toUpperCase()}\\n\\nError: ${data.error || 'Unknown error'}\\nStatus: ${response.status}`);
        }
      } catch (error) {
        console.error('Error fetching API endpoint:', error);
        alert(`âŒ ${endpoint.toUpperCase()}\\n\\nNetwork Error: ${error.message}`);
      }
    }

    async function clearCache() {
      try {
        console.log('Clearing API cache...');
        const response = await fetch('/api/cache/clear', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        });

        const data = await response.json();

        if (response.ok) {
          alert(`ğŸ§¹ Cache Cleared Successfully!\\n\\nğŸ“Š Cache Statistics:\\nâ€¢ Previous Size: ${data.previousStats?.size || 'Unknown'}\\\\nâ€¢ New Size: ${data.newStats?.size || 'Unknown'}\\\\nâ€¢ Cleared By: ${data.clearedBy}\\\\nâ€¢ Timestamp: ${new Date(data.timestamp).toLocaleString()}`);
        } else {
          alert(`âŒ Cache Clear Failed\\n\\nError: ${data.error || 'Unknown error'}\\nCode: ${data.code || response.status}`);
        }
      } catch (error) {
        console.error('Error clearing cache:', error);
        alert(`âŒ Cache Clear Failed\\n\\nNetwork Error: ${error.message}`);
      }
    }

    function handleQuickAction(action) {
      switch(action) {
        case 'Create API':
          createNewApi();
          break;
        case 'Generate Key':
          generateApiKey();
          break;
        case 'Health Check':
          runHealthCheck();
          break;
        case 'View Logs':
          viewApiLogs();
          break;
        case 'Export Data':
          exportApiData();
          break;
        case 'Webhooks':
          configureWebhook();
          break;
      }
    }
  `;
}

function generateApiGatewayContent(employee: EmployeeData): string {
  const gatewayMetrics = [
    { label: 'Total Routes', value: '247', change: '+12', trend: 'up' },
    { label: 'Active Connections', value: '1,234', change: '+8.3%', trend: 'up' },
    { label: 'Requests/Min', value: '2,847', change: '+15.2%', trend: 'up' },
    { label: 'Avg Latency', value: '142ms', change: '-12ms', trend: 'up' }
  ];

  const activeRoutes = [
    { path: '/api/v2/clients', method: 'GET', hits: '15.2K', status: '200', target: 'Client Service' },
    { path: '/api/v2/bets', method: 'POST', hits: '8.9K', status: '201', target: 'Betting Service' },
    { path: '/api/v2/analytics', method: 'GET', hits: '12.4K', status: '200', target: 'Analytics Service' },
    { path: '/api/v2/profiles', method: 'PUT', hits: '4.7K', status: '200', target: 'User Service' },
    { path: '/api/v2/health', method: 'GET', hits: '892', status: '200', target: 'Health Service' }
  ];

  const rateLimits = [
    { endpoint: '/api/v2/bets', limit: '1000/min', used: '234', status: 'normal' },
    { endpoint: '/api/v2/analytics', limit: '500/min', used: '89', status: 'normal' },
    { endpoint: '/api/v2/clients', limit: '2000/min', used: '456', status: 'normal' },
    { endpoint: '/api/v2/profiles', limit: '300/min', used: '67', status: 'normal' }
  ];

  return `
    <div class="api-gateway-container">
      <style>
        ${getApiGatewayStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸšª API Gateway Management</h1>
          <p>Centralized API routing, traffic management, and request orchestration</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              Gateway Online - All Routes Active
            </div>
            <div class="last-update">Last updated: <span id="gatewayLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Enhanced Gateway Performance Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš¡ Gateway Performance</h2>
          <p>Real-time API gateway metrics and traffic statistics</p>
          <div class="header-actions">
            <button class="refresh-btn" onclick="refreshGatewayMetrics()">
              <span class="refresh-icon">ğŸ”„</span>
              Refresh
            </button>
            <div class="gateway-status">
              <div class="status-indicator online">
                <span class="pulse"></span>
              </div>
              <span class="status-text">All Systems Operational</span>
            </div>
          </div>
        </div>

        <!-- Performance Overview Cards -->
        <div class="performance-overview">
          <div class="overview-cards">
            ${gatewayMetrics.map((metric, index) => `
              <div class="overview-card" onclick="showMetricDetails('${metric.label}')">
                <div class="card-header">
                  <div class="metric-icon">${metric.label === 'Total Routes' ? 'ğŸ”Œ' : metric.label === 'Active Connections' ? 'ğŸŒ' : metric.label === 'Requests/Min' ? 'ğŸ“¡' : 'âš¡'}</div>
                  <div class="metric-sparkline">
                    <svg width="60" height="20" viewBox="0 0 60 20">
                      <path d="M0,15 Q15,${10 + index * 2} 30,${8 + index * 1.5} T60,${12 + index * 1.8}" stroke="#40e0d0" stroke-width="2" fill="none"/>
                    </svg>
                  </div>
                </div>
                <div class="card-content">
                  <div class="metric-value">${metric.value}</div>
                  <div class="metric-label">${metric.label}</div>
                  <div class="metric-change ${metric.trend}">
                    <span class="change-icon">${metric.trend === 'up' ? 'â†—ï¸' : 'â†˜ï¸'}</span>
                    <span class="change-value">${metric.change}</span>
                  </div>
                </div>
                <div class="card-footer">
                  <div class="metric-target">Target: ${metric.label === 'Avg Latency' ? '< 150ms' : 'Optimal'}</div>
                  <div class="metric-status ${metric.trend === 'up' ? 'good' : 'warning'}">${metric.trend === 'up' ? 'On Track' : 'Monitor'}</div>
                </div>
              </div>
            `).join('')}
          </div>

          <!-- Traffic Flow Visualization -->
          <div class="traffic-visualization">
            <div class="viz-header">
              <h3>ğŸŒŠ Real-time Traffic Flow</h3>
              <div class="viz-controls">
                <button class="viz-btn active" onclick="setTrafficView('requests')">Requests</button>
                <button class="viz-btn" onclick="setTrafficView('latency')">Latency</button>
                <button class="viz-btn" onclick="setTrafficView('errors')">Errors</button>
              </div>
            </div>
            <div class="traffic-chart">
              <div class="chart-placeholder">
                <div class="chart-icon">ğŸ“ˆ</div>
                <div class="chart-text">Live traffic visualization</div>
                <div class="chart-bars">
                  <div class="bar" style="height: 40%"></div>
                  <div class="bar" style="height: 60%"></div>
                  <div class="bar" style="height: 80%"></div>
                  <div class="bar" style="height: 55%"></div>
                  <div class="bar" style="height: 70%"></div>
                  <div class="bar" style="height: 45%"></div>
                  <div class="bar" style="height: 85%"></div>
                  <div class="bar" style="height: 65%"></div>
                  <div class="bar" style="height: 75%"></div>
                  <div class="bar" style="height: 50%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Advanced Route Management -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›£ï¸ Route Management</h2>
          <p>Interactive API route configuration and traffic management</p>
          <div class="header-actions">
            <button class="action-btn primary" onclick="addNewRoute()">
              <span class="btn-icon">â•</span>
              Add Route
            </button>
            <button class="action-btn secondary" onclick="bulkRouteActions()">
              <span class="btn-icon">âš™ï¸</span>
              Bulk Actions
            </button>
            <div class="route-filters">
              <select id="methodFilter" onchange="filterRoutes()">
                <option value="">All Methods</option>
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
                <option value="DELETE">DELETE</option>
              </select>
              <input type="text" id="routeSearch" placeholder="Search routes..." onkeyup="filterRoutes()">
            </div>
          </div>
        </div>

        <!-- Route Statistics -->
        <div class="route-stats">
          <div class="stat-card">
            <div class="stat-icon">ğŸ”Œ</div>
            <div class="stat-content">
              <div class="stat-value">${activeRoutes.length}</div>
              <div class="stat-label">Active Routes</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ“Š</div>
            <div class="stat-content">
              <div class="stat-value">${activeRoutes.reduce((sum, route) => sum + parseFloat(route.hits.replace('K', '000')), 0)}K+</div>
              <div class="stat-label">Total Hits Today</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">âœ…</div>
            <div class="stat-content">
              <div class="stat-value">99.8%</div>
              <div class="stat-label">Route Health</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">âš¡</div>
            <div class="stat-content">
              <div class="stat-value">142ms</div>
              <div class="stat-label">Avg Response</div>
            </div>
          </div>
        </div>

        <!-- Interactive Routes Table -->
        <div class="routes-container">
          <div class="routes-table" id="routesTable">
            <div class="table-header">
              <div class="table-cell">
                <input type="checkbox" id="selectAllRoutes" onchange="toggleSelectAll()">
              </div>
              <div class="table-cell">Method</div>
              <div class="table-cell">Route</div>
              <div class="table-cell">Traffic</div>
              <div class="table-cell">Status</div>
              <div class="table-cell">Target</div>
              <div class="table-cell">Actions</div>
            </div>
            ${activeRoutes.map((route, index) => `
              <div class="table-row" data-route="${route.path}">
                <div class="table-cell">
                  <input type="checkbox" class="route-checkbox" data-route="${route.path}">
                </div>
                <div class="table-cell">
                  <span class="method-badge method-${route.method.toLowerCase()}">${route.method}</span>
                </div>
                <div class="table-cell route-path">
                  <div class="route-name">${route.path}</div>
                  <div class="route-traffic-bar">
                    <div class="traffic-fill" style="width: ${Math.min(100, (parseFloat(route.hits.replace('K', '')) / 20) * 100)}%"></div>
                  </div>
                </div>
                <div class="table-cell">
                  <div class="traffic-metric">
                    <div class="traffic-value">${route.hits}</div>
                    <div class="traffic-change ${Math.random() > 0.5 ? 'up' : 'down'}">
                      ${Math.random() > 0.5 ? '+' : ''}${Math.floor(Math.random() * 20) + 5}%
                    </div>
                  </div>
                </div>
                <div class="table-cell">
                  <span class="status-badge status-${route.status.startsWith('2') ? 'success' : 'error'}">
                    ${route.status}
                  </span>
                </div>
                <div class="table-cell">
                  <div class="target-info">
                    <div class="target-name">${route.target}</div>
                    <div class="target-health ${Math.random() > 0.7 ? 'degraded' : 'healthy'}">
                      â— ${Math.random() > 0.7 ? 'Degraded' : 'Healthy'}
                    </div>
                  </div>
                </div>
                <div class="table-cell">
                  <div class="route-actions">
                    <button class="action-btn small" onclick="editRoute('${route.path}')" title="Edit Route">
                      âœï¸
                    </button>
                    <button class="action-btn small" onclick="viewRouteMetrics('${route.path}')" title="View Metrics">
                      ğŸ“Š
                    </button>
                    <button class="action-btn small ${route.status === '200' ? 'danger' : 'secondary'}" onclick="toggleRoute('${route.path}')" title="${route.status === '200' ? 'Disable' : 'Enable'} Route">
                      ${route.status === '200' ? 'ğŸ”´' : 'ğŸŸ¢'}
                    </button>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>

          <!-- Route Configuration Panel -->
          <div class="route-config-panel" id="routeConfigPanel" style="display: none;">
            <div class="config-header">
              <h3>ğŸ”§ Route Configuration</h3>
              <button class="close-btn" onclick="closeRouteConfig()">Ã—</button>
            </div>
            <div class="config-content" id="configContent">
              <!-- Dynamic content loaded here -->
            </div>
          </div>
        </div>
      </div>

      <!-- Rate Limiting -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš¦ Rate Limiting</h2>
          <p>API rate limits and usage monitoring</p>
        </div>

        <div class="rate-limits-grid">
          ${rateLimits.map(limit => `
            <div class="rate-limit-card ${limit.status}">
              <div class="rate-limit-header">
                <h3>${limit.endpoint}</h3>
                <div class="rate-limit-status ${limit.status}">
                  ${limit.status.toUpperCase()}
                </div>
              </div>
              <div class="rate-limit-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: ${(parseInt(limit.used) / parseInt(limit.limit.split('/')[0])) * 100}%"></div>
                </div>
                <div class="progress-text">${limit.used} / ${limit.limit}</div>
              </div>
              <div class="rate-limit-actions">
                <button class="action-btn small" onclick="adjustLimit('${limit.endpoint}')">Adjust</button>
                <button class="action-btn small secondary" onclick="viewLimitHistory('${limit.endpoint}')">History</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Gateway Controls -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›ï¸ Gateway Controls</h2>
          <p>Advanced gateway management and configuration</p>
        </div>

        <div class="control-panels">
          <div class="control-panel">
            <div class="panel-header">
              <div class="panel-icon">ğŸ”„</div>
              <h3>Traffic Management</h3>
            </div>
            <div class="panel-controls">
              <button class="control-btn" onclick="enableMaintenanceMode()">Maintenance Mode</button>
              <button class="control-btn secondary" onclick="adjustLoadBalancer()">Load Balancer</button>
              <button class="control-btn secondary" onclick="configureCircuitBreaker()">Circuit Breaker</button>
            </div>
          </div>

          <div class="control-panel">
            <div class="panel-header">
              <div class="panel-icon">ğŸ”’</div>
              <h3>Security Policies</h3>
            </div>
            <div class="panel-controls">
              <button class="control-btn" onclick="configureCors()">CORS Policy</button>
              <button class="control-btn secondary" onclick="setupIpWhitelist()">IP Whitelist</button>
              <button class="control-btn secondary" onclick="configureApiKeys()">API Keys</button>
            </div>
          </div>

          <div class="control-panel">
            <div class="panel-header">
              <div class="panel-icon">ğŸ“Š</div>
              <h3>Monitoring</h3>
            </div>
            <div class="panel-controls">
              <button class="control-btn" onclick="enableTracing()">Request Tracing</button>
              <button class="control-btn secondary" onclick="setupAlerts()">Alert Rules</button>
              <button class="control-btn secondary" onclick="viewLogs()">Access Logs</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Service Discovery -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ” Service Discovery</h2>
          <p>Backend service registration and health monitoring</p>
        </div>

        <div class="service-discovery">
          <div class="service-card">
            <div class="service-header">
              <h3>Client Service</h3>
              <div class="service-status healthy">â— Healthy</div>
            </div>
            <div class="service-info">
              <div class="service-metric">Endpoints: 12</div>
              <div class="service-metric">Response: 89ms</div>
              <div class="service-metric">Load: 67%</div>
            </div>
          </div>

          <div class="service-card">
            <div class="service-header">
              <h3>Betting Service</h3>
              <div class="service-status healthy">â— Healthy</div>
            </div>
            <div class="service-info">
              <div class="service-metric">Endpoints: 8</div>
              <div class="service-metric">Response: 134ms</div>
              <div class="service-metric">Load: 45%</div>
            </div>
          </div>

          <div class="service-card">
            <div class="service-header">
              <h3>Analytics Service</h3>
              <div class="service-status healthy">â— Healthy</div>
            </div>
            <div class="service-info">
              <div class="service-metric">Endpoints: 15</div>
              <div class="service-metric">Response: 156ms</div>
              <div class="service-metric">Load: 78%</div>
            </div>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/monitoring" class="nav-btn primary">
          <span class="btn-icon">ğŸ“Š</span>
          Monitoring
        </a>
        <a href="/api/security" class="nav-btn accent">
          <span class="btn-icon">ğŸ”’</span>
          Security
        </a>
      </div>
    </div>

    <script>
      ${getApiGatewayScripts()}
    </script>
  `;
}

function getApiGatewayStyles(): string {
  return `
    .api-gateway-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .metric-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .metric-card.up {
      border-left: 4px solid #22c55e;
    }

    .routes-table, .rate-limits-grid {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
      margin-top: 2rem;
    }

    .table-header {
      display: grid;
      grid-template-columns: 100px 3fr 1fr 100px 1fr 150px;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      font-weight: 600;
      color: #e0e6ed;
    }

    .table-row {
      display: grid;
      grid-template-columns: 100px 3fr 1fr 100px 1fr 150px;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background 0.2s ease;
    }

    .table-row:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .method-badge {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      color: white;
    }

    .method-get {
      background: #22c55e;
    }

    .method-post {
      background: #3b82f6;
    }

    .method-put {
      background: #f59e0b;
    }

    .method-delete {
      background: #ef4444;
    }

    .route-path, .endpoint-path {
      color: #40e0d0;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .status-badge {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .status-success {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .status-error {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .rate-limit-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .rate-limit-card.normal {
      border-color: rgba(34, 197, 94, 0.3);
    }

    .rate-limit-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .rate-limit-header h3 {
      color: #e0e6ed;
      font-size: 1rem;
    }

    .rate-limit-status {
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .rate-limit-progress {
      margin-bottom: 1rem;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 0.5rem;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ffd700, #ff6b35);
      transition: width 0.3s ease;
    }

    .progress-text {
      font-size: 0.8rem;
      color: #a0a9b8;
    }

    .control-panels {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .control-panel {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .panel-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .panel-icon {
      font-size: 2rem;
    }

    .panel-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .panel-controls {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .control-btn {
      padding: 0.75rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .control-btn:not(.secondary) {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .control-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .control-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .service-discovery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .service-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .service-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .service-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .service-status {
      color: #22c55e;
      font-weight: 600;
    }

    .service-info {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .service-metric {
      font-size: 0.9rem;
      color: #a0a9b8;
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-gateway-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .control-panels {
        grid-template-columns: 1fr;
      }

      .service-discovery {
        grid-template-columns: 1fr;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }

      /* Enhanced Performance Dashboard */
      .performance-overview {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
      }

      .overview-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }

      .overview-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .overview-card:hover {
        transform: translateY(-5px);
        border-color: #40e0d0;
        box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .metric-sparkline {
        opacity: 0.7;
      }

      .card-content {
        margin-bottom: 1rem;
      }

      .card-footer {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .metric-target,
      .metric-status {
        font-size: 0.8rem;
        color: #a0a9b8;
      }

      .metric-status.good {
        color: #22c55e;
      }

      .metric-status.warning {
        color: #f59e0b;
      }

      /* Traffic Visualization */
      .traffic-visualization {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.2);
      }

      .viz-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .viz-header h3 {
        color: #e0e6ed;
        margin: 0;
      }

      .viz-controls {
        display: flex;
        gap: 0.5rem;
      }

      .viz-btn {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(64, 224, 208, 0.1);
        color: #40e0d0;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .viz-btn:hover,
      .viz-btn.active {
        background: #40e0d0;
        color: #0a0e27;
      }

      .traffic-chart {
        height: 200px;
        position: relative;
      }

      .chart-placeholder {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #a0a9b8;
      }

      .chart-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.5;
      }

      .chart-text {
        font-size: 0.9rem;
        margin-bottom: 1rem;
      }

      .chart-bars {
        display: flex;
        align-items: end;
        justify-content: center;
        gap: 4px;
        height: 60px;
      }

      .bar {
        width: 8px;
        background: linear-gradient(135deg, #40e0d0, #22c55e);
        border-radius: 4px;
        animation: barPulse 2s ease-in-out infinite;
      }

      .bar:nth-child(odd) {
        animation-delay: 0.2s;
      }

      .bar:nth-child(even) {
        animation-delay: 0.4s;
      }

      @keyframes barPulse {
        0%, 100% { opacity: 0.7; transform: scaleY(1); }
        50% { opacity: 1; transform: scaleY(1.1); }
      }

      /* Enhanced Route Management */
      .route-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .stat-card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1rem;
        border: 1px solid rgba(64, 224, 208, 0.2);
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .stat-icon {
        font-size: 2rem;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(64, 224, 208, 0.1);
        border-radius: 50%;
      }

      .stat-content {
        flex: 1;
      }

      .stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #e0e6ed;
      }

      .stat-label {
        font-size: 0.85rem;
        color: #a0a9b8;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .route-filters {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .route-filters select,
      .route-filters input {
        padding: 0.5rem 1rem;
        border-radius: 8px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(255, 255, 255, 0.05);
        color: #e0e6ed;
        font-size: 0.9rem;
      }

      .route-filters input:focus,
      .route-filters select:focus {
        outline: none;
        border-color: #40e0d0;
      }

      .routes-container {
        position: relative;
      }

      .route-checkbox {
        width: 16px;
        height: 16px;
        accent-color: #40e0d0;
      }

      .route-path {
        max-width: 300px;
      }

      .route-name {
        color: #e0e6ed;
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }

      .route-traffic-bar {
        width: 100%;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        overflow: hidden;
      }

      .traffic-fill {
        height: 100%;
        background: linear-gradient(90deg, #22c55e, #40e0d0);
        border-radius: 2px;
        transition: width 0.3s ease;
      }

      .traffic-metric {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .traffic-value {
        color: #e0e6ed;
        font-weight: 600;
      }

      .traffic-change {
        font-size: 0.8rem;
        font-weight: 600;
      }

      .traffic-change.up {
        color: #22c55e;
      }

      .traffic-change.down {
        color: #ef4444;
      }

      .target-info {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .target-name {
        color: #e0e6ed;
        font-weight: 600;
      }

      .target-health {
        font-size: 0.8rem;
        font-weight: 600;
      }

      .target-health.healthy {
        color: #22c55e;
      }

      .target-health.degraded {
        color: #f59e0b;
      }

      .route-actions {
        display: flex;
        gap: 0.5rem;
      }

      .route-actions .action-btn {
        width: 32px;
        height: 32px;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
      }

      .route-config-panel {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(26, 31, 58, 0.95);
        border-radius: 16px;
        padding: 2rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        z-index: 1000;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
      }

      .config-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .config-header h3 {
        color: #e0e6ed;
        margin: 0;
      }

      .close-btn {
        background: none;
        border: none;
        color: #a0a9b8;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .close-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        color: #e0e6ed;
      }

      /* Enhanced Rate Limiting */
      .rate-limits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 1.5rem;
        margin-top: 2rem;
      }

      .rate-limit-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        transition: all 0.3s ease;
      }

      .rate-limit-card.normal {
        border-color: rgba(34, 197, 94, 0.3);
      }

      .rate-limit-card.warning {
        border-color: rgba(245, 158, 11, 0.3);
      }

      .rate-limit-card.critical {
        border-color: rgba(239, 68, 68, 0.3);
      }

      .rate-limit-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
      }

      .rate-limit-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .rate-limit-header h3 {
        color: #e0e6ed;
        margin: 0;
        font-size: 1.1rem;
      }

      .rate-limit-status {
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
      }

      .rate-limit-status.normal {
        background: rgba(34, 197, 94, 0.2);
        color: #22c55e;
      }

      .rate-limit-status.warning {
        background: rgba(245, 158, 11, 0.2);
        color: #f59e0b;
      }

      .rate-limit-progress {
        margin-bottom: 1rem;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 0.5rem;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #22c55e, #40e0d0);
        border-radius: 4px;
        transition: width 0.3s ease;
      }

      .progress-fill.warning {
        background: linear-gradient(90deg, #f59e0b, #f97316);
      }

      .progress-fill.critical {
        background: linear-gradient(90deg, #ef4444, #dc2626);
      }

      .progress-text {
        font-size: 0.9rem;
        color: #a0a9b8;
        text-align: center;
      }

      .rate-limit-actions {
        display: flex;
        gap: 0.75rem;
      }

      /* Mobile Responsive Enhancements */
      @media (max-width: 768px) {
        .performance-overview {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }

        .overview-cards {
          grid-template-columns: 1fr;
        }

        .route-stats {
          grid-template-columns: repeat(2, 1fr);
          gap: 1rem;
        }

        .route-filters {
          flex-direction: column;
          width: 100%;
        }

        .route-filters select,
        .route-filters input {
          flex: 1;
        }

        .route-config-panel {
          width: 95%;
          max-height: 90vh;
        }

        .rate-limits-grid {
          grid-template-columns: 1fr;
        }

        .control-panels {
          grid-template-columns: 1fr;
        }
      }
    }
  `;
}

function getApiGatewayScripts(): string {
  return `
    // API Gateway Management - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiGateway();
    });

    function initializeApiGateway() {
      startGatewayUpdates();
      setupGatewayListeners();

      // Initialize enhanced features
      initializeGatewayDashboard();
      initializeTrafficVisualization();
      initializeRouteManagement();
      initializeRateLimiting();
    }

    function startGatewayUpdates() {
      setInterval(() => {
        updateGatewayTimestamp();
        updateRouteMetrics();
      }, 1000);
    }

    function updateGatewayTimestamp() {
      const element = document.getElementById('gatewayLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function updateRouteMetrics() {
      // Simulate route metric updates
      const rows = document.querySelectorAll('.table-row');
      rows.forEach(row => {
        if (Math.random() < 0.1) {
          row.style.animation = 'pulse 0.5s ease-in-out';
          setTimeout(() => {
            row.style.animation = '';
          }, 500);
        }
      });
    }

    function setupGatewayListeners() {
      // Route management buttons
      document.querySelectorAll('.action-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          const route = this.closest('.table-row').querySelector('.route-path').textContent;
          handleRouteAction(action, route);
        });
      });
    }

    // Global functions for button onclick handlers
    function editRoute(route) {
      alert(\`ğŸ”§ Edit Route: \${route}\\\\n\\\\nğŸ“ Route Configuration:\\\\n\\\\nCurrent Settings:\\\\nâ€¢ Method: GET, POST, PUT\\\\nâ€¢ Target: Client Service\\\\nâ€¢ Rate Limit: 1000/min\\\\nâ€¢ Timeout: 30s\\\\nâ€¢ Authentication: JWT\\\\n\\\\nâœï¸ Edit Options:\\\\nâ€¢ Change target service\\\\nâ€¢ Adjust rate limits\\\\nâ€¢ Modify authentication\\\\nâ€¢ Update timeout settings\\\\nâ€¢ Configure caching\\\\n\\\\nâœ… Changes saved successfully!\`);
    }

    function viewRouteMetrics(route) {
      alert(\`ğŸ“Š Route Metrics: \${route}\\\\n\\\\nğŸ“ˆ Performance Data:\\\\n\\\\nResponse Times:\\\\nâ€¢ Average: 142ms\\\\nâ€¢ 95th percentile: 234ms\\\\nâ€¢ 99th percentile: 456ms\\\\n\\\\nTraffic Volume:\\\\nâ€¢ Daily requests: 15.2K\\\\nâ€¢ Peak hour: 8:00 PM\\\\nâ€¢ Error rate: 0.1%\\\\n\\\\nUsage Patterns:\\\\nâ€¢ Top client: VIP Client #247\\\\nâ€¢ Peak day: Saturday\\\\nâ€¢ Mobile traffic: 67%\\\\n\\\\nğŸ”„ Real-time monitoring active\`);
    }

    function adjustLimit(endpoint) {
      const newLimit = prompt(\`Adjust Rate Limit for \${endpoint}\\\\n\\\\nCurrent: 1000/min\\\\n\\\\nNew limit (requests/min):\`, '1000');
      if (newLimit && !isNaN(newLimit)) {
        alert(\`âœ… Rate limit updated!\\\\n\\\\nEndpoint: \${endpoint}\\\\nOld limit: 1000/min\\\\nNew limit: \${newLimit}/min\\\\n\\\\nğŸ“Š Impact Assessment:\\\\nâ€¢ Expected usage: \${Math.round(newLimit * 0.7)}/min\\\\nâ€¢ Safety margin: 30%\\\\nâ€¢ Auto-scaling: Enabled\\\\n\\\\nğŸ”„ Changes applied to all gateway instances\`);
      }
    }

    function viewLimitHistory(endpoint) {
      alert(\`ğŸ“‹ Rate Limit History: \${endpoint}\\\\n\\\\nğŸ“Š Historical Data:\\\\n\\\\nLast 24 Hours:\\\\nâ€¢ Peak usage: 892/min\\\\nâ€¢ Average usage: 456/min\\\\nâ€¢ Throttled requests: 23\\\\n\\\\nLast 7 Days:\\\\nâ€¢ Highest peak: 1,234/min\\\\nâ€¢ Average daily: 678/min\\\\nâ€¢ Total throttled: 156\\\\n\\\\nğŸ“ˆ Trends:\\\\nâ€¢ Growth rate: +15.3%\\\\nâ€¢ Seasonal peak: Weekends\\\\nâ€¢ Client distribution: 89% VIP\\\\n\\\\nâš™ï¸ Recommendations:\\\\nâ€¢ Current limit adequate\\\\nâ€¢ Monitor weekend usage\\\\nâ€¢ Consider client-specific limits\`);
    }

    function handleRouteAction(action, route) {
      switch(action) {
        case 'Edit':
          editRoute(route);
          break;
        case 'Metrics':
          viewRouteMetrics(route);
          break;
      }
    }

    function enableMaintenanceMode() {
      if (confirm('ğŸ› ï¸ Enable Maintenance Mode?\\\\n\\\\nThis will:\\\\nâ€¢ Return 503 for all requests\\\\nâ€¢ Show maintenance page\\\\nâ€¢ Notify all services\\\\nâ€¢ Preserve user sessions\\\\n\\\\nDuration: Until manually disabled\\\\nImpact: All API traffic affected\\\\n\\\\nAre you sure?')) {
        alert('ğŸ› ï¸ Maintenance Mode Enabled\\\\n\\\\nâœ… All endpoints returning 503\\\\nğŸ“„ Maintenance page active\\\\nğŸ“§ Services notified\\\\nâ° Started: ' + new Date().toLocaleString() + '\\\\n\\\\nğŸ”„ To disable: Use control panel\\\\nğŸ“ Emergency override available\\\\n\\\\nâš ï¸ Monitor system health during maintenance');
      }
    }

    function adjustLoadBalancer() {
      alert('âš–ï¸ Load Balancer Configuration\\\\n\\\\nğŸ”§ Current Setup:\\\\n\\\\nAlgorithm: Round Robin\\\\nInstances: 4 active\\\\nHealth checks: Every 30s\\\\nSession affinity: Disabled\\\\n\\\\nğŸ“Š Performance:\\\\nâ€¢ Total capacity: 10,000 RPS\\\\nâ€¢ Current load: 2,847 RPS\\\\nâ€¢ Utilization: 28%\\\\nâ€¢ Health score: 98/100\\\\n\\\\nâš™ï¸ Quick Actions:\\\\nâ€¢ Add instance (+25% capacity)\\\\nâ€¢ Change algorithm\\\\nâ€¢ Enable sticky sessions\\\\nâ€¢ Update health checks\\\\n\\\\nâœ… Configuration updated!');
    }

    function configureCircuitBreaker() {
      alert('ğŸ”Œ Circuit Breaker Settings\\\\n\\\\nğŸ›¡ï¸ Protection Configuration:\\\\n\\\\nCurrent Settings:\\\\nâ€¢ Failure threshold: 50%\\\\nâ€¢ Recovery timeout: 60s\\\\nâ€¢ Monitoring window: 10 requests\\\\nâ€¢ Half-open max calls: 5\\\\n\\\\nğŸ“Š Circuit Status:\\\\nâ€¢ State: CLOSED (healthy)\\\\nâ€¢ Success rate: 99.9%\\\\nâ€¢ Failures (last 10): 0\\\\nâ€¢ Last failure: Never\\\\n\\\\nâš™ï¸ Configuration Options:\\\\nâ€¢ Adjust failure threshold\\\\nâ€¢ Change recovery timeout\\\\nâ€¢ Modify monitoring window\\\\nâ€¢ Set half-open limits\\\\n\\\\nâœ… Circuit breaker optimized!');
    }

    function configureCors() {
      alert('ğŸŒ CORS Policy Configuration\\\\n\\\\nğŸ”“ Current Policy:\\\\n\\\\nAllowed Origins:\\\\nâ€¢ https://sportsfire.co\\\\nâ€¢ https://*.sportsfire.co\\\\nâ€¢ https://localhost:*\\\\n\\\\nAllowed Methods:\\\\nâ€¢ GET, POST, PUT, DELETE\\\\nâ€¢ OPTIONS (preflight)\\\\n\\\\nAllowed Headers:\\\\nâ€¢ Authorization\\\\nâ€¢ Content-Type\\\\nâ€¢ X-API-Key\\\\nâ€¢ X-Requested-With\\\\n\\\\nğŸ“Š Usage Stats:\\\\nâ€¢ Preflight requests: 2,847/day\\\\nâ€¢ CORS violations: 0\\\\nâ€¢ Blocked origins: 12\\\\n\\\\nâœï¸ Edit Policy:\\\\nâ€¢ Add/remove origins\\\\nâ€¢ Modify headers\\\\nâ€¢ Update methods\\\\nâ€¢ Enable credentials\\\\n\\\\nâœ… CORS policy updated!');
    }

    function setupIpWhitelist() {
      alert('ğŸ“‹ IP Whitelist Management\\\\n\\\\nğŸ”’ Access Control:\\\\n\\\\nCurrent Whitelist:\\\\nâ€¢ 192.168.1.0/24 (Office)\\\\nâ€¢ 10.0.0.0/8 (Internal)\\\\nâ€¢ 172.16.0.0/12 (VPN)\\\\nâ€¢ 203.0.113.0/24 (Partners)\\\\n\\\\nğŸ“Š Access Stats:\\\\nâ€¢ Total IPs: 1,247\\\\nâ€¢ Active today: 892\\\\nâ€¢ Blocked attempts: 34\\\\nâ€¢ Top source: Office network\\\\n\\\\nâ• Add IP/Network:\\\\nâ€¢ Single IP: 192.168.1.100\\\\nâ€¢ CIDR Block: 192.168.2.0/24\\\\nâ€¢ IP Range: 192.168.3.1-192.168.3.254\\\\n\\\\nğŸ—‘ï¸ Remove Entries:\\\\nâ€¢ Select and delete\\\\nâ€¢ Bulk operations\\\\nâ€¢ Temporary blocks\\\\n\\\\nâœ… IP whitelist updated!');
    }

    function configureApiKeys() {
      alert('ğŸ”‘ API Key Management\\\\n\\\\nğŸ—ï¸ Key Inventory:\\\\n\\\\nActive Keys: 247\\\\nTotal Issued: 892\\\\nExpired: 23\\\\nRevoked: 12\\\\n\\\\nğŸ” Key Types:\\\\nâ€¢ Production: 189 keys\\\\nâ€¢ Development: 45 keys\\\\nâ€¢ Testing: 13 keys\\\\nâ€¢ Legacy: 0 keys\\\\n\\\\nğŸ“Š Usage Stats:\\\\nâ€¢ Most active: prod_key_001\\\\nâ€¢ Highest usage: 15.2K calls/day\\\\nâ€¢ Average usage: 4.7K calls/day\\\\n\\\\nğŸ”§ Key Operations:\\\\nâ€¢ Generate new key\\\\nâ€¢ Rotate existing key\\\\nâ€¢ Revoke compromised key\\\\nâ€¢ Set rate limits\\\\nâ€¢ Configure permissions\\\\n\\\\nâœ… API key configuration saved!');
    }

    function enableTracing() {
      alert('ğŸ” Request Tracing Enabled\\\\n\\\\nğŸ“¡ Tracing Configuration:\\\\n\\\\nTrace Settings:\\\\nâ€¢ Sample rate: 10%\\\\nâ€¢ Max duration: 5 minutes\\\\nâ€¢ Include headers: Yes\\\\nâ€¢ Include body: No\\\\n\\\\nğŸ“Š Trace Data:\\\\nâ€¢ Traces collected: 2,847\\\\nâ€¢ Average latency: 142ms\\\\nâ€¢ Error traces: 23\\\\nâ€¢ Storage used: 1.2GB\\\\n\\\\nğŸ”§ Trace Features:\\\\nâ€¢ Distributed tracing\\\\nâ€¢ Performance profiling\\\\nâ€¢ Error correlation\\\\nâ€¢ Service mesh integration\\\\n\\\\nâœ… Request tracing active!\\\\nğŸ“Š View traces in monitoring dashboard');
    }

    function setupAlerts() {
      alert('ğŸš¨ Alert Rules Configuration\\\\n\\\\nâš ï¸ Active Alerts:\\\\n\\\\nPerformance Alerts:\\\\nâ€¢ Response time > 500ms\\\\nâ€¢ Error rate > 5%\\\\nâ€¢ CPU usage > 80%\\\\n\\\\nSecurity Alerts:\\\\nâ€¢ Failed authentication\\\\nâ€¢ Rate limit exceeded\\\\nâ€¢ Suspicious patterns\\\\n\\\\nSystem Alerts:\\\\nâ€¢ Service down\\\\nâ€¢ Database connection\\\\nâ€¢ Memory usage\\\\n\\\\nğŸ“§ Notification Settings:\\\\nâ€¢ Email: alerts@company.com\\\\nâ€¢ Slack: #api-alerts\\\\nâ€¢ SMS: Emergency only\\\\n\\\\nğŸ“Š Alert History:\\\\nâ€¢ Today: 3 alerts\\\\nâ€¢ This week: 23 alerts\\\\nâ€¢ False positives: 2\\\\n\\\\nâœ… Alert rules updated!');
    }

    function viewLogs() {
      alert('ğŸ“‹ Access Logs & Audit Trail\\\\n\\\\nğŸ“„ Log Management:\\\\n\\\\nLog Files:\\\\nâ€¢ Access logs: 2.3GB\\\\nâ€¢ Error logs: 156MB\\\\nâ€¢ Security logs: 89MB\\\\nâ€¢ Audit logs: 445MB\\\\n\\\\nğŸ“Š Log Statistics:\\\\nâ€¢ Daily requests: 47.2K\\\\nâ€¢ Error rate: 0.1%\\\\nâ€¢ Top endpoint: /api/v2/clients\\\\nâ€¢ Peak hour: 8:00 PM\\\\n\\\\nğŸ” Log Analysis:\\\\nâ€¢ Search by IP\\\\nâ€¢ Filter by endpoint\\\\nâ€¢ Time range queries\\\\nâ€¢ Export capabilities\\\\n\\\\nğŸ“ˆ Insights:\\\\nâ€¢ Most active user: VIP Client #247\\\\nâ€¢ Common errors: Authentication\\\\nâ€¢ Geographic distribution: 67 countries\\\\n\\\\nâœ… Logs accessible via dashboard');
    }
  `;
}

function generateApiMonitoringContent(employee: EmployeeData): string {
  const monitoringMetrics = [
    { label: 'Active Alerts', value: '0', change: '0', trend: 'neutral', icon: 'ğŸš¨' },
    { label: 'Response Time', value: '142ms', change: '-12ms', trend: 'up', icon: 'âš¡' },
    { label: 'Throughput', value: '47.2K', change: '+8.3%', trend: 'up', icon: 'ğŸ“Š' },
    { label: 'Error Rate', value: '0.1%', change: '-0.05%', trend: 'up', icon: 'âŒ' }
  ];

  const recentAlerts = [
    { type: 'info', message: 'Daily backup completed successfully', time: '2 hours ago', endpoint: '/api/backup' },
    { type: 'warning', message: 'High traffic detected on /api/analytics', time: '4 hours ago', endpoint: '/api/analytics' },
    { type: 'success', message: 'SSL certificate renewed', time: '1 day ago', endpoint: 'system' },
    { type: 'error', message: 'Database connection timeout', time: '2 days ago', endpoint: '/api/database' }
  ];

  const performanceMetrics = [
    { endpoint: '/api/v2/clients', p50: '89ms', p95: '234ms', p99: '456ms', calls: '15.2K', errors: '23' },
    { endpoint: '/api/v2/bets', p50: '134ms', p95: '345ms', p99: '678ms', calls: '8.9K', errors: '12' },
    { endpoint: '/api/v2/analytics', p50: '156ms', p95: '423ms', p99: '789ms', calls: '12.4K', errors: '8' },
    { endpoint: '/api/v2/profiles', p50: '98ms', p95: '267ms', p99: '543ms', calls: '4.7K', errors: '3' }
  ];

  return `
    <div class="api-monitoring-container">
      <style>
        ${getApiMonitoringStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ“Š API Monitoring & Analytics</h1>
          <p>Real-time API performance monitoring, alerting, and comprehensive analytics</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              All Systems Monitored - 99.9% Uptime
            </div>
            <div class="last-update">Last updated: <span id="monitoringLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Enhanced Real-Time Monitoring Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“ˆ Real-Time Monitoring</h2>
          <p>Live API performance indicators and system health metrics</p>
          <div class="header-actions">
            <button class="refresh-btn" onclick="refreshMonitoring()">
              <span class="refresh-icon">ğŸ”„</span>
              Refresh
            </button>
            <div class="monitoring-status">
              <div class="status-indicator online">
                <span class="pulse"></span>
              </div>
              <span class="status-text">All Systems Normal</span>
            </div>
            <div class="time-range-selector">
              <select id="monitoringTimeRange" onchange="changeTimeRange()">
                <option value="1h">Last Hour</option>
                <option value="6h" selected>Last 6 Hours</option>
                <option value="24h">Last 24 Hours</option>
                <option value="7d">Last 7 Days</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Interactive Monitoring Cards -->
        <div class="monitoring-dashboard">
          <div class="monitoring-grid">
            ${monitoringMetrics.map((metric, index) => `
              <div class="monitoring-card ${metric.trend}" onclick="showMetricTrend('${metric.label}')">
                <div class="card-header">
                  <div class="monitoring-icon">${metric.icon}</div>
                  <div class="metric-sparkline">
                    <svg width="60" height="20" viewBox="0 0 60 20">
                      <path d="M0,15 Q15,${10 + index * 2} 30,${8 + index * 1.5} T60,${12 + index * 1.8}" stroke="#40e0d0" stroke-width="2" fill="none"/>
                    </svg>
                  </div>
                </div>
                <div class="card-content">
                  <div class="monitoring-value">${metric.value}</div>
                  <div class="monitoring-label">${metric.label}</div>
                  <div class="monitoring-change ${metric.trend}">
                    <span class="change-icon">${metric.trend === 'up' ? 'â†—ï¸' : metric.trend === 'down' ? 'â†˜ï¸' : 'â†’'}</span>
                    <span class="change-value">${metric.change}</span>
                  </div>
                </div>
                <div class="card-footer">
                  <div class="metric-target">Target: ${metric.label === 'Response Time' ? '< 150ms' : metric.label === 'Error Rate' ? '< 0.5%' : 'Optimal'}</div>
                  <div class="metric-status ${metric.trend === 'up' ? 'good' : metric.trend === 'down' ? 'warning' : 'neutral'}">
                    ${metric.trend === 'up' ? 'On Track' : metric.trend === 'down' ? 'Attention' : 'Stable'}
                  </div>
                </div>
              </div>
            `).join('')}
          </div>

          <!-- Live Performance Chart -->
          <div class="performance-chart-section">
            <div class="chart-header">
              <h3>ğŸ“Š Live Performance Trends</h3>
              <div class="chart-controls">
                <button class="chart-btn active" onclick="setChartMetric('response')">Response Time</button>
                <button class="chart-btn" onclick="setChartMetric('throughput')">Throughput</button>
                <button class="chart-btn" onclick="setChartMetric('errors')">Error Rate</button>
                <button class="chart-btn" onclick="setChartMetric('alerts')">Alerts</button>
              </div>
            </div>
            <div class="live-chart-container">
              <canvas id="performanceChart" width="800" height="300"></canvas>
              <div class="chart-loading">
                <div class="loading-icon">ğŸ“ˆ</div>
                <div class="loading-text">Loading real-time data...</div>
                <div class="loading-spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Advanced Predictive Analytics -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”® Predictive Analytics & AI Insights</h2>
          <p>AI-powered predictions and intelligent recommendations for API optimization</p>
        </div>

        <div class="predictive-analytics-grid">
          <div class="predictive-card">
            <div class="card-header">
              <div class="predictive-icon">ğŸ¯</div>
              <h3>Traffic Prediction</h3>
            </div>
            <div class="card-content">
              <div class="prediction-metric">
                <div class="metric-value">+23%</div>
                <div class="metric-label">Expected Growth (24h)</div>
              </div>
              <div class="confidence-indicator">
                <div class="confidence-bar">
                  <div class="confidence-fill" style="width: 89%"></div>
                </div>
                <span class="confidence-text">89% Confidence</span>
              </div>
            </div>
          </div>

          <div class="predictive-card">
            <div class="card-header">
              <div class="predictive-icon">âš¡</div>
              <h3>Performance Forecast</h3>
            </div>
            <div class="card-content">
              <div class="prediction-alert warning">
                <span class="alert-icon">âš ï¸</span>
                <span>Peak load expected at 2-4 PM EST</span>
              </div>
              <div class="recommendation">
                <span class="rec-icon">ğŸ’¡</span>
                <span>Consider scaling up resources</span>
              </div>
            </div>
          </div>

          <div class="predictive-card">
            <div class="card-header">
              <div class="predictive-icon">ğŸ›¡ï¸</div>
              <h3>Security Threat Prediction</h3>
            </div>
            <div class="card-content">
              <div class="threat-level">
                <div class="threat-indicator low">
                  <span class="threat-dot"></span>
                  <span>Low Risk</span>
                </div>
              </div>
              <div class="threat-analysis">
                <div class="analysis-item">
                  <span class="analysis-label">Attack Vector:</span>
                  <span class="analysis-value">DDoS (2% probability)</span>
                </div>
              </div>
            </div>
          </div>

          <div class="predictive-card">
            <div class="card-header">
              <div class="predictive-icon">ğŸ’°</div>
              <h3>Cost Optimization</h3>
            </div>
            <div class="card-content">
              <div class="cost-saving">
                <div class="saving-amount">$2,450</div>
                <div class="saving-period">Monthly Savings</div>
              </div>
              <div class="optimization-tips">
                <div class="tip">ğŸ”§ Reduce caching TTL</div>
                <div class="tip">ğŸ“¦ Compress responses</div>
                <div class="tip">âš¡ Implement rate limiting</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- API Cost Analysis -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ’° Cost Analysis & Optimization</h2>
          <p>Real-time cost monitoring and optimization recommendations</p>
        </div>

        <div class="cost-analysis-dashboard">
          <div class="cost-metrics">
            <div class="cost-metric-card">
              <div class="metric-icon">ğŸ’µ</div>
              <div class="metric-content">
                <div class="metric-value">$12,847</div>
                <div class="metric-label">Monthly API Costs</div>
                <div class="metric-change up">+8.3%</div>
              </div>
            </div>

            <div class="cost-metric-card">
              <div class="metric-icon">ğŸ“Š</div>
              <div class="metric-content">
                <div class="metric-value">$0.023</div>
                <div class="metric-label">Cost per Request</div>
                <div class="metric-change down">-12%</div>
              </div>
            </div>

            <div class="cost-metric-card">
              <div class="metric-icon">ğŸ¯</div>
              <div class="metric-content">
                <div class="metric-value">94.2%</div>
                <div class="metric-label">Cost Efficiency</div>
                <div class="metric-change up">+5.1%</div>
              </div>
            </div>
          </div>

          <div class="cost-breakdown">
            <h3>Cost Breakdown by Service</h3>
            <div class="cost-breakdown-chart">
              <div class="cost-item">
                <div class="service-name">Compute</div>
                <div class="service-cost">$8,234</div>
                <div class="service-percentage">64%</div>
                <div class="cost-bar">
                  <div class="cost-fill compute" style="width: 64%"></div>
                </div>
              </div>
              <div class="cost-item">
                <div class="service-name">Storage</div>
                <div class="service-cost">$2,145</div>
                <div class="service-percentage">17%</div>
                <div class="cost-bar">
                  <div class="cost-fill storage" style="width: 17%"></div>
                </div>
              </div>
              <div class="cost-item">
                <div class="service-name">Bandwidth</div>
                <div class="service-cost">$1,678</div>
                <div class="service-percentage">13%</div>
                <div class="cost-bar">
                  <div class="cost-fill bandwidth" style="width: 13%"></div>
                </div>
              </div>
              <div class="cost-item">
                <div class="service-name">Monitoring</div>
                <div class="service-cost">$790</div>
                <div class="service-percentage">6%</div>
                <div class="cost-bar">
                  <div class="cost-fill monitoring" style="width: 6%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- API Versioning & Deprecation Tracking -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”„ API Versioning & Lifecycle</h2>
          <p>Version management, deprecation tracking, and migration planning</p>
        </div>

        <div class="versioning-dashboard">
          <div class="version-overview">
            <div class="version-card current">
              <div class="version-badge">v3.0.1</div>
              <div class="version-status">Current</div>
              <div class="version-usage">78% of traffic</div>
              <div class="version-date">Released: Dec 15, 2024</div>
            </div>

            <div class="version-card deprecated">
              <div class="version-badge">v2.8.4</div>
              <div class="version-status">Deprecated</div>
              <div class="version-usage">18% of traffic</div>
              <div class="version-date">EOL: March 31, 2025</div>
              <div class="deprecation-notice">
                <span class="warning-icon">âš ï¸</span>
                <span>120 days remaining</span>
              </div>
            </div>

            <div class="version-card legacy">
              <div class="version-badge">v1.9.2</div>
              <div class="version-status">Legacy</div>
              <div class="version-usage">4% of traffic</div>
              <div class="version-date">EOL: January 31, 2025</div>
              <div class="deprecation-notice critical">
                <span class="warning-icon">ğŸš¨</span>
                <span>45 days remaining</span>
              </div>
            </div>
          </div>

          <div class="migration-planning">
            <h3>ğŸ“‹ Migration Planning</h3>
            <div class="migration-steps">
              <div class="migration-step completed">
                <div class="step-number">1</div>
                <div class="step-content">
                  <div class="step-title">Phase 1: Notification</div>
                  <div class="step-description">Sent deprecation notices to all API consumers</div>
                  <div class="step-date">Completed: Jan 15, 2025</div>
                </div>
                <div class="step-status">âœ…</div>
              </div>

              <div class="migration-step in-progress">
                <div class="step-number">2</div>
                <div class="step-content">
                  <div class="step-title">Phase 2: Migration Support</div>
                  <div class="step-description">Providing migration guides and technical support</div>
                  <div class="step-date">In Progress</div>
                </div>
                <div class="step-status">ğŸ”„</div>
              </div>

              <div class="migration-step upcoming">
                <div class="step-number">3</div>
                <div class="step-content">
                  <div class="step-title">Phase 3: Sunset</div>
                  <div class="step-description">Complete shutdown of deprecated endpoints</div>
                  <div class="step-date">Target: March 31, 2025</div>
                </div>
                <div class="step-status">â³</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Advanced Error Analysis -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ” Advanced Error Analysis</h2>
          <p>Detailed error patterns, root cause analysis, and troubleshooting insights</p>
        </div>

        <div class="error-analysis-dashboard">
          <div class="error-overview">
            <div class="error-summary">
              <div class="error-metric">
                <div class="error-value">0.02%</div>
                <div class="error-label">Overall Error Rate</div>
                <div class="error-trend down">â†“ 15% this week</div>
              </div>
              <div class="error-breakdown">
                <div class="error-type">
                  <span class="error-code">4xx</span>
                  <span class="error-count">1,247</span>
                  <span class="error-percentage">78%</span>
                </div>
                <div class="error-type">
                  <span class="error-code">5xx</span>
                  <span class="error-count">245</span>
                  <span class="error-percentage">15%</span>
                </div>
                <div class="error-type">
                  <span class="error-code">Timeout</span>
                  <span class="error-count">89</span>
                  <span class="error-percentage">7%</span>
                </div>
              </div>
            </div>

            <div class="error-heatmap">
              <h3>Error Distribution by Hour</h3>
              <div class="heatmap-grid">
                ${Array.from({length: 24}, (_, i) => `
                  <div class="heatmap-cell ${i >= 2 && i <= 4 ? 'high' : i >= 14 && i <= 16 ? 'medium' : 'low'}">
                    <div class="hour-label">${i}:00</div>
                    <div class="error-intensity"></div>
                  </div>
                `).join('')}
              </div>
            </div>
          </div>

          <div class="error-details">
            <h3>Top Error Patterns</h3>
            <div class="error-patterns">
              <div class="error-pattern-card">
                <div class="pattern-header">
                  <div class="error-code">429</div>
                  <div class="error-description">Rate Limit Exceeded</div>
                  <div class="error-count">423 occurrences</div>
                </div>
                <div class="pattern-analysis">
                  <div class="analysis-point">
                    <span class="point-icon">ğŸ¯</span>
                    <span>Affects endpoint: /api/bets</span>
                  </div>
                  <div class="analysis-point">
                    <span class="point-icon">ğŸ‘¥</span>
                    <span>Mainly from mobile clients</span>
                  </div>
                  <div class="analysis-point">
                    <span class="point-icon">ğŸ’¡</span>
                    <span>Recommendation: Implement client-side caching</span>
                  </div>
                </div>
              </div>

              <div class="error-pattern-card">
                <div class="pattern-header">
                  <div class="error-code">500</div>
                  <div class="error-description">Internal Server Error</div>
                  <div class="error-count">89 occurrences</div>
                </div>
                <div class="pattern-analysis">
                  <div class="analysis-point">
                    <span class="point-icon">ğŸ”§</span>
                    <span>Database connection issues</span>
                  </div>
                  <div class="analysis-point">
                    <span class="point-icon">âš¡</span>
                    <span>Peak hours: 2-4 PM EST</span>
                  </div>
                  <div class="analysis-point">
                    <span class="point-icon">ğŸ“ˆ</span>
                    <span>Recommendation: Add connection pooling</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Integration Health Monitoring -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”— Integration Health</h2>
          <p>Monitor the health and performance of all API integrations</p>
        </div>

        <div class="integration-health-dashboard">
          <div class="integration-grid">
            <div class="integration-card healthy">
              <div class="integration-header">
                <div class="integration-icon">ğŸ’³</div>
                <div class="integration-info">
                  <h3>Stripe Payment Gateway</h3>
                  <div class="integration-status healthy">Healthy</div>
                </div>
              </div>
              <div class="integration-metrics">
                <div class="metric">Response: 145ms</div>
                <div class="metric">Uptime: 99.9%</div>
                <div class="metric">Success: 98.7%</div>
              </div>
            </div>

            <div class="integration-card warning">
              <div class="integration-header">
                <div class="integration-icon">ğŸ“§</div>
                <div class="integration-info">
                  <h3>SendGrid Email Service</h3>
                  <div class="integration-status warning">Degraded</div>
                </div>
              </div>
              <div class="integration-metrics">
                <div class="metric">Response: 2.3s</div>
                <div class="metric">Uptime: 98.2%</div>
                <div class="metric">Success: 95.1%</div>
              </div>
              <div class="integration-alert">
                <span class="alert-icon">âš ï¸</span>
                <span>High latency detected</span>
              </div>
            </div>

            <div class="integration-card healthy">
              <div class="integration-header">
                <div class="integration-icon">ğŸ’¬</div>
                <div class="integration-info">
                  <h3>Telegram Bot API</h3>
                  <div class="integration-status healthy">Healthy</div>
                </div>
              </div>
              <div class="integration-metrics">
                <div class="metric">Response: 89ms</div>
                <div class="metric">Uptime: 100%</div>
                <div class="metric">Success: 99.8%</div>
              </div>
            </div>

            <div class="integration-card error">
              <div class="integration-header">
                <div class="integration-icon">ğŸ“±</div>
                <div class="integration-info">
                  <h3>Twilio SMS Gateway</h3>
                  <div class="integration-status error">Down</div>
                </div>
              </div>
              <div class="integration-metrics">
                <div class="metric">Response: Timeout</div>
                <div class="metric">Uptime: 87.3%</div>
                <div class="metric">Success: 0%</div>
              </div>
              <div class="integration-alert critical">
                <span class="alert-icon">ğŸš¨</span>
                <span>Service unavailable - failover active</span>
              </div>
            </div>
          </div>

          <div class="integration-summary">
            <div class="summary-stats">
              <div class="summary-stat">
                <div class="stat-value">3/4</div>
                <div class="stat-label">Services Healthy</div>
              </div>
              <div class="summary-stat">
                <div class="stat-value">98.5%</div>
                <div class="stat-label">Overall Uptime</div>
              </div>
              <div class="summary-stat">
                <div class="stat-value">247ms</div>
                <div class="stat-label">Avg Response Time</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Performance Optimization Engine -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš€ Performance Optimization</h2>
          <p>AI-powered recommendations for improving API performance and efficiency</p>
        </div>

        <div class="optimization-dashboard">
          <div class="optimization-recommendations">
            <div class="recommendation-card high-impact">
              <div class="rec-header">
                <div class="rec-priority high">High Impact</div>
                <div class="rec-icon">âš¡</div>
                <h3>Implement Response Caching</h3>
              </div>
              <div class="rec-content">
                <p>Add Redis caching layer for frequently requested endpoints</p>
                <div class="rec-metrics">
                  <div class="metric">Potential: 45% faster responses</div>
                  <div class="metric">Cost Savings: $1,200/month</div>
                  <div class="metric">Effort: Medium</div>
                </div>
              </div>
              <div class="rec-actions">
                <button class="rec-btn primary" onclick="implementCaching()">Implement</button>
                <button class="rec-btn secondary" onclick="viewDetails('caching')">Details</button>
              </div>
            </div>

            <div class="recommendation-card medium-impact">
              <div class="rec-header">
                <div class="rec-priority medium">Medium Impact</div>
                <div class="rec-icon">ğŸ“¦</div>
                <h3>Response Compression</h3>
              </div>
              <div class="rec-content">
                <p>Enable gzip compression for API responses</p>
                <div class="rec-metrics">
                  <div class="metric">Potential: 60% smaller payloads</div>
                  <div class="metric">Cost Savings: $800/month</div>
                  <div class="metric">Effort: Low</div>
                </div>
              </div>
              <div class="rec-actions">
                <button class="rec-btn primary" onclick="enableCompression()">Enable</button>
                <button class="rec-btn secondary" onclick="viewDetails('compression')">Details</button>
              </div>
            </div>

            <div class="recommendation-card low-impact">
              <div class="rec-header">
                <div class="rec-priority low">Low Impact</div>
                <div class="rec-icon">ğŸ”„</div>
                <h3>Database Query Optimization</h3>
              </div>
              <div class="rec-content">
                <p>Add database indexes and optimize slow queries</p>
                <div class="rec-metrics">
                  <div class="metric">Potential: 30% faster queries</div>
                  <div class="metric">Cost Savings: $400/month</div>
                  <div class="metric">Effort: High</div>
                </div>
              </div>
              <div class="rec-actions">
                <button class="rec-btn primary" onclick="optimizeQueries()">Optimize</button>
                <button class="rec-btn secondary" onclick="viewDetails('queries')">Details</button>
              </div>
            </div>
          </div>

          <div class="optimization-simulator">
            <h3>ğŸ¯ Impact Simulator</h3>
            <div class="simulator-controls">
              <div class="simulator-input">
                <label>Monthly API Calls:</label>
                <input type="number" id="simulator-calls" value="1000000" onchange="calculateImpact()">
              </div>
              <div class="simulator-input">
                <label>Avg Response Time:</label>
                <input type="number" id="simulator-latency" value="200" onchange="calculateImpact()"> ms
              </div>
            </div>
            <div class="simulator-results">
              <div class="result-item">
                <span class="result-label">Current Monthly Cost:</span>
                <span class="result-value" id="current-cost">$2,400</span>
              </div>
              <div class="result-item">
                <span class="result-label">Optimized Cost:</span>
                <span class="result-value" id="optimized-cost">$1,680</span>
              </div>
              <div class="result-item savings">
                <span class="result-label">Monthly Savings:</span>
                <span class="result-value" id="monthly-savings">$720</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Live Betting Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ° Live Betting Operations</h2>
          <p>Real-time betting data, positions tracking, and market analysis</p>
          <div class="header-actions">
            <button class="refresh-btn" onclick="refreshBettingData()">
              <span class="refresh-icon">ğŸ”„</span>
              Refresh Live Data
            </button>
            <div class="live-status">
              <div class="status-indicator live">
                <span class="pulse"></span>
              </div>
              <span class="status-text">Live Data Active</span>
            </div>
            <div class="time-range-selector">
              <select id="bettingTimeRange" onchange="changeBettingView()">
                <option value="live">Live Now</option>
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
              </select>
            </div>
          </div>
        </div>

        <div class="betting-dashboard">
          <!-- Live Betting Summary -->
          <div class="betting-summary-grid">
            <div class="betting-metric-card active-games">
              <div class="metric-icon">ğŸˆ</div>
              <div class="metric-content">
                <div class="metric-value" id="activeGames">24</div>
                <div class="metric-label">Active Games</div>
                <div class="metric-change up">+3 new today</div>
              </div>
            </div>

            <div class="betting-metric-card total-bets">
              <div class="metric-icon">ğŸ’°</div>
              <div class="metric-content">
                <div class="metric-value" id="totalBets">$2.4M</div>
                <div class="metric-label">Total Bets Today</div>
                <div class="metric-change up">+12.3%</div>
              </div>
            </div>

            <div class="betting-metric-card live-positions">
              <div class="metric-icon">ğŸ“Š</div>
              <div class="metric-content">
                <div class="metric-value" id="livePositions">1,247</div>
                <div class="metric-label">Live Positions</div>
                <div class="metric-change neutral">â†—ï¸ Trending up</div>
              </div>
            </div>

            <div class="betting-metric-card alerts-active">
              <div class="metric-icon">ğŸš¨</div>
              <div class="metric-content">
                <div class="metric-value" id="alertsCount">3</div>
                <div class="metric-label">Active Alerts</div>
                <div class="metric-change warning">âš ï¸ Requires attention</div>
              </div>
            </div>
          </div>

          <!-- Live Game Schedule -->
          <div class="live-games-section">
            <h3>ğŸ“… Live Game Schedule & Tracking</h3>
            <div class="games-grid">
              <div class="game-card live-game">
                <div class="game-header">
                  <div class="game-teams">
                    <div class="team">
                      <span class="team-name">Chiefs</span>
                      <span class="team-record">(8-3)</span>
                    </div>
                    <div class="vs">VS</div>
                    <div class="team">
                      <span class="team-name">49ers</span>
                      <span class="team-record">(9-2)</span>
                    </div>
                  </div>
                  <div class="game-status live">
                    <span class="status-dot"></span>
                    <span>LIVE - Q4 12:34</span>
                  </div>
                </div>
                <div class="game-metrics">
                  <div class="metric">
                    <span class="label">Total Bets:</span>
                    <span class="value">$485K</span>
                  </div>
                  <div class="metric">
                    <span class="label">Positions:</span>
                    <span class="value">234</span>
                  </div>
                  <div class="metric">
                    <span class="label">Avg Bet:</span>
                    <span class="value">$2,077</span>
                  </div>
                </div>
                <div class="game-actions">
                  <button class="action-btn" onclick="viewGameDetails('chiefs-49ers')">View Details</button>
                  <button class="action-btn secondary" onclick="managePositions('chiefs-49ers')">Positions</button>
                </div>
              </div>

              <div class="game-card upcoming-game">
                <div class="game-header">
                  <div class="game-teams">
                    <div class="team">
                      <span class="team-name">Bills</span>
                      <span class="team-record">(7-4)</span>
                    </div>
                    <div class="vs">VS</div>
                    <div class="team">
                      <span class="team-name">Dolphins</span>
                      <span class="team-record">(6-5)</span>
                    </div>
                  </div>
                  <div class="game-status upcoming">
                    <span class="status-time">8:20 PM EST</span>
                  </div>
                </div>
                <div class="game-metrics">
                  <div class="metric">
                    <span class="label">Line:</span>
                    <span class="value">Bills -3.5</span>
                  </div>
                  <div class="metric">
                    <span class="label">Total:</span>
                    <span class="value">47.5</span>
                  </div>
                  <div class="metric">
                    <span class="label">Pre-bets:</span>
                    <span class="value">$127K</span>
                  </div>
                </div>
                <div class="game-actions">
                  <button class="action-btn" onclick="setOdds('bills-dolphins')">Set Odds</button>
                  <button class="action-btn secondary" onclick="viewMarketData('bills-dolphins')">Market Data</button>
                </div>
              </div>

              <div class="game-card completed-game">
                <div class="game-header">
                  <div class="game-teams">
                    <div class="team winner">
                      <span class="team-name">Eagles</span>
                      <span class="team-record">(10-1)</span>
                    </div>
                    <div class="vs">VS</div>
                    <div class="team">
                      <span class="team-name">Cowboys</span>
                      <span class="team-record">(5-6)</span>
                    </div>
                  </div>
                  <div class="game-status completed">
                    <span>FINAL: 31-28</span>
                  </div>
                </div>
                <div class="game-metrics">
                  <div class="metric">
                    <span class="label">Total Bets:</span>
                    <span class="value">$892K</span>
                  </div>
                  <div class="metric">
                    <span class="label">Positions:</span>
                    <span class="value">445</span>
                  </div>
                  <div class="metric">
                    <span class="label">Payout:</span>
                    <span class="value">$1.2M</span>
                  </div>
                </div>
                <div class="game-actions">
                  <button class="action-btn" onclick="viewPayoutDetails('eagles-cowboys')">Payout Details</button>
                  <button class="action-btn secondary" onclick="analyzeGame('eagles-cowboys')">Analysis</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Odds Monitoring & Alerts -->
          <div class="odds-monitoring-section">
            <h3>ğŸ¯ Odds Monitoring & Market Comparison</h3>
            <div class="odds-alerts-grid">
              <div class="odds-alert-card warning">
                <div class="alert-header">
                  <div class="alert-icon">âš ï¸</div>
                  <h4>Odds Discrepancy Alert</h4>
                  <div class="alert-time">2 min ago</div>
                </div>
                <div class="alert-content">
                  <div class="game-info">Chiefs vs 49ers</div>
                  <div class="odds-comparison">
                    <div class="our-odds">
                      <span class="label">Our Line:</span>
                      <span class="value">Chiefs -2.5 (-110)</span>
                    </div>
                    <div class="market-odds">
                      <span class="label">Market Avg:</span>
                      <span class="value">Chiefs -1.5 (-105)</span>
                    </div>
                    <div class="discrepancy">
                      <span class="label">Difference:</span>
                      <span class="value warning">-1.0 (+5)</span>
                    </div>
                  </div>
                  <div class="alert-actions">
                    <button class="alert-btn primary" onclick="adjustOdds('chiefs-49ers', 'line')">Adjust Line</button>
                    <button class="alert-btn secondary" onclick="viewMarketComparison('chiefs-49ers')">Compare</button>
                  </div>
                </div>
              </div>

              <div class="odds-alert-card info">
                <div class="alert-header">
                  <div class="alert-icon">ğŸ“Š</div>
                  <h4>Market Movement</h4>
                  <div class="alert-time">5 min ago</div>
                </div>
                <div class="alert-content">
                  <div class="game-info">Bills vs Dolphins</div>
                  <div class="market-movement">
                    <div class="movement-item">
                      <span class="label">Line Movement:</span>
                      <span class="value">Bills -2.5 â†’ -3.0</span>
                    </div>
                    <div class="movement-item">
                      <span class="label">Total Movement:</span>
                      <span class="value">45.5 â†’ 46.0</span>
                    </div>
                    <div class="movement-item">
                      <span class="label">Sharp Money:</span>
                      <span class="value">Bills (+$45K)</span>
                    </div>
                  </div>
                  <div class="alert-actions">
                    <button class="alert-btn primary" onclick="followSharpMoney('bills-dolphins')">Follow Money</button>
                    <button class="alert-btn secondary" onclick="setAlerts('bills-dolphins')">Set Alert</button>
                  </div>
                </div>
              </div>

              <div class="odds-alert-card success">
                <div class="alert-header">
                  <div class="alert-icon">âœ…</div>
                  <h4>Optimal Positioning</h4>
                  <div class="alert-time">8 min ago</div>
                </div>
                <div class="alert-content">
                  <div class="game-info">Ravens vs Bengals</div>
                  <div class="position-recommendation">
                    <div class="rec-item">
                      <span class="label">Current Position:</span>
                      <span class="value">$127K on Ravens</span>
                    </div>
                    <div class="rec-item">
                      <span class="label">Recommended:</span>
                      <span class="value">Increase to $185K</span>
                    </div>
                    <div class="rec-item">
                      <span class="label">Expected Value:</span>
                      <span class="value">+15.3% ROI</span>
                    </div>
                  </div>
                  <div class="alert-actions">
                    <button class="alert-btn primary" onclick="optimizePosition('ravens-bengals')">Optimize</button>
                    <button class="alert-btn secondary" onclick="viewAnalytics('ravens-bengals')">Analytics</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Real-time Position Tracking -->
          <div class="position-tracking-section">
            <h3>ğŸ“ˆ Real-time Position Tracking</h3>
            <div class="position-dashboard">
              <div class="position-summary">
                <div class="position-card">
                  <div class="position-header">
                    <h4>Chiefs vs 49ers</h4>
                    <div class="position-status live">Live</div>
                  </div>
                  <div class="position-breakdown">
                    <div class="position-item">
                      <span class="bet-type">Moneyline</span>
                      <span class="amount">$245K</span>
                      <span class="positions">89 bets</span>
                    </div>
                    <div class="position-item">
                      <span class="bet-type">Spread</span>
                      <span class="amount">$189K</span>
                      <span class="positions">67 bets</span>
                    </div>
                    <div class="position-item">
                      <span class="bet-type">Total</span>
                      <span class="amount">$51K</span>
                      <span class="positions">23 bets</span>
                    </div>
                  </div>
                  <div class="position-actions">
                    <button class="position-btn" onclick="hedgePosition('chiefs-49ers')">Hedge</button>
                    <button class="position-btn secondary" onclick="adjustLine('chiefs-49ers')">Adjust</button>
                  </div>
                </div>

                <div class="position-card">
                  <div class="position-header">
                    <h4>Bills vs Dolphins</h4>
                    <div class="position-status upcoming">Pre-game</div>
                  </div>
                  <div class="position-breakdown">
                    <div class="position-item">
                      <span class="bet-type">Moneyline</span>
                      <span class="amount">$89K</span>
                      <span class="positions">34 bets</span>
                    </div>
                    <div class="position-item">
                      <span class="bet-type">Spread</span>
                      <span class="amount">$156K</span>
                      <span class="positions">78 bets</span>
                    </div>
                    <div class="position-item">
                      <span class="bet-type">Total</span>
                      <span class="amount">$23K</span>
                      <span class="positions">15 bets</span>
                    </div>
                  </div>
                  <div class="position-actions">
                    <button class="position-btn" onclick="balancePosition('bills-dolphins')">Balance</button>
                    <button class="position-btn secondary" onclick="setLimits('bills-dolphins')">Set Limits</button>
                  </div>
                </div>
              </div>

              <div class="position-analytics">
                <h4>Position Analytics</h4>
                <div class="analytics-metrics">
                  <div class="analytics-item">
                    <span class="label">Total Exposure:</span>
                    <span class="value">$1.2M</span>
                  </div>
                  <div class="analytics-item">
                    <span class="label">Risk Score:</span>
                    <span class="value low-risk">Low (2.3/10)</span>
                  </div>
                  <div class="analytics-item">
                    <span class="label">Hedged Amount:</span>
                    <span class="value">$856K</span>
                  </div>
                  <div class="analytics-item">
                    <span class="label">Unhedged Risk:</span>
                    <span class="value">$344K</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Market Data & Comparison -->
          <div class="market-data-section">
            <h3>ğŸ“Š Market Data & Odds Comparison</h3>
            <div class="market-comparison-table">
              <div class="table-header">
                <div class="table-cell">Game</div>
                <div class="table-cell">Our Line</div>
                <div class="table-cell">Market Avg</div>
                <div class="table-cell">Difference</div>
                <div class="table-cell">Sharp Action</div>
                <div class="table-cell">Action</div>
              </div>
              <div class="table-row">
                <div class="table-cell game-cell">
                  <div class="game-name">Chiefs vs 49ers</div>
                  <div class="game-time">LIVE Q4</div>
                </div>
                <div class="table-cell">Chiefs -2.5</div>
                <div class="table-cell">Chiefs -1.5</div>
                <div class="table-cell warning">-1.0</div>
                <div class="table-cell">$45K on Chiefs</div>
                <div class="table-cell">
                  <button class="table-btn" onclick="adjustLine('chiefs-49ers')">Adjust</button>
                </div>
              </div>
              <div class="table-row">
                <div class="table-cell game-cell">
                  <div class="game-name">Bills vs Dolphins</div>
                  <div class="game-time">8:20 PM</div>
                </div>
                <div class="table-cell">Bills -3.5</div>
                <div class="table-cell">Bills -3.0</div>
                <div class="table-cell neutral">-0.5</div>
                <div class="table-cell">$23K on Bills</div>
                <div class="table-cell">
                  <button class="table-btn secondary" onclick="monitorLine('bills-dolphins')">Monitor</button>
                </div>
              </div>
              <div class="table-row">
                <div class="table-cell game-cell">
                  <div class="game-name">Ravens vs Bengals</div>
                  <div class="game-time">1:00 PM</div>
                </div>
                <div class="table-cell">Ravens -4.0</div>
                <div class="table-cell">Ravens -4.5</div>
                <div class="table-cell success">+0.5</div>
                <div class="table-cell">$67K on Ravens</div>
                <div class="table-cell">
                  <button class="table-btn success" onclick="exploitLine('ravens-bengals')">Exploit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Performance Metrics -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš¡ Endpoint Performance</h2>
          <p>Detailed performance metrics for all API endpoints</p>
        </div>

        <div class="performance-table">
          <div class="table-header">
            <div class="table-cell">Endpoint</div>
            <div class="table-cell">P50</div>
            <div class="table-cell">P95</div>
            <div class="table-cell">P99</div>
            <div class="table-cell">Calls Today</div>
            <div class="table-cell">Errors</div>
            <div class="table-cell">Actions</div>
          </div>
          ${performanceMetrics.map(metric => `
            <div class="table-row">
              <div class="table-cell endpoint-path">${metric.endpoint}</div>
              <div class="table-cell">${metric.p50}</div>
              <div class="table-cell">${metric.p95}</div>
              <div class="table-cell">${metric.p99}</div>
              <div class="table-cell">${metric.calls}</div>
              <div class="table-cell ${parseInt(metric.errors) > 10 ? 'high-error' : 'low-error'}">${metric.errors}</div>
              <div class="table-cell">
                <button class="action-btn small" onclick="viewEndpointPerformance('${metric.endpoint}')">View</button>
                <button class="action-btn small secondary" onclick="configureEndpointAlerts('${metric.endpoint}')">Alerts</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Advanced Alert Management System -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš¨ Alert Management</h2>
          <p>Intelligent system alerts, notifications, and incident management</p>
          <div class="header-actions">
            <button class="action-btn primary" onclick="createNewAlertRule()">
              <span class="btn-icon">â•</span>
              New Rule
            </button>
            <button class="action-btn secondary" onclick="manageAlertChannels()">
              <span class="btn-icon">ğŸ“±</span>
              Channels
            </button>
            <div class="alert-filters">
              <select id="alertTypeFilter" onchange="filterAlerts()">
                <option value="">All Types</option>
                <option value="error">Errors</option>
                <option value="warning">Warnings</option>
                <option value="info">Info</option>
                <option value="success">Success</option>
              </select>
              <select id="alertTimeFilter" onchange="filterAlerts()">
                <option value="1h">Last Hour</option>
                <option value="24h" selected>Last 24 Hours</option>
                <option value="7d">Last 7 Days</option>
                <option value="30d">Last 30 Days</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Interactive Alert Dashboard -->
        <div class="alerts-dashboard">
          <div class="alerts-summary-grid">
            <div class="alert-summary-card critical" onclick="viewActiveAlerts()">
              <div class="card-header">
                <div class="alert-icon">ğŸš¨</div>
                <div class="alert-pulse"></div>
              </div>
              <div class="card-content">
                <div class="alert-count">0</div>
                <div class="alert-label">Active Alerts</div>
                <div class="alert-trend good">â†“ 23% from yesterday</div>
              </div>
            </div>

            <div class="alert-summary-card resolved" onclick="viewResolvedAlerts()">
              <div class="card-header">
                <div class="alert-icon">âœ…</div>
                <div class="resolution-rate">98%</div>
              </div>
              <div class="card-content">
                <div class="alert-count">23</div>
                <div class="alert-label">Resolved Today</div>
                <div class="alert-trend good">â†‘ 12% from yesterday</div>
              </div>
            </div>

            <div class="alert-summary-card weekly" onclick="viewWeeklyAlerts()">
              <div class="card-header">
                <div class="alert-icon">ğŸ“Š</div>
                <div class="weekly-chart">
                  <svg width="40" height="20" viewBox="0 0 40 20">
                    <path d="M0,15 Q10,5 20,12 T40,8" stroke="#40e0d0" stroke-width="2" fill="none"/>
                  </svg>
                </div>
              </div>
              <div class="card-content">
                <div class="alert-count">156</div>
                <div class="alert-label">This Week</div>
                <div class="alert-trend neutral">â†’ Stable trend</div>
              </div>
            </div>

            <div class="alert-summary-card rules" onclick="manageAlertRules()">
              <div class="card-header">
                <div class="alert-icon">âš™ï¸</div>
                <div class="rules-status active"></div>
              </div>
              <div class="card-content">
                <div class="alert-count">12</div>
                <div class="alert-label">Active Rules</div>
                <div class="alert-trend good">All rules healthy</div>
              </div>
            </div>
          </div>

          <!-- Advanced Alert Timeline -->
          <div class="alerts-timeline">
            <div class="timeline-header">
              <h3>ğŸ“… Alert Timeline</h3>
              <div class="timeline-controls">
                <button class="timeline-btn active" onclick="setTimelineView('all')">All</button>
                <button class="timeline-btn" onclick="setTimelineView('critical')">Critical</button>
                <button class="timeline-btn" onclick="setTimelineView('warnings')">Warnings</button>
                <button class="timeline-btn" onclick="setTimelineView('resolved')">Resolved</button>
              </div>
            </div>

            <div class="timeline-container" id="alertsTimeline">
              ${recentAlerts.map((alert, index) => `
                <div class="timeline-item ${alert.type}" style="animation-delay: ${index * 0.1}s">
                  <div class="timeline-marker">
                    <div class="marker-dot ${alert.type}"></div>
                    <div class="marker-line"></div>
                  </div>
                  <div class="timeline-content">
                    <div class="alert-card ${alert.type}">
                      <div class="alert-header">
                        <div class="alert-type-icon">
                          ${alert.type === 'error' ? 'âŒ' : alert.type === 'warning' ? 'âš ï¸' : alert.type === 'success' ? 'âœ…' : 'â„¹ï¸'}
                        </div>
                        <div class="alert-meta">
                          <span class="alert-time">${alert.time}</span>
                          <span class="alert-endpoint">${alert.endpoint}</span>
                        </div>
                        <div class="alert-actions">
                          <button class="alert-action-btn small" onclick="viewAlertDetails('${alert.message}')">View</button>
                          <button class="alert-action-btn small secondary" onclick="acknowledgeAlert('${alert.message}')">Ack</button>
                          ${alert.type === 'error' ? '<button class="alert-action-btn small danger" onclick="escalateAlert(\'' + alert.message + '\')">Escalate</button>' : ''}
                        </div>
                      </div>
                      <div class="alert-message">${alert.message}</div>
                      <div class="alert-details">
                        <span class="detail-item">Severity: ${alert.type.toUpperCase()}</span>
                        <span class="detail-item">Source: API Gateway</span>
                        <span class="detail-item">Duration: ${alert.type === 'error' ? '2m 34s' : 'Resolved'}</span>
                      </div>
                    </div>
                  </div>
                </div>
              `).join('')}
            </div>
          </div>
        </div>
      </div>

      <!-- Monitoring Controls -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›ï¸ Monitoring Controls</h2>
          <p>Advanced monitoring configuration and management tools</p>
        </div>

        <div class="monitoring-controls">
          <div class="control-group">
            <h3>ğŸ“Š Performance Monitoring</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="enableDetailedLogging()">Detailed Logging</button>
              <button class="control-btn secondary" onclick="configureMetrics()">Metrics Config</button>
              <button class="control-btn secondary" onclick="setupCustomDashboards()">Custom Dashboards</button>
            </div>
          </div>

          <div class="control-group">
            <h3>ğŸš¨ Alert Configuration</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="createAlertRule()">Create Alert Rule</button>
              <button class="control-btn secondary" onclick="manageNotificationChannels()">Notification Channels</button>
              <button class="control-btn secondary" onclick="setupEscalationPolicies()">Escalation Policies</button>
            </div>
          </div>

          <div class="control-group">
            <h3>ğŸ“ˆ Analytics & Reporting</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="generatePerformanceReport()">Performance Report</button>
              <button class="control-btn secondary" onclick="setupAutomatedReports()">Automated Reports</button>
              <button class="control-btn secondary" onclick="configureDataRetention()">Data Retention</button>
            </div>
          </div>
        </div>
      </div>

      <!-- System Health Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ’š System Health Dashboard</h2>
          <p>Comprehensive system health monitoring and status overview</p>
        </div>

        <div class="health-dashboard">
          <div class="health-component">
            <div class="component-header">
              <h3>ğŸŒ API Gateway</h3>
              <div class="component-status healthy">â— Online</div>
            </div>
            <div class="component-metrics">
              <div class="metric">Requests: 47.2K/min</div>
              <div class="metric">Latency: 142ms</div>
              <div class="metric">Errors: 0.1%</div>
            </div>
          </div>

          <div class="health-component">
            <div class="component-header">
              <h3>ğŸ—„ï¸ Database</h3>
              <div class="component-status healthy">â— Healthy</div>
            </div>
            <div class="component-metrics">
              <div class="metric">Connections: 234</div>
              <div class="metric">Query Time: 23ms</div>
              <div class="metric">Uptime: 99.9%</div>
            </div>
          </div>

          <div class="health-component">
            <div class="component-header">
              <h3>ğŸ”„ Cache Layer</h3>
              <div class="component-status healthy">â— Optimal</div>
            </div>
            <div class="component-metrics">
              <div class="metric">Hit Rate: 94.2%</div>
              <div class="metric">Size: 2.3GB</div>
              <div class="metric">Evictions: 0/min</div>
            </div>
          </div>

          <div class="health-component">
            <div class="component-header">
              <h3>ğŸ”’ Security Systems</h3>
              <div class="component-status healthy">â— Secure</div>
            </div>
            <div class="component-metrics">
              <div class="metric">Threats: 0</div>
              <div class="metric">SSL: Valid</div>
              <div class="metric">Auth Rate: 99.9%</div>
            </div>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/gateway" class="nav-btn secondary">
          <span class="btn-icon">ğŸšª</span>
          Gateway
        </a>
        <a href="/api/security" class="nav-btn primary">
          <span class="btn-icon">ğŸ”’</span>
          Security
        </a>
      </div>
    </div>

    <script>
      ${getApiMonitoringScripts()}
    </script>
  `;
}

function generateApiSecurityContent(employee: EmployeeData): string {
  const securityMetrics = [
    { label: 'Threats Detected', value: '0', change: '0', trend: 'neutral', icon: 'ğŸ›¡ï¸' },
    { label: 'Security Rating', value: 'A+', change: '0', trend: 'neutral', icon: 'â­' },
    { label: 'Auth Success', value: '99.9%', change: '+0.1%', trend: 'up', icon: 'ğŸ”' },
    { label: 'Active Policies', value: '156', change: '+12', trend: 'up', icon: 'ğŸ“‹' }
  ];

  const activePolicies = [
    { name: 'Rate Limiting', status: 'active', violations: '23', description: 'API rate limiting and throttling' },
    { name: 'IP Whitelist', status: 'active', violations: '0', description: 'IP-based access control' },
    { name: 'JWT Authentication', status: 'active', violations: '12', description: 'Token-based authentication' },
    { name: 'CORS Policy', status: 'active', violations: '0', description: 'Cross-origin resource sharing' },
    { name: 'SQL Injection', status: 'active', violations: '0', description: 'SQL injection prevention' },
    { name: 'XSS Protection', status: 'active', violations: '0', description: 'Cross-site scripting prevention' }
  ];

  const securityEvents = [
    { type: 'auth_failure', message: 'Invalid JWT token attempt', ip: '192.168.1.100', time: '5 min ago', severity: 'low' },
    { type: 'rate_limit', message: 'Rate limit exceeded', ip: '10.0.0.50', time: '12 min ago', severity: 'medium' },
    { type: 'auth_success', message: 'Successful API key authentication', ip: '172.16.0.25', time: '1 hour ago', severity: 'info' },
    { type: 'suspicious', message: 'Unusual request pattern detected', ip: '203.0.113.10', time: '2 hours ago', severity: 'high' }
  ];

  return `
    <div class="api-security-container">
      <style>
        ${getApiSecurityStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ”’ API Security & Compliance</h1>
          <p>Advanced security policies, authentication, compliance monitoring, and threat protection</p>
          <div class="header-status">
            <div class="status-indicator secure">
              <span class="pulse"></span>
              Security Systems Active - Zero Threats Detected
            </div>
            <div class="last-update">Last updated: <span id="securityLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Security Overview -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›¡ï¸ Security Overview</h2>
          <p>Real-time security metrics and threat monitoring</p>
        </div>

        <div class="security-metrics-grid">
          ${securityMetrics.map(metric => `
            <div class="security-metric-card ${metric.trend}">
              <div class="metric-icon">${metric.icon}</div>
              <div class="metric-value">${metric.value}</div>
              <div class="metric-label">${metric.label}</div>
              <div class="metric-change ${metric.trend}">${metric.change}</div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Security Policies -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“‹ Active Security Policies</h2>
          <p>Comprehensive security policies and their enforcement status</p>
        </div>

        <div class="policies-grid">
          ${activePolicies.map(policy => `
            <div class="policy-card ${policy.status} ${parseInt(policy.violations) > 10 ? 'high-violations' : 'low-violations'}">
              <div class="policy-header">
                <h3>${policy.name}</h3>
                <div class="policy-status ${policy.status}">
                  ${policy.status.toUpperCase()}
                </div>
              </div>
              <p class="policy-description">${policy.description}</p>
              <div class="policy-stats">
                <div class="violation-count">
                  <span class="violation-label">Violations:</span>
                  <span class="violation-value ${parseInt(policy.violations) > 10 ? 'high' : 'low'}">${policy.violations}</span>
                </div>
              </div>
              <div class="policy-actions">
                <button class="action-btn small" onclick="editPolicy('${policy.name}')">Edit</button>
                <button class="action-btn small secondary" onclick="viewPolicyLogs('${policy.name}')">Logs</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Security Events -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš¨ Security Events</h2>
          <p>Recent security events and incident monitoring</p>
        </div>

        <div class="security-events">
          <div class="events-filter">
            <select id="eventFilter">
              <option>All Events</option>
              <option>High Severity</option>
              <option>Medium Severity</option>
              <option>Low Severity</option>
              <option>Authentication</option>
              <option>Rate Limiting</option>
            </select>
            <button class="filter-btn" onclick="exportSecurityEvents()">Export Events</button>
          </div>

          <div class="events-list">
            ${securityEvents.map(event => `
              <div class="event-item ${event.severity}">
                <div class="event-severity">
                  <span class="severity-indicator ${event.severity}"></span>
                  ${event.severity.toUpperCase()}
                </div>
                <div class="event-content">
                  <div class="event-message">${event.message}</div>
                  <div class="event-meta">
                    <span class="event-ip">${event.ip}</span>
                    <span class="event-time">${event.time}</span>
                    <span class="event-type">${event.type.replace('_', ' ').toUpperCase()}</span>
                  </div>
                </div>
                <button class="event-action-btn" onclick="investigateEvent('${event.message}')">Investigate</button>
              </div>
            `).join('')}
          </div>
        </div>
      </div>

      <!-- Authentication Management -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ” Authentication Management</h2>
          <p>API authentication methods and access control</p>
        </div>

        <div class="auth-management">
          <div class="auth-methods">
            <div class="auth-method-card">
              <div class="method-header">
                <div class="method-icon">ğŸ”‘</div>
                <h3>API Keys</h3>
              </div>
              <div class="method-stats">
                <div class="stat">Active: 247 keys</div>
                <div class="stat">Usage: 89% of traffic</div>
                <div class="stat">Revoked: 12 keys</div>
              </div>
              <div class="method-actions">
                <button class="action-btn" onclick="manageApiKeys()">Manage Keys</button>
                <button class="action-btn secondary" onclick="rotateKeys()">Rotate Keys</button>
              </div>
            </div>

            <div class="auth-method-card">
              <div class="method-header">
                <div class="method-icon">ğŸ«</div>
                <h3>JWT Tokens</h3>
              </div>
              <div class="method-stats">
                <div class="stat">Active: 1,247 tokens</div>
                <div class="stat">Success Rate: 99.9%</div>
                <div class="stat">Avg Lifespan: 2 hours</div>
              </div>
              <div class="method-actions">
                <button class="action-btn" onclick="configureJwt()">Configure JWT</button>
                <button class="action-btn secondary" onclick="viewTokenLogs()">Token Logs</button>
              </div>
            </div>

            <div class="auth-method-card">
              <div class="method-header">
                <div class="method-icon">ğŸŒ</div>
                <h3>OAuth 2.0</h3>
              </div>
              <div class="method-stats">
                <div class="stat">Clients: 89</div>
                <div class="stat">Grants: 15,234</div>
                <div class="stat">Success Rate: 99.8%</div>
              </div>
              <div class="method-actions">
                <button class="action-btn" onclick="manageOAuthClients()">Manage Clients</button>
                <button class="action-btn secondary" onclick="configureOAuth()">Configure OAuth</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Compliance Dashboard -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“‹ Compliance Dashboard</h2>
          <p>Regulatory compliance monitoring and audit trails</p>
        </div>

        <div class="compliance-dashboard">
          <div class="compliance-metrics">
            <div class="compliance-card">
              <div class="compliance-icon">ğŸ”’</div>
              <div class="compliance-info">
                <h3>GDPR Compliance</h3>
                <p>Data protection and privacy</p>
                <div class="compliance-status compliant">âœ… Compliant</div>
              </div>
            </div>

            <div class="compliance-card">
              <div class="compliance-icon">ğŸ›¡ï¸</div>
              <div class="compliance-info">
                <h3>SOC 2 Type II</h3>
                <p>Security and availability</p>
                <div class="compliance-status compliant">âœ… Certified</div>
              </div>
            </div>

            <div class="compliance-card">
              <div class="compliance-icon">ğŸ“Š</div>
              <div class="compliance-info">
                <h3>PCI DSS</h3>
                <p>Payment card security</p>
                <div class="compliance-status compliant">âœ… Compliant</div>
              </div>
            </div>

            <div class="compliance-card">
              <div class="compliance-icon">ğŸ”</div>
              <div class="compliance-info">
                <h3>Audit Logs</h3>
                <p>Complete audit trails</p>
                <div class="compliance-status compliant">âœ… Active</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Security Controls -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›ï¸ Security Controls</h2>
          <p>Advanced security configuration and management tools</p>
        </div>

        <div class="security-controls">
          <div class="control-group">
            <h3>ğŸ›¡ï¸ Threat Protection</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="configureWaf()">WAF Settings</button>
              <button class="control-btn secondary" onclick="setupDdosProtection()">DDoS Protection</button>
              <button class="control-btn secondary" onclick="manageBlacklist()">IP Blacklist</button>
            </div>
          </div>

          <div class="control-group">
            <h3>ğŸ” Access Control</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="manageRoles()">Role Management</button>
              <button class="control-btn secondary" onclick="configureMfa()">MFA Settings</button>
              <button class="control-btn secondary" onclick="setupSso()">SSO Configuration</button>
            </div>
          </div>

          <div class="control-group">
            <h3>ğŸ“Š Monitoring & Audit</h3>
            <div class="control-buttons">
              <button class="control-btn" onclick="enableSecurityAuditing()">Security Auditing</button>
              <button class="control-btn secondary" onclick="configureComplianceReports()">Compliance Reports</button>
              <button class="control-btn secondary" onclick="setupIntrusionDetection()">Intrusion Detection</button>
            </div>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/monitoring" class="nav-btn secondary">
          <span class="btn-icon">ğŸ“Š</span>
          Monitoring
        </a>
        <a href="/api/documentation" class="nav-btn primary">
          <span class="btn-icon">ğŸ“š</span>
          Documentation
        </a>
      </div>
    </div>

    <script>
      ${getApiSecurityScripts()}
    </script>
  `;
}

function getApiMonitoringStyles(): string {
  return `
    .api-monitoring-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .monitoring-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .monitoring-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .monitoring-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .monitoring-card.neutral {
      border-left: 4px solid #6b7280;
    }

    .monitoring-card.up {
      border-left: 4px solid #22c55e;
    }

    .monitoring-card.down {
      border-left: 4px solid #ef4444;
    }

    .monitoring-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .monitoring-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .monitoring-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .monitoring-change {
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .monitoring-change.neutral {
      background: rgba(107, 114, 128, 0.2);
      color: #6b7280;
    }

    .monitoring-change.up {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .monitoring-change.down {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .performance-table {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      overflow: hidden;
      margin-top: 2rem;
    }

    .table-header {
      display: grid;
      grid-template-columns: 2fr 80px 80px 80px 100px 80px 150px;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      font-weight: 600;
      color: #e0e6ed;
    }

    .table-row {
      display: grid;
      grid-template-columns: 2fr 80px 80px 80px 100px 80px 150px;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background 0.2s ease;
    }

    .table-row:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .endpoint-path {
      color: #40e0d0;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .high-error {
      color: #ef4444;
      font-weight: 600;
    }

    .low-error {
      color: #22c55e;
    }

    .alerts-container {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .alerts-summary {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .alert-summary-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .alert-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .alert-count {
      font-size: 2rem;
      font-weight: 800;
      color: #f59e0b;
      display: block;
      margin-bottom: 0.5rem;
    }

    .alert-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .recent-alerts {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      padding: 1.5rem;
    }

    .recent-alerts h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .alerts-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .alert-item {
      display: grid;
      grid-template-columns: 50px 1fr auto;
      gap: 1rem;
      align-items: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border-left: 4px solid;
    }

    .alert-item.error {
      border-left-color: #ef4444;
    }

    .alert-item.warning {
      border-left-color: #f59e0b;
    }

    .alert-item.success {
      border-left-color: #22c55e;
    }

    .alert-item.info {
      border-left-color: #3b82f6;
    }

    .alert-type-icon {
      font-size: 1.2rem;
    }

    .alert-content {
      flex: 1;
    }

    .alert-message {
      color: #e0e6ed;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .alert-meta {
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .alert-action-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .alert-action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .monitoring-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .control-group {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .control-group h3 {
      color: #e0e6ed;
      margin-bottom: 1.5rem;
    }

    .control-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .control-btn {
      padding: 0.75rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .control-btn:not(.secondary) {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .control-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .control-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .health-dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .health-component {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .component-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .component-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .component-status {
      color: #22c55e;
      font-weight: 600;
    }

    .component-metrics {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .metric {
      font-size: 0.9rem;
      color: #a0a9b8;
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-monitoring-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .alerts-container {
        grid-template-columns: 1fr;
      }

      .monitoring-controls {
        grid-template-columns: 1fr;
      }

      .health-dashboard {
        grid-template-columns: 1fr;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }

      /* Enhanced Monitoring Dashboard */
      .monitoring-dashboard {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .monitoring-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
      }

      .monitoring-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .monitoring-card:hover {
        transform: translateY(-5px);
        border-color: #40e0d0;
        box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
      }

      .monitoring-card.up {
        border-left: 4px solid #22c55e;
      }

      .monitoring-card.down {
        border-left: 4px solid #ef4444;
      }

      .monitoring-card.neutral {
        border-left: 4px solid #a0a9b8;
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .metric-sparkline {
        opacity: 0.7;
      }

      .card-content {
        margin-bottom: 1rem;
      }

      .card-footer {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .metric-target,
      .metric-status {
        font-size: 0.8rem;
        color: #a0a9b8;
      }

      .metric-status.good {
        color: #22c55e;
      }

      .metric-status.warning {
        color: #f59e0b;
      }

      .metric-status.neutral {
        color: #a0a9b8;
      }

      /* Performance Chart Section */
      .performance-chart-section {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.2);
      }

      .chart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
      }

      .chart-header h3 {
        color: #e0e6ed;
        margin: 0;
      }

      .chart-controls {
        display: flex;
        gap: 0.5rem;
      }

      .chart-btn {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(64, 224, 208, 0.1);
        color: #40e0d0;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .chart-btn:hover,
      .chart-btn.active {
        background: #40e0d0;
        color: #0a0e27;
      }

      .live-chart-container {
        position: relative;
        height: 300px;
      }

      .chart-loading {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #a0a9b8;
      }

      .loading-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0.5;
      }

      .loading-text {
        font-size: 0.9rem;
        margin-bottom: 1rem;
      }

      .loading-spinner {
        width: 20px;
        height: 20px;
        border: 2px solid rgba(64, 224, 208, 0.3);
        border-top: 2px solid #40e0d0;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      /* Advanced Alert Management */
      .alerts-dashboard {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .alerts-summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .alert-summary-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .alert-summary-card:hover {
        transform: translateY(-5px);
        border-color: #40e0d0;
        box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
      }

      .alert-summary-card.critical {
        border-left: 4px solid #ef4444;
      }

      .alert-summary-card.resolved {
        border-left: 4px solid #22c55e;
      }

      .alert-summary-card.weekly {
        border-left: 4px solid #40e0d0;
      }

      .alert-summary-card.rules {
        border-left: 4px solid #f59e0b;
      }

      .alert-summary-card .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .alert-summary-card .card-content {
        flex: 1;
      }

      .alert-pulse {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #ef4444;
        animation: pulse 2s infinite;
      }

      .resolution-rate {
        font-size: 0.8rem;
        color: #22c55e;
        font-weight: 700;
        background: rgba(34, 197, 94, 0.1);
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
      }

      .weekly-chart {
        opacity: 0.7;
      }

      .rules-status.active {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #f59e0b;
      }

      .alert-trend {
        font-size: 0.8rem;
        font-weight: 600;
        margin-top: 0.5rem;
      }

      .alert-trend.good {
        color: #22c55e;
      }

      .alert-trend.warning {
        color: #f59e0b;
      }

      .alert-trend.neutral {
        color: #a0a9b8;
      }

      /* Alert Timeline */
      .alerts-timeline {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.2);
      }

      .timeline-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .timeline-header h3 {
        color: #e0e6ed;
        margin: 0;
      }

      .timeline-controls {
        display: flex;
        gap: 0.5rem;
      }

      .timeline-btn {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(64, 224, 208, 0.1);
        color: #40e0d0;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .timeline-btn:hover,
      .timeline-btn.active {
        background: #40e0d0;
        color: #0a0e27;
      }

      .timeline-container {
        position: relative;
      }

      .timeline-item {
        display: flex;
        margin-bottom: 2rem;
        position: relative;
        animation: fadeInUp 0.6s ease-out both;
      }

      .timeline-marker {
        flex-shrink: 0;
        width: 40px;
        position: relative;
        margin-right: 1rem;
      }

      .marker-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        position: absolute;
        top: 6px;
        left: 14px;
        z-index: 2;
      }

      .marker-dot.error {
        background: #ef4444;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
      }

      .marker-dot.warning {
        background: #f59e0b;
        box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2);
      }

      .marker-dot.success {
        background: #22c55e;
        box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2);
      }

      .marker-dot.info {
        background: #40e0d0;
        box-shadow: 0 0 0 3px rgba(64, 224, 208, 0.2);
      }

      .marker-line {
        width: 2px;
        height: 100%;
        background: rgba(64, 224, 208, 0.2);
        position: absolute;
        left: 20px;
        top: 18px;
      }

      .timeline-content {
        flex: 1;
      }

      .alert-card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 1.5rem;
        border: 1px solid rgba(64, 224, 208, 0.3);
        transition: all 0.3s ease;
      }

      .alert-card:hover {
        border-color: #40e0d0;
        box-shadow: 0 4px 15px rgba(64, 224, 208, 0.1);
      }

      .alert-card.error {
        border-left: 4px solid #ef4444;
      }

      .alert-card.warning {
        border-left: 4px solid #f59e0b;
      }

      .alert-card.success {
        border-left: 4px solid #22c55e;
      }

      .alert-card.info {
        border-left: 4px solid #40e0d0;
      }

      .alert-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
      }

      .alert-type-icon {
        font-size: 1.5rem;
        margin-right: 1rem;
      }

      .alert-meta {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        font-size: 0.8rem;
        color: #a0a9b8;
      }

      .alert-time {
        font-weight: 600;
      }

      .alert-endpoint {
        color: #40e0d0;
      }

      .alert-actions {
        display: flex;
        gap: 0.5rem;
      }

      .alert-action-btn {
        padding: 0.5rem 1rem;
        border-radius: 6px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(64, 224, 208, 0.1);
        color: #40e0d0;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .alert-action-btn:hover {
        background: #40e0d0;
        color: #0a0e27;
      }

      .alert-action-btn.secondary {
        background: rgba(255, 255, 255, 0.1);
        color: #a0a9b8;
        border-color: rgba(255, 255, 255, 0.2);
      }

      .alert-action-btn.secondary:hover {
        background: rgba(255, 255, 255, 0.2);
        color: #e0e6ed;
      }

      .alert-action-btn.danger {
        background: rgba(239, 68, 68, 0.1);
        color: #ef4444;
        border-color: rgba(239, 68, 68, 0.3);
      }

      .alert-action-btn.danger:hover {
        background: #ef4444;
        color: white;
      }

      .alert-message {
        color: #e0e6ed;
        font-weight: 600;
        margin-bottom: 1rem;
        line-height: 1.4;
      }

      .alert-details {
        display: flex;
        gap: 2rem;
        font-size: 0.8rem;
        color: #a0a9b8;
      }

      .detail-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      /* Filters */
      .alert-filters {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .alert-filters select {
        padding: 0.5rem 1rem;
        border-radius: 8px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(255, 255, 255, 0.05);
        color: #e0e6ed;
        font-size: 0.9rem;
      }

      .alert-filters select:focus {
        outline: none;
        border-color: #40e0d0;
      }

      .time-range-selector select {
        padding: 0.5rem 1rem;
        border-radius: 8px;
        border: 1px solid rgba(64, 224, 208, 0.3);
        background: rgba(255, 255, 255, 0.05);
        color: #e0e6ed;
        font-size: 0.9rem;
      }

      .time-range-selector select:focus {
        outline: none;
        border-color: #40e0d0;
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .monitoring-dashboard {
          gap: 1.5rem;
        }

        .monitoring-grid {
          grid-template-columns: 1fr;
        }

        .alerts-summary-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .alert-filters {
          flex-direction: column;
          width: 100%;
        }

        .alert-filters select {
          flex: 1;
        }

        .timeline-header {
          flex-direction: column;
          gap: 1rem;
          align-items: flex-start;
        }

        .timeline-controls {
          width: 100%;
          justify-content: center;
        }

        .alert-header {
          flex-direction: column;
          gap: 1rem;
          align-items: flex-start;
        }

        .alert-actions {
          width: 100%;
          justify-content: center;
        }

        .alert-details {
          flex-direction: column;
          gap: 0.5rem;
        }
      }
    }

    /* Enhanced API Monitoring Styles */

    /* Predictive Analytics */
    .predictive-analytics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }

    .predictive-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.3s ease;
    }

    .predictive-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .predictive-card .card-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .predictive-icon {
      font-size: 2rem;
    }

    .predictive-card h3 {
      color: #e0e6ed;
      margin: 0;
      font-size: 1.3rem;
    }

    .prediction-metric {
      text-align: center;
      margin-bottom: 1rem;
    }

    .prediction-metric .metric-value {
      font-size: 2rem;
      font-weight: 700;
      color: #22c55e;
      margin-bottom: 0.5rem;
    }

    .prediction-metric .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .confidence-indicator {
      text-align: center;
    }

    .confidence-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      margin-bottom: 0.5rem;
      overflow: hidden;
    }

    .confidence-fill {
      height: 100%;
      background: linear-gradient(90deg, #22c55e, #40e0d0);
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .confidence-text {
      color: #40e0d0;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .prediction-alert {
      padding: 0.75rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .prediction-alert.warning {
      background: rgba(251, 191, 36, 0.1);
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .prediction-alert .alert-icon {
      color: #fbbf24;
    }

    .recommendation {
      padding: 0.75rem;
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .recommendation .rec-icon {
      color: #22c55e;
    }

    .threat-level {
      text-align: center;
      margin-bottom: 1rem;
    }

    .threat-indicator {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: 600;
    }

    .threat-indicator.low {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .threat-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
    }

    .threat-analysis {
      margin-top: 1rem;
    }

    .analysis-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
      margin-bottom: 0.5rem;
    }

    .analysis-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .analysis-value {
      color: #e0e6ed;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .cost-saving {
      text-align: center;
      margin-bottom: 1rem;
    }

    .saving-amount {
      font-size: 2rem;
      font-weight: 700;
      color: #ffd700;
      margin-bottom: 0.5rem;
    }

    .saving-period {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .optimization-tips {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .optimization-tips .tip {
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    /* Cost Analysis */
    .cost-analysis-dashboard {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 2rem;
    }

    .cost-metrics {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .cost-metric-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: all 0.3s ease;
    }

    .cost-metric-card:hover {
      transform: translateY(-2px);
      border-color: #ffd700;
    }

    .cost-metric-card .metric-icon {
      font-size: 2rem;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 50%;
    }

    .cost-metric-card .metric-content {
      flex: 1;
    }

    .cost-metric-card .metric-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffd700;
      margin-bottom: 0.25rem;
    }

    .cost-metric-card .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .cost-metric-card .metric-change {
      font-size: 0.8rem;
      font-weight: 600;
    }

    .cost-metric-card .metric-change.up {
      color: #22c55e;
    }

    .cost-metric-card .metric-change.down {
      color: #ef4444;
    }

    .cost-breakdown h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .cost-breakdown-chart {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .cost-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .service-name {
      flex: 1;
      font-weight: 600;
      color: #e0e6ed;
    }

    .service-cost {
      color: #ffd700;
      font-weight: 600;
      min-width: 80px;
      text-align: right;
    }

    .service-percentage {
      color: #a0a9b8;
      font-size: 0.9rem;
      min-width: 50px;
      text-align: right;
    }

    .cost-bar {
      flex: 2;
      height: 12px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      overflow: hidden;
      margin-left: 1rem;
    }

    .cost-fill {
      height: 100%;
      border-radius: 6px;
      transition: width 0.3s ease;
    }

    .cost-fill.compute {
      background: linear-gradient(90deg, #ffd700, #ff6b35);
    }

    .cost-fill.storage {
      background: linear-gradient(90deg, #40e0d0, #06b6d4);
    }

    .cost-fill.bandwidth {
      background: linear-gradient(90deg, #a855f7, #8b5cf6);
    }

    .cost-fill.monitoring {
      background: linear-gradient(90deg, #22c55e, #16a34a);
    }

    /* Versioning */
    .versioning-dashboard {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
    }

    .version-overview {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .version-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border-left: 4px solid;
      position: relative;
    }

    .version-card.current {
      border-left-color: #22c55e;
    }

    .version-card.deprecated {
      border-left-color: #f59e0b;
    }

    .version-card.legacy {
      border-left-color: #ef4444;
    }

    .version-badge {
      font-size: 1.2rem;
      font-weight: 700;
      color: #ffd700;
      margin-bottom: 0.5rem;
    }

    .version-status {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .version-card.current .version-status {
      color: #22c55e;
    }

    .version-card.deprecated .version-status {
      color: #f59e0b;
    }

    .version-card.legacy .version-status {
      color: #ef4444;
    }

    .version-usage {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .version-date {
      color: #40e0d0;
      font-size: 0.8rem;
      margin-bottom: 1rem;
    }

    .deprecation-notice {
      padding: 0.75rem;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .version-card.deprecated .deprecation-notice {
      background: rgba(245, 158, 11, 0.1);
      border: 1px solid rgba(245, 158, 11, 0.3);
      color: #f59e0b;
    }

    .version-card.legacy .deprecation-notice {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      color: #ef4444;
    }

    .warning-icon {
      font-size: 1.2rem;
    }

    .migration-planning h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
    }

    .migration-steps {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .migration-step {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
      border-left: 4px solid;
    }

    .migration-step.completed {
      border-left-color: #22c55e;
      background: rgba(34, 197, 94, 0.05);
    }

    .migration-step.in-progress {
      border-left-color: #ffd700;
      background: rgba(255, 215, 0, 0.05);
    }

    .migration-step.upcoming {
      border-left-color: #a0a9b8;
      background: rgba(160, 169, 184, 0.05);
    }

    .step-number {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.1rem;
    }

    .migration-step.completed .step-number {
      background: #22c55e;
      color: white;
    }

    .migration-step.in-progress .step-number {
      background: #ffd700;
      color: #000;
    }

    .migration-step.upcoming .step-number {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
    }

    .step-content {
      flex: 1;
    }

    .step-title {
      font-weight: 600;
      color: #e0e6ed;
      margin-bottom: 0.25rem;
    }

    .step-description {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .step-date {
      color: #40e0d0;
      font-size: 0.8rem;
    }

    .step-status {
      font-size: 1.5rem;
    }

    /* Error Analysis */
    .error-analysis-dashboard {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    .error-overview {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .error-summary {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .error-metric {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .error-value {
      font-size: 2rem;
      font-weight: 700;
      color: #ef4444;
      margin-bottom: 0.5rem;
    }

    .error-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .error-trend {
      font-size: 0.8rem;
      font-weight: 600;
    }

    .error-trend.down {
      color: #22c55e;
    }

    .error-breakdown {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
    }

    .error-type {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .error-code {
      font-size: 1.2rem;
      font-weight: 700;
      color: #ef4444;
      display: block;
      margin-bottom: 0.5rem;
    }

    .error-count {
      font-size: 1.1rem;
      font-weight: 600;
      color: #e0e6ed;
      display: block;
      margin-bottom: 0.25rem;
    }

    .error-percentage {
      font-size: 0.9rem;
      color: #a0a9b8;
    }

    .error-heatmap h3 {
      color: #ef4444;
      margin-bottom: 1rem;
      text-align: center;
    }

    .heatmap-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 0.5rem;
    }

    .heatmap-cell {
      aspect-ratio: 1;
      border-radius: 4px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .heatmap-cell.high {
      background: rgba(239, 68, 68, 0.8);
    }

    .heatmap-cell.medium {
      background: rgba(251, 191, 36, 0.6);
    }

    .heatmap-cell.low {
      background: rgba(34, 197, 94, 0.4);
    }

    .hour-label {
      font-size: 0.7rem;
      color: white;
      font-weight: 600;
      z-index: 1;
    }

    .error-intensity {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.2);
      height: 20%;
    }

    .error-details h3 {
      color: #ef4444;
      margin-bottom: 1rem;
    }

    .error-patterns {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .error-pattern-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .pattern-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .error-description {
      color: #e0e6ed;
      font-weight: 600;
    }

    .pattern-analysis {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .analysis-point {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .point-icon {
      color: #40e0d0;
    }

    /* Integration Health */
    .integration-health-dashboard {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .integration-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .integration-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border-left: 4px solid;
      transition: all 0.3s ease;
    }

    .integration-card:hover {
      transform: translateY(-5px);
    }

    .integration-card.healthy {
      border-left-color: #22c55e;
    }

    .integration-card.warning {
      border-left-color: #f59e0b;
    }

    .integration-card.error {
      border-left-color: #ef4444;
    }

    .integration-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .integration-icon {
      font-size: 2.5rem;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
    }

    .integration-info h3 {
      color: #e0e6ed;
      margin-bottom: 0.25rem;
      font-size: 1.2rem;
    }

    .integration-status {
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .integration-card.healthy .integration-status {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .integration-card.warning .integration-status {
      background: rgba(245, 158, 11, 0.2);
      color: #f59e0b;
    }

    .integration-card.error .integration-status {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .integration-metrics {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .integration-metrics .metric {
      text-align: center;
      font-size: 0.9rem;
    }

    .integration-metrics .metric:first-child {
      color: #40e0d0;
    }

    .integration-metrics .metric:nth-child(2) {
      color: #ffd700;
    }

    .integration-metrics .metric:last-child {
      color: #22c55e;
    }

    .integration-alert {
      padding: 0.75rem;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }

    .integration-alert.warning {
      background: rgba(245, 158, 11, 0.1);
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    .integration-alert.critical {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .alert-icon {
      font-size: 1.2rem;
    }

    .integration-summary {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .summary-stats {
      display: flex;
      justify-content: space-around;
      text-align: center;
    }

    .summary-stat .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: #40e0d0;
      display: block;
      margin-bottom: 0.25rem;
    }

    .summary-stat .stat-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    /* Performance Optimization */
    .optimization-dashboard {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
    }

    .optimization-recommendations {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .recommendation-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border-left: 4px solid;
      transition: all 0.3s ease;
    }

    .recommendation-card:hover {
      transform: translateY(-5px);
    }

    .recommendation-card.high-impact {
      border-left-color: #22c55e;
    }

    .recommendation-card.medium-impact {
      border-left-color: #ffd700;
    }

    .recommendation-card.low-impact {
      border-left-color: #a0a9b8;
    }

    .rec-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .rec-priority {
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .rec-priority.high {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .rec-priority.medium {
      background: rgba(255, 215, 0, 0.2);
      color: #ffd700;
    }

    .rec-priority.low {
      background: rgba(160, 169, 184, 0.2);
      color: #a0a9b8;
    }

    .rec-icon {
      font-size: 1.5rem;
    }

    .recommendation-card h3 {
      color: #e0e6ed;
      margin: 0;
      font-size: 1.2rem;
    }

    .rec-content p {
      color: #a0a9b8;
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .rec-metrics {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .rec-metrics .metric {
      font-size: 0.9rem;
      color: #40e0d0;
    }

    .rec-actions {
      display: flex;
      gap: 0.5rem;
    }

    .rec-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s ease;
    }

    .rec-btn.primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
    }

    .rec-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
    }

    .rec-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .rec-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    .optimization-simulator {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .optimization-simulator h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .simulator-controls {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .simulator-input {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .simulator-input label {
      color: #a0a9b8;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .simulator-input input {
      padding: 0.75rem;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      font-size: 1rem;
    }

    .simulator-input input:focus {
      outline: none;
      border-color: #40e0d0;
      box-shadow: 0 0 0 2px rgba(64, 224, 208, 0.1);
    }

    .simulator-results {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .result-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .result-item.savings {
      background: rgba(34, 197, 94, 0.1);
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .result-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .result-value {
      color: #ffd700;
      font-weight: 600;
      font-size: 1rem;
    }

    .result-item.savings .result-value {
      color: #22c55e;
    }

    /* Live Betting Dashboard Styles */
    .betting-dashboard {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    /* Betting Summary Grid */
    .betting-summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }

    .betting-metric-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .betting-metric-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .betting-metric-card .metric-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 50%;
    }

    .betting-metric-card .metric-content {
      text-align: center;
    }

    .betting-metric-card .metric-value {
      font-size: 2rem;
      font-weight: 700;
      color: #ffd700;
      margin-bottom: 0.5rem;
    }

    .betting-metric-card .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .betting-metric-card .metric-change {
      font-size: 0.8rem;
      font-weight: 600;
    }

    .betting-metric-card .metric-change.up {
      color: #22c55e;
    }

    .betting-metric-card .metric-change.down {
      color: #ef4444;
    }

    .betting-metric-card .metric-change.warning {
      color: #f59e0b;
    }

    .betting-metric-card .metric-change.neutral {
      color: #40e0d0;
    }

    /* Live Games Section */
    .live-games-section h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
    }

    .game-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid;
      transition: all 0.3s ease;
      position: relative;
    }

    .game-card:hover {
      transform: translateY(-5px);
    }

    .game-card.live-game {
      border-color: #22c55e;
      background: rgba(34, 197, 94, 0.05);
    }

    .game-card.live-game:hover {
      border-color: #22c55e;
      box-shadow: 0 8px 25px rgba(34, 197, 94, 0.2);
    }

    .game-card.upcoming-game {
      border-color: #40e0d0;
      background: rgba(64, 224, 208, 0.05);
    }

    .game-card.upcoming-game:hover {
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .game-card.completed-game {
      border-color: #a0a9b8;
      background: rgba(160, 169, 184, 0.05);
    }

    .game-card.completed-game:hover {
      border-color: #a0a9b8;
      box-shadow: 0 8px 25px rgba(160, 169, 184, 0.2);
    }

    .game-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .game-teams {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .team {
      text-align: center;
    }

    .team.winner {
      font-weight: 700;
    }

    .team-name {
      font-weight: 600;
      color: #e0e6ed;
      display: block;
    }

    .team-record {
      font-size: 0.8rem;
      color: #a0a9b8;
    }

    .vs {
      font-weight: 700;
      color: #ffd700;
      padding: 0.5rem;
    }

    .game-status {
      font-size: 0.9rem;
      font-weight: 600;
      padding: 0.5rem 1rem;
      border-radius: 20px;
    }

    .game-status.live {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .game-status.upcoming {
      background: rgba(64, 224, 208, 0.2);
      color: #40e0d0;
    }

    .game-status.completed {
      background: rgba(160, 169, 184, 0.2);
      color: #a0a9b8;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
      animation: pulse 2s infinite;
    }

    .game-metrics {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .game-metrics .metric {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .game-metrics .label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .game-metrics .value {
      color: #e0e6ed;
      font-weight: 600;
    }

    .game-actions {
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
    }

    .game-actions .action-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .game-actions .action-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .game-actions .action-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .game-actions .action-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .game-actions .action-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    /* Odds Monitoring Section */
    .odds-monitoring-section h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .odds-alerts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
    }

    .odds-alert-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid;
      transition: all 0.3s ease;
    }

    .odds-alert-card:hover {
      transform: translateY(-5px);
    }

    .odds-alert-card.warning {
      border-color: #f59e0b;
      background: rgba(245, 158, 11, 0.05);
    }

    .odds-alert-card.warning:hover {
      border-color: #f59e0b;
      box-shadow: 0 8px 25px rgba(245, 158, 11, 0.2);
    }

    .odds-alert-card.info {
      border-color: #40e0d0;
      background: rgba(64, 224, 208, 0.05);
    }

    .odds-alert-card.info:hover {
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .odds-alert-card.success {
      border-color: #22c55e;
      background: rgba(34, 197, 94, 0.05);
    }

    .odds-alert-card.success:hover {
      border-color: #22c55e;
      box-shadow: 0 8px 25px rgba(34, 197, 94, 0.2);
    }

    .alert-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .alert-icon {
      font-size: 1.5rem;
    }

    .odds-alert-card h4 {
      color: #e0e6ed;
      margin: 0;
      font-size: 1.1rem;
    }

    .alert-time {
      margin-left: auto;
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .alert-content {
      margin-bottom: 1rem;
    }

    .game-info {
      font-weight: 600;
      color: #ffd700;
      margin-bottom: 1rem;
    }

    .odds-comparison {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .our-odds, .market-odds, .discrepancy {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .discrepancy .value.warning {
      color: #ef4444;
      font-weight: 700;
    }

    .market-movement {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .movement-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .position-recommendation {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .rec-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .alert-actions {
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
    }

    .alert-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .alert-btn.primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
    }

    .alert-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3);
    }

    .alert-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .alert-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    /* Position Tracking Section */
    .position-tracking-section h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .position-dashboard {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
    }

    .position-summary {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .position-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
    }

    .position-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .position-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .position-card h4 {
      color: #e0e6ed;
      margin: 0;
      font-size: 1.2rem;
    }

    .position-status {
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .position-status.live {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .position-status.upcoming {
      background: rgba(64, 224, 208, 0.2);
      color: #40e0d0;
    }

    .position-breakdown {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .position-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .bet-type {
      font-weight: 600;
      color: #e0e6ed;
    }

    .amount {
      color: #ffd700;
      font-weight: 700;
    }

    .positions {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .position-actions {
      display: flex;
      gap: 0.5rem;
      justify-content: flex-end;
    }

    .position-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s ease;
    }

    .position-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .position-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .position-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .position-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    .position-analytics {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .position-analytics h4 {
      color: #40e0d0;
      margin-bottom: 1rem;
      text-align: center;
    }

    .analytics-metrics {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .analytics-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .analytics-item .label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .analytics-item .value {
      color: #e0e6ed;
      font-weight: 600;
    }

    .analytics-item .value.low-risk {
      color: #22c55e;
    }

    /* Market Data Section */
    .market-data-section h3 {
      color: #ffd700;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .market-comparison-table {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255, 215, 0, 0.3);
    }

    .market-comparison-table .table-header {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
      background: rgba(255, 215, 0, 0.1);
      border-bottom: 1px solid rgba(255, 215, 0, 0.3);
    }

    .market-comparison-table .table-header .table-cell {
      font-weight: 700;
      color: #ffd700;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .table-row {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.2s ease;
    }

    .table-row:hover {
      background: rgba(255, 255, 255, 0.02);
    }

    .table-row .table-cell {
      display: flex;
      align-items: center;
      color: #e0e6ed;
    }

    .game-cell {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.25rem;
    }

    .game-name {
      font-weight: 600;
      color: #e0e6ed;
    }

    .game-time {
      font-size: 0.8rem;
      color: #a0a9b8;
    }

    .table-cell.warning {
      color: #ef4444;
      font-weight: 700;
    }

    .table-cell.success {
      color: #22c55e;
      font-weight: 700;
    }

    .table-cell.neutral {
      color: #40e0d0;
    }

    .table-btn {
      padding: 0.4rem 0.8rem;
      border-radius: 4px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s ease;
    }

    .table-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .table-btn.primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
    }

    .table-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .table-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    .table-btn.success {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
    }

    .table-btn.success:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);
    }

    /* Live Status Indicator */
    .live-status .status-indicator.live::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      border: 2px solid rgba(34, 197, 94, 0.3);
      border-radius: 50%;
      animation: pulse-ring 2s infinite;
    }

    .live-status .status-text {
      color: #22c55e;
      font-weight: 600;
    }

    /* Responsive Design for Betting Dashboard */
    @media (max-width: 768px) {
      .betting-summary-grid {
        grid-template-columns: 1fr;
      }

      .games-grid {
        grid-template-columns: 1fr;
      }

      .odds-alerts-grid {
        grid-template-columns: 1fr;
      }

      .position-dashboard {
        grid-template-columns: 1fr;
      }

      .market-comparison-table .table-header,
      .market-comparison-table .table-row {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }

      .market-comparison-table .table-header {
        display: none;
      }

      .table-row .table-cell {
        justify-content: space-between;
        padding: 0.25rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .table-row .table-cell::before {
        content: attr(data-label);
        font-weight: 600;
        color: #a0a9b8;
        font-size: 0.8rem;
      }

      .game-cell::before {
        content: "Game";
      }

      .table-cell:nth-child(2)::before {
        content: "Our Line";
      }

      .table-cell:nth-child(3)::before {
        content: "Market Avg";
      }

      .table-cell:nth-child(4)::before {
        content: "Difference";
      }

      .table-cell:nth-child(5)::before {
        content: "Sharp Action";
      }

      .table-cell:nth-child(6)::before {
        content: "Action";
      }
    }
  `;
}

function getApiMonitoringScripts(): string {
  return `
    // API Monitoring - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiMonitoring();
    });

    function initializeApiMonitoring() {
      startMonitoringUpdates();
      setupMonitoringListeners();

      // Initialize enhanced features
      initializeMonitoringDashboard();
      initializePerformanceChart();
      initializeAlertManagement();

      // Initialize new enhanced features
      initializePredictiveAnalytics();
      initializeCostAnalysis();
      initializeErrorAnalysis();
      initializeIntegrationHealth();
      startBettingUpdates();
    }

    function startMonitoringUpdates() {
      setInterval(() => {
        updateMonitoringTimestamp();
        updateMonitoringMetrics();
      }, 1000);
    }

    function updateMonitoringTimestamp() {
      const element = document.getElementById('monitoringLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function updateMonitoringMetrics() {
      // Simulate metric updates
      const monitoringCards = document.querySelectorAll('.monitoring-card');
      monitoringCards.forEach(card => {
        if (Math.random() < 0.1) {
          card.style.animation = 'pulse 0.5s ease-in-out';
          setTimeout(() => {
            card.style.animation = '';
          }, 500);
        }
      });
    }

    function setupMonitoringListeners() {
      // Control buttons
      document.querySelectorAll('.control-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          handleMonitoringAction(action);
        });
      });
    }

    // Global functions for button onclick handlers
    function viewEndpointPerformance(endpoint) {
      alert(\`ğŸ“Š Endpoint Performance: \${endpoint}\\\\n\\\\nğŸ“ˆ Performance Metrics:\\\\nâ€¢ Response Time: 142ms (P50), 234ms (P95), 456ms (P99)\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Error Rate: 0.1%\\\\nâ€¢ Daily Calls: 15.2K\\\\n\\\\nğŸ“Š Usage Trends:\\\\nâ€¢ Peak hour: 8:00 PM\\\\nâ€¢ Average payload: 2.3KB\\\\nâ€¢ Cache hit rate: 94.2%\\\\nâ€¢ Geographic distribution: 67 countries\\\\n\\\\nğŸ”§ Optimization Recommendations:\\\\nâ€¢ Consider implementing response caching\\\\nâ€¢ Evaluate load balancer distribution\\\\nâ€¢ Monitor for seasonal traffic patterns\`);
    }

    function configureEndpointAlerts(endpoint) {
      alert(\`ğŸš¨ Endpoint Alert Configuration: \${endpoint}\\\\n\\\\nâš ï¸ Current Alert Rules:\\\\nâ€¢ Response time > 500ms\\\\nâ€¢ Error rate > 5%\\\\nâ€¢ Success rate < 95%\\\\nâ€¢ Daily calls > 20K\\\\n\\\\nğŸ“§ Notification Settings:\\\\nâ€¢ Email: alerts@company.com\\\\nâ€¢ Slack: #api-alerts\\\\nâ€¢ SMS: Emergency only\\\\nâ€¢ PagerDuty: Critical alerts\\\\n\\\\nğŸ”§ Alert Actions:\\\\nâ€¢ Log to monitoring system\\\\nâ€¢ Send notification\\\\nâ€¢ Trigger escalation\\\\nâ€¢ Auto-mitigation attempt\\\\n\\\\nâœ… Alert rules configured for \${endpoint}\`);
    }

    function viewAlertDetails(message) {
      alert(\`ğŸ” Alert Details: \${message}\\\\n\\\\nğŸ“‹ Alert Information:\\\\nâ€¢ Severity: Medium\\\\nâ€¢ Status: Resolved\\\\nâ€¢ Duration: 15 minutes\\\\nâ€¢ Affected endpoints: 3\\\\nâ€¢ User impact: Minimal\\\\n\\\\nğŸ”§ Resolution Steps:\\\\nâ€¢ Database connection restored\\\\nâ€¢ Cache cleared and rebuilt\\\\nâ€¢ Load balancer rebalanced\\\\nâ€¢ Monitoring alerts reset\\\\n\\\\nğŸ“Š Impact Assessment:\\\\nâ€¢ Total downtime: 15 minutes\\\\nâ€¢ Affected requests: 2,847\\\\nâ€¢ User notifications: 0\\\\nâ€¢ Recovery time: 2 minutes\\\\n\\\\nâœ… Incident resolved successfully\`);
    }

    function handleMonitoringAction(action) {
      switch(action) {
        case 'Detailed Logging':
          alert('ğŸ“ Detailed Logging Enabled\\\\n\\\\nğŸ” Enhanced Logging Configuration:\\\\nâ€¢ Request/Response headers\\\\nâ€¢ Query parameters\\\\nâ€¢ User agent details\\\\nâ€¢ Geographic information\\\\nâ€¢ Performance timings\\\\n\\\\nğŸ“Š Log Analysis Features:\\\\nâ€¢ Real-time log streaming\\\\nâ€¢ Advanced search filters\\\\nâ€¢ Pattern recognition\\\\nâ€¢ Anomaly detection\\\\nâ€¢ Automated alerting\\\\n\\\\nğŸ“ Log Storage:\\\\nâ€¢ Retention: 90 days\\\\nâ€¢ Compression: Enabled\\\\nâ€¢ Encryption: AES-256\\\\nâ€¢ Backup: Daily\\\\n\\\\nâœ… Detailed logging active for all endpoints');
          break;
        case 'Metrics Config':
          alert('ğŸ“Š Metrics Configuration\\\\n\\\\nâš™ï¸ Current Metrics:\\\\nâ€¢ Response time percentiles\\\\nâ€¢ Error rates and types\\\\nâ€¢ Request throughput\\\\nâ€¢ Resource utilization\\\\nâ€¢ Geographic distribution\\\\n\\\\nğŸ“ˆ Custom Metrics:\\\\nâ€¢ Business KPIs\\\\nâ€¢ User experience metrics\\\\nâ€¢ Performance benchmarks\\\\nâ€¢ SLA compliance\\\\nâ€¢ Cost optimization\\\\n\\\\nğŸ”§ Configuration Options:\\\\nâ€¢ Sampling rates\\\\nâ€¢ Retention policies\\\\nâ€¢ Aggregation intervals\\\\nâ€¢ Alert thresholds\\\\nâ€¢ Export formats\\\\n\\\\nâœ… Metrics configuration updated');
          break;
        case 'Custom Dashboards':
          alert('ğŸ“Š Custom Dashboard Builder\\\\n\\\\nğŸ›ï¸ Dashboard Components:\\\\nâ€¢ Real-time metrics charts\\\\nâ€¢ Performance trend graphs\\\\nâ€¢ Error rate visualizations\\\\nâ€¢ Geographic heatmaps\\\\nâ€¢ Custom KPI widgets\\\\n\\\\nğŸ“‹ Available Widgets:\\\\nâ€¢ Line charts\\\\nâ€¢ Bar charts\\\\nâ€¢ Pie charts\\\\nâ€¢ Gauge meters\\\\nâ€¢ Data tables\\\\nâ€¢ Status indicators\\\\n\\\\nğŸ”§ Dashboard Features:\\\\nâ€¢ Drag-and-drop layout\\\\nâ€¢ Real-time updates\\\\nâ€¢ Custom time ranges\\\\nâ€¢ Alert integration\\\\nâ€¢ Export capabilities\\\\n\\\\nâœ… Custom dashboard created and saved');
          break;
        case 'Create Alert Rule':
          alert('ğŸš¨ Create Alert Rule\\\\n\\\\nâš ï¸ Alert Rule Builder:\\\\n\\\\nğŸ“Š Metric Selection:\\\\nâ€¢ Response time\\\\nâ€¢ Error rate\\\\nâ€¢ Request count\\\\nâ€¢ Resource usage\\\\nâ€¢ Custom metrics\\\\n\\\\nğŸ”§ Condition Builder:\\\\nâ€¢ Greater than\\\\nâ€¢ Less than\\\\nâ€¢ Percentage change\\\\nâ€¢ Absolute value\\\\nâ€¢ Trend analysis\\\\n\\\\nğŸ“§ Notification Settings:\\\\nâ€¢ Email recipients\\\\nâ€¢ Slack channels\\\\nâ€¢ SMS numbers\\\\nâ€¢ Webhook URLs\\\\nâ€¢ Escalation rules\\\\n\\\\nâ° Schedule Settings:\\\\nâ€¢ 24/7 monitoring\\\\nâ€¢ Business hours\\\\nâ€¢ Maintenance windows\\\\nâ€¢ Custom schedules\\\\n\\\\nâœ… Alert rule created and activated');
          break;
        case 'Notification Channels':
          alert('ğŸ“¢ Notification Channels\\\\n\\\\nğŸ“§ Email Notifications:\\\\nâ€¢ SMTP configuration\\\\nâ€¢ Template customization\\\\nâ€¢ Recipient management\\\\nâ€¢ Delivery tracking\\\\n\\\\nğŸ’¬ Slack Integration:\\\\nâ€¢ Webhook setup\\\\nâ€¢ Channel selection\\\\nâ€¢ Message formatting\\\\nâ€¢ User mentions\\\\n\\\\nğŸ“± SMS Notifications:\\\\nâ€¢ Provider configuration\\\\nâ€¢ Phone number management\\\\nâ€¢ Message templates\\\\nâ€¢ Delivery confirmation\\\\n\\\\nğŸ”— Webhook Integration:\\\\nâ€¢ Custom endpoints\\\\nâ€¢ Authentication\\\\nâ€¢ Payload formatting\\\\nâ€¢ Retry policies\\\\n\\\\nâœ… Notification channels configured');
          break;
        case 'Escalation Policies':
          alert('ğŸ“ˆ Escalation Policies\\\\n\\\\nâš ï¸ Escalation Rules:\\\\n\\\\nğŸ“Š Severity Levels:\\\\nâ€¢ Low: Email notification\\\\nâ€¢ Medium: Slack + email\\\\nâ€¢ High: SMS + Slack + email\\\\nâ€¢ Critical: Phone call + all channels\\\\n\\\\nâ° Time-based Escalation:\\\\nâ€¢ Immediate: 0 minutes\\\\nâ€¢ Fast: 5 minutes\\\\nâ€¢ Normal: 15 minutes\\\\nâ€¢ Slow: 60 minutes\\\\n\\\\nğŸ‘¥ Escalation Contacts:\\\\nâ€¢ Level 1: On-call engineer\\\\nâ€¢ Level 2: Team lead\\\\nâ€¢ Level 3: Engineering manager\\\\nâ€¢ Level 4: CTO\\\\n\\\\nğŸ”„ Auto-Resolution:\\\\nâ€¢ Self-healing attempts\\\\nâ€¢ Rollback procedures\\\\nâ€¢ Service restart\\\\nâ€¢ Load balancer switch\\\\n\\\\nâœ… Escalation policies configured');
          break;
        case 'Performance Report':
          alert('ğŸ“Š Performance Report Generation\\\\n\\\\nğŸ“‹ Report Types:\\\\nâ€¢ Daily performance summary\\\\nâ€¢ Weekly trend analysis\\\\nâ€¢ Monthly executive report\\\\nâ€¢ Custom date range\\\\n\\\\nğŸ“Š Report Sections:\\\\nâ€¢ Executive summary\\\\nâ€¢ Key performance indicators\\\\nâ€¢ System health overview\\\\nâ€¢ Incident analysis\\\\nâ€¢ Recommendations\\\\n\\\\nğŸ“ Export Formats:\\\\nâ€¢ PDF (Executive)\\\\nâ€¢ Excel (Detailed)\\\\nâ€¢ CSV (Raw data)\\\\nâ€¢ JSON (API)\\\\n\\\\nğŸ“§ Distribution:\\\\nâ€¢ Email delivery\\\\nâ€¢ Dashboard access\\\\nâ€¢ Slack sharing\\\\nâ€¢ API endpoints\\\\n\\\\nâœ… Performance report generated and distributed');
          break;
        case 'Automated Reports':
          alert('â° Automated Report Scheduling\\\\n\\\\nğŸ“… Schedule Types:\\\\nâ€¢ Daily reports (9 AM)\\\\nâ€¢ Weekly reports (Monday 9 AM)\\\\nâ€¢ Monthly reports (1st 9 AM)\\\\nâ€¢ Quarterly reports (Q1 9 AM)\\\\n\\\\nğŸ‘¥ Recipients:\\\\nâ€¢ Executive team\\\\nâ€¢ Engineering leads\\\\nâ€¢ Product managers\\\\nâ€¢ External stakeholders\\\\n\\\\nğŸ“Š Report Content:\\\\nâ€¢ Performance metrics\\\\nâ€¢ Error analysis\\\\nâ€¢ Usage statistics\\\\nâ€¢ Cost optimization\\\\nâ€¢ Security status\\\\n\\\\nğŸ”§ Automation Features:\\\\nâ€¢ Conditional sending\\\\nâ€¢ Custom date ranges\\\\nâ€¢ Multiple formats\\\\nâ€¢ Archive retention\\\\nâ€¢ Delivery confirmation\\\\n\\\\nâœ… Automated reporting configured');
          break;
        case 'Data Retention':
          alert('ğŸ“Š Data Retention Policies\\\\n\\\\nğŸ—‚ï¸ Data Types:\\\\nâ€¢ Access logs: 90 days\\\\nâ€¢ Error logs: 180 days\\\\nâ€¢ Performance metrics: 1 year\\\\nâ€¢ Security events: 7 years\\\\nâ€¢ Audit trails: 7 years\\\\n\\\\nğŸ’¾ Storage Configuration:\\\\nâ€¢ Hot storage: 30 days\\\\nâ€¢ Warm storage: 90 days\\\\nâ€¢ Cold storage: 1 year\\\\nâ€¢ Archive storage: 7 years\\\\n\\\\nğŸ”§ Retention Rules:\\\\nâ€¢ Automatic deletion\\\\nâ€¢ Compression enabled\\\\nâ€¢ Encryption at rest\\\\nâ€¢ Backup verification\\\\n\\\\nğŸ“Š Storage Analytics:\\\\nâ€¢ Current usage: 2.3TB\\\\nâ€¢ Growth rate: +15%/month\\\\nâ€¢ Cost optimization: Active\\\\nâ€¢ Compliance: GDPR/SOC2\\\\n\\\\nâœ… Data retention policies updated');
          break;
      }
    }

    // Enhanced API Monitoring Functions
    function initializePredictiveAnalytics() {
      updateTrafficPredictions();
      setupPerformanceForecasting();
      initializeThreatDetection();
      setupCostOptimization();

      // Auto-refresh predictions
      setInterval(updateTrafficPredictions, 300000);
    }

    // Real-time Log Streaming Functions
    let logStreamingInterval: number | null = null;
    let isLogStreamingActive = false;

    function startLogStreaming() {
      if (isLogStreamingActive) return;

      isLogStreamingActive = true;
      updateLogStreamingStatus(true);

      // Update logs every 30 seconds
      logStreamingInterval = setInterval(async () => {
        try {
          const response = await fetch('/api/logs?limit=10&hours=1');
          const logData = await response.json();

          // Update the log display if it exists
          updateLiveLogDisplay(logData.recentActivity);
        } catch (error) {
          console.error('Error updating live logs:', error);
        }
      }, 30000);
    }

    function stopLogStreaming() {
      if (logStreamingInterval) {
        clearInterval(logStreamingInterval);
        logStreamingInterval = null;
      }
      isLogStreamingActive = false;
      updateLogStreamingStatus(false);
    }

    function updateLogStreamingStatus(active: boolean) {
      const statusElement = document.querySelector('.log-streaming-status');
      if (statusElement) {
        statusElement.textContent = active ? 'ğŸŸ¢ LIVE' : 'ğŸ”´ OFFLINE';
        statusElement.className = `log-streaming-status ${active ? 'streaming-active' : 'streaming-inactive'}`;
      }
    }

    function updateLiveLogDisplay(logs: any[]) {
      const logContainer = document.querySelector('.live-log-container');
      if (!logContainer) return;

      const logHtml = logs.map(log => `
        <div class="log-entry ${log.status.includes('200') || log.status.includes('201') ? 'success' : 'error'}">
          <span class="log-timestamp">[${log.timestamp}]</span>
          <span class="log-method">${log.method}</span>
          <span class="log-endpoint">${log.endpoint}</span>
          <span class="log-status">${log.status}</span>
        </div>
      `).join('');

      logContainer.innerHTML = logHtml;
    }

    // Log Analytics Dashboard Functions
    async function generateLogAnalytics() {
      try {
        const response = await fetch('/api/logs?limit=100&hours=24');
        const logData = await response.json();

        const analytics = analyzeLogData(logData.recentActivity);
        displayLogAnalytics(analytics);
      } catch (error) {
        console.error('Error generating log analytics:', error);
      }
    }

    function analyzeLogData(logs: any[]) {
      const analytics = {
        totalRequests: logs.length,
        methodBreakdown: {} as Record<string, number>,
        statusBreakdown: {} as Record<string, number>,
        endpointBreakdown: {} as Record<string, number>,
        hourlyDistribution: {} as Record<string, number>,
        responseTimeDistribution: [] as number[],
        errorRate: 0,
        successRate: 0,
        avgResponseTime: 0,
        peakHour: '',
        topEndpoints: [] as Array<{endpoint: string, count: number}>
      };

      logs.forEach(log => {
        // Method breakdown
        analytics.methodBreakdown[log.method] = (analytics.methodBreakdown[log.method] || 0) + 1;

        // Status breakdown
        analytics.statusBreakdown[log.status] = (analytics.statusBreakdown[log.status] || 0) + 1;

        // Endpoint breakdown
        analytics.endpointBreakdown[log.endpoint] = (analytics.endpointBreakdown[log.endpoint] || 0) + 1;

        // Hourly distribution (simplified - using timestamp as hour)
        const hour = log.timestamp.split(':')[0];
        analytics.hourlyDistribution[hour] = (analytics.hourlyDistribution[hour] || 0) + 1;

        // Response time distribution
        if (log.responseTime) {
          analytics.responseTimeDistribution.push(log.responseTime);
        }
      });

      // Calculate rates
      const totalRequests = analytics.totalRequests;
      const successRequests = Object.entries(analytics.statusBreakdown)
        .filter(([status]) => status.includes('200') || status.includes('201'))
        .reduce((sum, [, count]) => sum + count, 0);

      analytics.successRate = totalRequests > 0 ? (successRequests / totalRequests) * 100 : 0;
      analytics.errorRate = 100 - analytics.successRate;

      // Average response time
      if (analytics.responseTimeDistribution.length > 0) {
        analytics.avgResponseTime = analytics.responseTimeDistribution.reduce((sum, time) => sum + time, 0) / analytics.responseTimeDistribution.length;
      }

      // Find peak hour
      let maxCount = 0;
      let peakHour = '';
      Object.entries(analytics.hourlyDistribution).forEach(([hour, count]) => {
        if (count > maxCount) {
          maxCount = count;
          peakHour = hour;
        }
      });
      analytics.peakHour = peakHour + ':00';

      // Top endpoints
      analytics.topEndpoints = Object.entries(analytics.endpointBreakdown)
        .sort(([, a], [, b]) => b - a)
        .slice(0, 5)
        .map(([endpoint, count]) => ({ endpoint, count }));

      return analytics;
    }

    function displayLogAnalytics(analytics: any) {
      // Create method distribution HTML
      const methodDistributionHtml = Object.entries(analytics.methodBreakdown).map(function(entry) {
        var method = entry[0];
        var count = entry[1];
        return '<div class="chart-bar">' +
          '<span class="method-label">' + method + '</span>' +
          '<div class="bar" style="width: ' + ((count / analytics.totalRequests) * 100) + '%"></div>' +
          '<span class="count">' + count + '</span>' +
          '</div>';
      }).join('');

      // Create top endpoints HTML
      const topEndpointsHtml = analytics.topEndpoints.map(function(item: any, index: number) {
        return '<div class="endpoint-item">' +
          '<span class="rank">#' + (index + 1) + '</span>' +
          '<span class="endpoint">' + item.endpoint + '</span>' +
          '<span class="count">' + item.count + '</span>' +
          '</div>';
      }).join('');

      const analyticsHtml =
        '<div class="log-analytics-dashboard">' +
          '<h3>ğŸ“Š Log Analytics Dashboard</h3>' +

          '<div class="analytics-grid">' +
            '<div class="analytics-card">' +
              '<h4>Total Requests</h4>' +
              '<div class="metric-value">' + analytics.totalRequests.toLocaleString() + '</div>' +
            '</div>' +

            '<div class="analytics-card">' +
              '<h4>Success Rate</h4>' +
              '<div class="metric-value success">' + analytics.successRate.toFixed(1) + '%</div>' +
            '</div>' +

            '<div class="analytics-card">' +
              '<h4>Error Rate</h4>' +
              '<div class="metric-value error">' + analytics.errorRate.toFixed(1) + '%</div>' +
            '</div>' +

            '<div class="analytics-card">' +
              '<h4>Avg Response Time</h4>' +
              '<div class="metric-value">' + analytics.avgResponseTime.toFixed(0) + 'ms</div>' +
            '</div>' +

            '<div class="analytics-card">' +
              '<h4>Peak Hour</h4>' +
              '<div class="metric-value">' + analytics.peakHour + '</div>' +
            '</div>' +
          '</div>' +

          '<div class="analytics-charts">' +
            '<div class="chart-container">' +
              '<h4>Method Distribution</h4>' +
              '<div class="method-chart">' +
                methodDistributionHtml +
              '</div>' +
            '</div>' +

            '<div class="chart-container">' +
              '<h4>Top Endpoints</h4>' +
              '<div class="endpoint-list">' +
                topEndpointsHtml +
              '</div>' +
            '</div>' +
          '</div>' +
        '</div>';

      // Insert analytics into the page
      const analyticsContainer = document.querySelector('.log-analytics-container');
      if (analyticsContainer) {
        analyticsContainer.innerHTML = analyticsHtml;
      } else {
        // Create a modal or alert with analytics
        const analyticsModal = document.createElement('div');
        analyticsModal.innerHTML = analyticsHtml;
        analyticsModal.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: white;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.3);
          max-width: 800px;
          max-height: 80vh;
          overflow-y: auto;
          z-index: 10000;
        `;

        // Add close button
        const closeButton = document.createElement('button');
        closeButton.textContent = 'Ã—';
        closeButton.style.cssText = `
          position: absolute;
          top: 10px;
          right: 10px;
          background: #ff4444;
          color: white;
          border: none;
          border-radius: 50%;
          width: 30px;
          height: 30px;
          cursor: pointer;
        `;
        closeButton.onclick = () => document.body.removeChild(analyticsModal);

        analyticsModal.appendChild(closeButton);
        document.body.appendChild(analyticsModal);
      }
    }

    // Log Filtering and Search Functions
    let currentLogFilters = {
      method: '',
      status: '',
      endpoint: '',
      searchTerm: '',
      timeRange: 24,
      limit: 50
    };

    async function applyLogFilters() {
      try {
        const params = new URLSearchParams({
          limit: currentLogFilters.limit.toString(),
          hours: currentLogFilters.timeRange.toString(),
          method: currentLogFilters.method,
          status: currentLogFilters.status,
          endpoint: currentLogFilters.endpoint,
          search: currentLogFilters.searchTerm
        });

        const response = await fetch(`/api/logs/filtered?${params}`);
        const filteredData = await response.json();

        // Update the log display with filtered results
        updateFilteredLogDisplay(filteredData.logs);
        updateLogStatistics(filteredData.statistics);

      } catch (error) {
        console.error('Error applying log filters:', error);
      }
    }

    function updateFilteredLogDisplay(logs: any[]) {
      const logContainer = document.querySelector('.filtered-log-container');
      if (!logContainer) return;

      const filteredLogs = filterLogsLocally(logs);
      const logHtml = filteredLogs.map(function(log) {
        return '<div class="log-entry ' + getLogEntryClass(log) + '" data-log=\'' + JSON.stringify(log) + '\'>' +
          '<span class="log-timestamp">[' + log.timestamp + ']</span>' +
          '<span class="log-method">' + log.method + '</span>' +
          '<span class="log-endpoint">' + log.endpoint + '</span>' +
          '<span class="log-status">' + log.status + '</span>' +
          '<span class="log-response-time">' + (log.responseTime || 'N/A') + 'ms</span>' +
          '<button class="log-details-btn" onclick="showLogDetails(\'' + JSON.stringify(log).replace(/'/g, '\\\'').replace(/"/g, '&quot;') + '\')">ğŸ“‹</button>' +
          '</div>';
      }).join('');

      logContainer.innerHTML = logHtml;
    }

    function filterLogsLocally(logs: any[]): any[] {
      return logs.filter(log => {
        // Method filter
        if (currentLogFilters.method && log.method !== currentLogFilters.method) {
          return false;
        }

        // Status filter
        if (currentLogFilters.status && !log.status.includes(currentLogFilters.status)) {
          return false;
        }

        // Endpoint filter
        if (currentLogFilters.endpoint && !log.endpoint.includes(currentLogFilters.endpoint)) {
          return false;
        }

        // Search term filter
        if (currentLogFilters.searchTerm) {
          const searchLower = currentLogFilters.searchTerm.toLowerCase();
          const logText = `${log.method} ${log.endpoint} ${log.status}`.toLowerCase();
          if (!logText.includes(searchLower)) {
            return false;
          }
        }

        return true;
      });
    }

    function getLogEntryClass(log: any): string {
      if (log.status.includes('200') || log.status.includes('201')) {
        return 'success';
      } else if (log.status.includes('400') || log.status.includes('500')) {
        return 'error';
      } else if (log.status.includes('300')) {
        return 'warning';
      }
      return 'info';
    }

    function updateLogStatistics(statistics: any) {
      const statsContainer = document.querySelector('.log-statistics');
      if (!statsContainer) return;

      statsContainer.innerHTML =
        '<div class="stats-grid">' +
          '<div class="stat-item">' +
            '<span class="stat-label">Total Filtered:</span>' +
            '<span class="stat-value">' + statistics.filteredCount + '</span>' +
          '</div>' +
          '<div class="stat-item">' +
            '<span class="stat-label">Success Rate:</span>' +
            '<span class="stat-value success">' + statistics.successRate + '%</span>' +
          '</div>' +
          '<div class="stat-item">' +
            '<span class="stat-label">Avg Response:</span>' +
            '<span class="stat-value">' + statistics.avgResponseTime + 'ms</span>' +
          '</div>' +
          '<div class="stat-item">' +
            '<span class="stat-label">Error Count:</span>' +
            '<span class="stat-value error">' + statistics.errorCount + '</span>' +
          '</div>' +
        '</div>';
    }

    function showLogDetails(logJson: string) {
      try {
        const log = JSON.parse(logJson);

        // Build optional fields HTML
        var optionalFields = '';
        if (log.userAgent) {
          optionalFields += '<div class="detail-row">' +
            '<span class="detail-label">User Agent:</span>' +
            '<span class="detail-value">' + log.userAgent + '</span>' +
            '</div>';
        }
        if (log.ipAddress) {
          optionalFields += '<div class="detail-row">' +
            '<span class="detail-label">IP Address:</span>' +
            '<span class="detail-value">' + log.ipAddress + '</span>' +
            '</div>';
        }

        const detailsHtml =
          '<div class="log-details-modal">' +
            '<h3>ğŸ“‹ Log Entry Details</h3>' +
            '<div class="details-grid">' +
              '<div class="detail-row">' +
                '<span class="detail-label">Timestamp:</span>' +
                '<span class="detail-value">' + log.timestamp + '</span>' +
              '</div>' +
              '<div class="detail-row">' +
                '<span class="detail-label">Method:</span>' +
                '<span class="detail-value">' + log.method + '</span>' +
              '</div>' +
              '<div class="detail-row">' +
                '<span class="detail-label">Endpoint:</span>' +
                '<span class="detail-value">' + log.endpoint + '</span>' +
              '</div>' +
              '<div class="detail-row">' +
                '<span class="detail-label">Status:</span>' +
                '<span class="detail-value ' + (log.status.includes('200') ? 'success' : 'error') + '">' + log.status + '</span>' +
              '</div>' +
              '<div class="detail-row">' +
                '<span class="detail-label">Response Time:</span>' +
                '<span class="detail-value">' + (log.responseTime || 'N/A') + 'ms</span>' +
              '</div>' +
              optionalFields +
            '</div>' +
            '<div class="modal-actions">' +
              '<button onclick="copyLogDetails(\'' + logJson.replace(/'/g, '\\\'') + '\')">ğŸ“‹ Copy Details</button>' +
              '<button onclick="closeLogDetailsModal()">âŒ Close</button>' +
            '</div>' +
          '</div>';

        const modal = document.createElement('div');
        modal.innerHTML = detailsHtml;
        modal.className = 'log-details-overlay';
        modal.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.7);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
        `;

        document.body.appendChild(modal);
      } catch (error) {
        console.error('Error showing log details:', error);
      }
    }

    // Global functions for onclick handlers
    function copyLogDetails(logJson: string) {
      navigator.clipboard.writeText(logJson).then(() => {
        alert('âœ… Log details copied to clipboard!');
      });
    }

    function closeLogDetailsModal() {
      const modal = document.querySelector('.log-details-overlay');
      if (modal) {
        document.body.removeChild(modal);
      }
    }

    function updateFilterCriteria(criteria: string, value: string) {
      currentLogFilters[criteria as keyof typeof currentLogFilters] = value;
      applyLogFilters();
    }

    function clearAllFilters() {
      currentLogFilters = {
        method: '',
        status: '',
        endpoint: '',
        searchTerm: '',
        timeRange: 24,
        limit: 50
      };

      // Reset form inputs
      const filterInputs = document.querySelectorAll('.log-filter-input');
      filterInputs.forEach(input => {
        if (input instanceof HTMLInputElement || input instanceof HTMLSelectElement) {
          input.value = '';
        }
      });

      applyLogFilters();
    }

    // Auto-initialize log streaming when page loads
    document.addEventListener('DOMContentLoaded', function() {
      // Start log streaming by default for monitoring pages
      const currentPath = window.location.pathname;
      if (currentPath.includes('api') || currentPath.includes('monitoring')) {
        startLogStreaming();
      }
    });

    function updateTrafficPredictions() {
      const predictionElement = document.querySelector('.prediction-metric .metric-value');
      if (predictionElement) {
        const currentValue = Math.floor(Math.random() * 10) + 15;
        predictionElement.textContent = '+' + currentValue + '%';
      }

      const confidenceBar = document.querySelector('.confidence-fill');
      if (confidenceBar) {
        const confidence = Math.floor(Math.random() * 20) + 75;
        confidenceBar.style.width = confidence + '%';
        const confidenceText = document.querySelector('.confidence-text');
        if (confidenceText) {
          confidenceText.textContent = confidence + '% Confidence';
        }
      }
    }

    function setupPerformanceForecasting() {
      setInterval(() => {
        const alerts = ['Peak load expected at 2-4 PM EST', 'Normal traffic patterns', 'High throughput detected'];
        const randomAlert = alerts[Math.floor(Math.random() * alerts.length)];
        updatePerformanceAlert(randomAlert);
      }, 300000);
    }

    function updatePerformanceAlert(alert) {
      const alertElement = document.querySelector('.prediction-alert');
      if (alertElement) {
        alertElement.querySelector('.prediction-alert span:last-child').textContent = alert;
      }
    }

    function initializeCostAnalysis() {
      updateCostBreakdown();
      initializeCostSimulator();
      setInterval(updateCostBreakdown, 600000);
    }

    function updateCostBreakdown() {
      const costItems = document.querySelectorAll('.cost-item');
      costItems.forEach((item, index) => {
        const costElement = item.querySelector('.service-cost');
        if (costElement) {
          const baseCosts = ['$8,234', '$2,145', '$1,678', '$790'];
          const variations = Math.floor(Math.random() * 200) - 100;
          const baseCost = parseInt(baseCosts[index].replace(/[$,]/g, ''));
          const newCost = Math.max(0, baseCost + variations);
          costElement.textContent = '$' + newCost.toLocaleString();

          const percentage = Math.min(100, Math.max(0, (newCost / 12847) * 100));
          const costBar = item.querySelector('.cost-fill');
          if (costBar) {
            costBar.style.width = percentage + '%';
          }

          const percentageElement = item.querySelector('.service-percentage');
          if (percentageElement) {
            percentageElement.textContent = Math.round(percentage) + '%';
          }
        }
      });
    }

    function initializeErrorAnalysis() {
      updateErrorHeatmap();
      analyzeErrorPatterns();
      setInterval(updateErrorHeatmap, 120000);
    }

    function updateErrorHeatmap() {
      const cells = document.querySelectorAll('.heatmap-cell');
      cells.forEach((cell, index) => {
        const hour = index;
        let intensity = 'low';

        if (hour >= 2 && hour <= 4) {
          intensity = 'high';
        } else if (hour >= 14 && hour <= 16) {
          intensity = 'medium';
        }

        cell.classList.remove('high', 'medium', 'low');
        cell.classList.add(intensity);
      });
    }

    function initializeIntegrationHealth() {
      checkIntegrationStatus();
      monitorIntegrationMetrics();
      setInterval(checkIntegrationStatus, 60000);
    }

    function checkIntegrationStatus() {
      const integrations = document.querySelectorAll('.integration-card');
      integrations.forEach((integration, index) => {
        if (Math.random() < 0.9) {
          integration.classList.remove('warning', 'error');
          integration.classList.add('healthy');
          updateIntegrationMetrics(integration, 'healthy');
        } else if (Math.random() < 0.5) {
          integration.classList.remove('healthy', 'error');
          integration.classList.add('warning');
          updateIntegrationMetrics(integration, 'warning');
        } else {
          integration.classList.remove('healthy', 'warning');
          integration.classList.add('error');
          updateIntegrationMetrics(integration, 'error');
        }
      });
    }

    function updateIntegrationMetrics(integration: Element, status: string) {
      const metrics = integration.querySelectorAll('.metric');
      if (metrics.length >= 3) {
        const responseTime = status === 'error' ? 'Timeout' :
                           status === 'warning' ? (Math.floor(Math.random() * 1000) + 1000) + 'ms' :
                           (Math.floor(Math.random() * 100) + 50) + 'ms';

        const uptime = status === 'error' ? '87.3%' :
                      status === 'warning' ? (Math.floor(Math.random() * 10) + 90) + '%' :
                      '99.' + (Math.floor(Math.random() * 9) + 1) + '%';

        const success = status === 'error' ? '0%' :
                       status === 'warning' ? (Math.floor(Math.random() * 20) + 80) + '%' :
                       (Math.floor(Math.random() * 5) + 95) + '%';

        metrics[0].textContent = 'Response: ' + responseTime;
        metrics[1].textContent = 'Uptime: ' + uptime;
        metrics[2].textContent = 'Success: ' + success;
      }
    }

    // Action Functions
    function implementCaching() {
      showNotification('ğŸ”§ Starting Redis caching implementation...', 'info');
      setTimeout(() => {
        showNotification('âœ… Response caching implemented successfully!', 'success');
      }, 3000);
    }

    function enableCompression() {
      showNotification('ğŸ“¦ Enabling gzip compression...', 'info');
      setTimeout(() => {
        showNotification('âœ… Response compression enabled!', 'success');
      }, 2000);
    }

    function optimizeQueries() {
      showNotification('ğŸ”„ Analyzing database queries...', 'info');
      setTimeout(() => {
        showNotification('âœ… Database optimization completed!', 'success');
      }, 5000);
    }

    function viewDetails(feature) {
      showNotification('ğŸ“Š Opening detailed analysis for ' + feature + '...', 'info');
      setTimeout(() => {
        showNotification('ğŸ“ˆ Detailed analysis loaded!', 'success');
      }, 1500);
    }

    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      notification.innerHTML = \`
        <div class="notification-icon">\${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</div>
        <div class="notification-message">\${message}</div>
      \`;

      document.body.appendChild(notification);

      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    // Live Betting Functions
    function refreshBettingData() {
      showNotification('ğŸ”„ Refreshing live betting data...', 'info');
      setTimeout(() => {
        updateBettingMetrics();
        showNotification('âœ… Betting data refreshed successfully!', 'success');
      }, 2000);
    }

    function changeBettingView() {
      const select = document.getElementById('bettingTimeRange') as HTMLSelectElement;
      const view = select.value;
      showNotification(\`ğŸ“Š Switching to \${view} view...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“ˆ \${view} betting data loaded!\`, 'success');
      }, 1500);
    }

    function updateBettingMetrics() {
      // Simulate real-time updates
      const activeGamesEl = document.getElementById('activeGames');
      const totalBetsEl = document.getElementById('totalBets');
      const livePositionsEl = document.getElementById('livePositions');
      const alertsCountEl = document.getElementById('alertsCount');

      if (activeGamesEl) {
        const current = parseInt(activeGamesEl.textContent || '0');
        const newValue = Math.max(0, current + Math.floor(Math.random() * 4) - 2);
        activeGamesEl.textContent = newValue.toString();
      }

      if (totalBetsEl) {
        const current = totalBetsEl.textContent || '$0';
        const currentNum = parseFloat(current.replace(/[$,]/g, ''));
        const newValue = Math.max(0, currentNum + Math.floor(Math.random() * 10000) - 5000);
        totalBetsEl.textContent = '$' + newValue.toLocaleString();
      }

      if (livePositionsEl) {
        const current = parseInt(livePositionsEl.textContent || '0');
        const newValue = Math.max(0, current + Math.floor(Math.random() * 100) - 50);
        livePositionsEl.textContent = newValue.toString();
      }

      if (alertsCountEl) {
        const current = parseInt(alertsCountEl.textContent || '0');
        const newValue = Math.max(0, current + Math.floor(Math.random() * 4) - 2);
        alertsCountEl.textContent = newValue.toString();
      }
    }

    // Game Management Functions
    function viewGameDetails(gameId) {
      showNotification(\`ğŸ“Š Loading details for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“ˆ Game details for \${gameId} loaded!\`, 'success');
      }, 1500);
    }

    function managePositions(gameId) {
      showNotification(\`ğŸ“Š Opening position manager for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ¯ Position manager for \${gameId} ready!\`, 'success');
      }, 1000);
    }

    function setOdds(gameId) {
      showNotification(\`ğŸ¯ Opening odds setter for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`âš™ï¸ Odds configuration for \${gameId} loaded!\`, 'success');
      }, 1200);
    }

    function viewMarketData(gameId) {
      showNotification(\`ğŸ“ˆ Fetching market data for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“Š Market data for \${gameId} displayed!\`, 'success');
      }, 1800);
    }

    function viewPayoutDetails(gameId) {
      showNotification(\`ğŸ’° Calculating payout details for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ’µ Payout details for \${gameId} ready!\`, 'success');
      }, 1000);
    }

    function analyzeGame(gameId) {
      showNotification(\`ğŸ“Š Analyzing performance for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“ˆ Analysis complete for \${gameId}!\`, 'success');
      }, 2500);
    }

    // Odds Management Functions
    function adjustOdds(gameId, type) {
      showNotification(\`ğŸ¯ Adjusting \${type} odds for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`âœ… Odds adjusted for \${gameId}!\`, 'success');
      }, 1500);
    }

    function viewMarketComparison(gameId) {
      showNotification(\`ğŸ“Š Comparing market data for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“ˆ Market comparison for \${gameId} ready!\`, 'success');
      }, 2000);
    }

    function followSharpMoney(gameId) {
      showNotification(\`ğŸ’° Following sharp money movement for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ¯ Sharp money tracking enabled for \${gameId}!\`, 'success');
      }, 1000);
    }

    function setAlerts(gameId) {
      showNotification(\`ğŸš¨ Setting up alerts for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`âš ï¸ Alerts configured for \${gameId}!\`, 'success');
      }, 1200);
    }

    function optimizePosition(gameId) {
      showNotification(\`ğŸ¯ Optimizing position for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ’¹ Position optimized for \${gameId}!\`, 'success');
      }, 3000);
    }

    function viewAnalytics(gameId) {
      showNotification(\`ğŸ“Š Loading analytics for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“ˆ Analytics dashboard for \${gameId} ready!\`, 'success');
      }, 1800);
    }

    // Position Management Functions
    function hedgePosition(gameId) {
      showNotification(\`ğŸ›¡ï¸ Setting up hedge for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`âœ… Hedge position established for \${gameId}!\`, 'success');
      }, 2000);
    }

    function adjustLine(gameId) {
      showNotification(\`ğŸ“Š Adjusting betting line for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ¯ Line adjusted for \${gameId}!\`, 'success');
      }, 1500);
    }

    function balancePosition(gameId) {
      showNotification(\`âš–ï¸ Balancing position for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`âœ… Position balanced for \${gameId}!\`, 'success');
      }, 2500);
    }

    function setLimits(gameId) {
      showNotification(\`ğŸ“‹ Setting betting limits for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ”’ Limits configured for \${gameId}!\`, 'success');
      }, 1200);
    }

    // Market Data Functions
    function monitorLine(gameId) {
      showNotification(\`ğŸ‘ï¸ Monitoring line movement for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ“Š Line monitoring active for \${gameId}!\`, 'success');
      }, 1000);
    }

    function exploitLine(gameId) {
      showNotification(\`ğŸ’ Identifying line exploitation opportunity for \${gameId}...\`, 'info');
      setTimeout(() => {
        showNotification(\`ğŸ¯ Exploitation strategy ready for \${gameId}!\`, 'success');
      }, 2000);
    }

    // Real-time Updates
    function startBettingUpdates() {
      // Update betting metrics every 30 seconds
      setInterval(() => {
        updateBettingMetrics();
      }, 30000);

      // Update odds comparisons every 60 seconds
      setInterval(() => {
        updateOddsComparisons();
      }, 60000);

      // Check for new alerts every 45 seconds
      setInterval(() => {
        checkForAlerts();
      }, 45000);
    }

    function updateOddsComparisons() {
      // Simulate real-time odds updates
      const rows = document.querySelectorAll('.table-row');
      rows.forEach((row, index) => {
        const cells = row.querySelectorAll('.table-cell');
        if (cells.length >= 4) {
          // Randomly update market averages and differences
          const ourLine = cells[1].textContent || '';
          if (Math.random() < 0.3) { // 30% chance of update
            const marketAvg = cells[2];
            const difference = cells[3];

            // Simulate market movement
            const movement = (Math.random() - 0.5) * 2; // -1 to +1
            const newDifference = parseFloat(difference.textContent?.replace(/[^\d.-]/g, '') || '0') + movement;

            difference.textContent = (newDifference > 0 ? '+' : '') + newDifference.toFixed(1);
            difference.className = 'table-cell ' +
              (Math.abs(newDifference) > 1 ? 'warning' : Math.abs(newDifference) > 0.5 ? 'neutral' : 'success');
          }
        }
      });
    }

    function checkForAlerts() {
      // Simulate alert generation
      if (Math.random() < 0.1) { // 10% chance of new alert
        const alerts = [
          'Line discrepancy detected on Chiefs vs 49ers',
          'Sharp money movement on Bills game',
          'Market inefficiency identified',
          'Position optimization opportunity'
        ];

        const randomAlert = alerts[Math.floor(Math.random() * alerts.length)];
        showNotification(\`ğŸš¨ \${randomAlert}\`, 'warning');
      }
    }

    // Initialize betting updates when page loads
    startBettingUpdates();
  `;
}

function getApiSecurityStyles(): string {
  return `
    .api-security-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator.secure {
      color: #22c55e;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .security-metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .security-metric-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .security-metric-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .security-metric-card.neutral {
      border-left: 4px solid #6b7280;
    }

    .security-metric-card.up {
      border-left: 4px solid #22c55e;
    }

    .security-metric-card.down {
      border-left: 4px solid #ef4444;
    }

    .metric-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .metric-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .metric-change {
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .metric-change.neutral {
      background: rgba(107, 114, 128, 0.2);
      color: #6b7280;
    }

    .metric-change.up {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .metric-change.down {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .policies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .policy-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(251, 191, 36, 0.3);
      transition: all 0.3s ease;
    }

    .policy-card:hover {
      transform: translateY(-5px);
      border-color: #f59e0b;
      box-shadow: 0 8px 25px rgba(251, 191, 36, 0.2);
    }

    .policy-card.active {
      border-color: rgba(34, 197, 94, 0.3);
    }

    .policy-card.high-violations {
      border-color: rgba(239, 68, 68, 0.3);
    }

    .policy-card.low-violations {
      border-color: rgba(34, 197, 94, 0.3);
    }

    .policy-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .policy-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .policy-status {
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .policy-description {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1.5rem;
    }

    .policy-stats {
      margin-bottom: 1.5rem;
    }

    .violation-count {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .violation-label {
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .violation-value {
      font-weight: 600;
    }

    .violation-value.high {
      color: #ef4444;
    }

    .violation-value.low {
      color: #22c55e;
    }

    .policy-actions {
      display: flex;
      gap: 0.5rem;
    }

    .security-events {
      margin-top: 2rem;
    }

    .events-filter {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
      align-items: center;
    }

    .events-filter select {
      padding: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      font-size: 0.9rem;
    }

    .filter-btn {
      padding: 0.5rem 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .filter-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .events-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .event-item {
      display: grid;
      grid-template-columns: 100px 1fr 2fr 100px auto;
      gap: 1rem;
      align-items: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border-left: 4px solid;
      transition: background 0.2s ease;
    }

    .event-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .event-item.low {
      border-left-color: #22c55e;
    }

    .event-item.medium {
      border-left-color: #f59e0b;
    }

    .event-item.high {
      border-left-color: #ef4444;
    }

    .event-item.info {
      border-left-color: #3b82f6;
    }

    .event-severity {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .severity-indicator.low {
      color: #22c55e;
    }

    .severity-indicator.medium {
      color: #f59e0b;
    }

    .severity-indicator.high {
      color: #ef4444;
    }

    .severity-indicator.info {
      color: #3b82f6;
    }

    .event-content {
      flex: 1;
    }

    .event-message {
      color: #e0e6ed;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .event-meta {
      display: flex;
      gap: 1rem;
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .event-ip {
      color: #40e0d0;
    }

    .event-time {
      color: #a0a9b8;
    }

    .event-type {
      color: #ffd700;
    }

    .event-action-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .event-action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .auth-management {
      margin-top: 2rem;
    }

    .auth-methods {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .auth-method-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(168, 85, 247, 0.3);
      transition: all 0.3s ease;
    }

    .auth-method-card:hover {
      transform: translateY(-5px);
      border-color: #a855f7;
      box-shadow: 0 8px 25px rgba(168, 85, 247, 0.2);
    }

    .method-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .method-icon {
      font-size: 2rem;
    }

    .method-header h3 {
      color: #e0e6ed;
      margin: 0;
    }

    .method-stats {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .stat {
      font-size: 0.9rem;
      color: #a0a9b8;
    }

    .method-actions {
      display: flex;
      gap: 0.5rem;
    }

    .compliance-dashboard {
      margin-top: 2rem;
    }

    .compliance-metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
    }

    .compliance-card {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .compliance-icon {
      font-size: 2rem;
    }

    .compliance-info h3 {
      color: #e0e6ed;
      margin-bottom: 0.25rem;
    }

    .compliance-info p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .compliance-status {
      font-size: 0.8rem;
      font-weight: 600;
      color: #22c55e;
    }

    .security-controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .control-group {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .control-group h3 {
      color: #e0e6ed;
      margin-bottom: 1.5rem;
    }

    .control-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .control-btn {
      padding: 0.75rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .control-btn:not(.secondary) {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .control-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .control-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-security-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .auth-methods {
        grid-template-columns: 1fr;
      }

      .compliance-metrics {
        grid-template-columns: 1fr;
      }

      .security-controls {
        grid-template-columns: 1fr;
      }

      .event-item {
        grid-template-columns: 1fr;
        gap: 0.5rem;
        text-align: center;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }
    }
  `;
}

function getApiSecurityScripts(): string {
  return `
    // API Security - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiSecurity();
    });

    function initializeApiSecurity() {
      startSecurityUpdates();
      setupSecurityListeners();
    }

    function startSecurityUpdates() {
      setInterval(() => {
        updateSecurityTimestamp();
        updateSecurityMetrics();
      }, 1000);
    }

    function updateSecurityTimestamp() {
      const element = document.getElementById('securityLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function updateSecurityMetrics() {
      // Simulate security metric updates
      const metricCards = document.querySelectorAll('.security-metric-card');
      metricCards.forEach(card => {
        if (Math.random() < 0.05) {
          card.style.animation = 'pulse 0.5s ease-in-out';
          setTimeout(() => {
            card.style.animation = '';
          }, 500);
        }
      });
    }

    function setupSecurityListeners() {
      // Event filter
      const eventFilter = document.getElementById('eventFilter');
      if (eventFilter) {
        eventFilter.addEventListener('change', function() {
          filterSecurityEvents(this.value);
        });
      }

      // Control buttons
      document.querySelectorAll('.control-btn, .action-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          handleSecurityAction(action);
        });
      });
    }

    function filterSecurityEvents(filterValue) {
      const eventItems = document.querySelectorAll('.event-item');
      eventItems.forEach(item => {
        const severity = item.classList.contains('low') ? 'low' :
                        item.classList.contains('medium') ? 'medium' :
                        item.classList.contains('high') ? 'high' : 'info';

        let show = true;
        switch(filterValue) {
          case 'High Severity':
            show = severity === 'high';
            break;
          case 'Medium Severity':
            show = severity === 'medium';
            break;
          case 'Low Severity':
            show = severity === 'low';
            break;
          case 'Authentication':
            show = item.querySelector('.event-type').textContent.includes('AUTH');
            break;
          case 'Rate Limiting':
            show = item.querySelector('.event-type').textContent.includes('RATE');
            break;
          default:
            show = true;
        }

        item.style.display = show ? 'grid' : 'none';
      });
    }

    function handleSecurityAction(action) {
      switch(action) {
        case 'Export Events':
          alert('ğŸ“¤ Security Events Export\\\\n\\\\nğŸ“‹ Export Configuration:\\\\n\\\\nğŸ“… Date Range:\\\\nâ€¢ Last 24 hours\\\\nâ€¢ Last 7 days\\\\nâ€¢ Custom range\\\\n\\\\nğŸ“Š Event Types:\\\\nâ€¢ Authentication events\\\\nâ€¢ Security violations\\\\nâ€¢ Policy breaches\\\\nâ€¢ System alerts\\\\n\\\\nğŸ“ Export Formats:\\\\nâ€¢ JSON (Structured)\\\\nâ€¢ CSV (Spreadsheet)\\\\nâ€¢ PDF (Report)\\\\n\\\\nğŸ” Security Features:\\\\nâ€¢ Encrypted export\\\\nâ€¢ Audit trail\\\\nâ€¢ Access logging\\\\n\\\\nâœ… Security events exported successfully');
          break;
        case 'Investigate':
          alert('ğŸ” Security Investigation\\\\n\\\\nğŸ”¬ Investigation Tools:\\\\n\\\\nğŸ“Š Event Analysis:\\\\nâ€¢ IP geolocation\\\\nâ€¢ User agent parsing\\\\nâ€¢ Request pattern analysis\\\\nâ€¢ Threat intelligence\\\\n\\\\nğŸ•µï¸ Automated Analysis:\\\\nâ€¢ Anomaly detection\\\\nâ€¢ Pattern recognition\\\\nâ€¢ Risk scoring\\\\nâ€¢ Correlation analysis\\\\n\\\\nğŸ“‹ Investigation Report:\\\\nâ€¢ Event timeline\\\\nâ€¢ Related events\\\\nâ€¢ Risk assessment\\\\nâ€¢ Recommended actions\\\\n\\\\nğŸ”’ Security Actions:\\\\nâ€¢ Block IP address\\\\nâ€¢ Revoke API key\\\\nâ€¢ Update policies\\\\nâ€¢ Send alerts\\\\n\\\\nâœ… Investigation completed');
          break;
        case 'Manage Keys':
          alert('ğŸ”‘ API Key Management\\\\n\\\\nğŸ—ï¸ Key Inventory:\\\\n\\\\nğŸ“Š Current Keys:\\\\nâ€¢ Production: 247 keys\\\\nâ€¢ Development: 45 keys\\\\nâ€¢ Testing: 13 keys\\\\nâ€¢ Legacy: 0 keys\\\\n\\\\nğŸ”§ Key Operations:\\\\nâ€¢ Generate new key\\\\nâ€¢ Rotate existing key\\\\nâ€¢ Revoke compromised key\\\\nâ€¢ Set rate limits\\\\nâ€¢ Configure permissions\\\\n\\\\nğŸ“ˆ Key Analytics:\\\\nâ€¢ Most active: prod_key_001\\\\nâ€¢ Highest usage: 15.2K calls/day\\\\nâ€¢ Average usage: 4.7K calls/day\\\\nâ€¢ Failed auth: 12 attempts\\\\n\\\\nğŸ” Security Settings:\\\\nâ€¢ Expiration: 90 days\\\\nâ€¢ Rotation: Automatic\\\\nâ€¢ Multi-factor: Required\\\\n\\\\nâœ… API key management updated');
          break;
        case 'Rotate Keys':
          alert('ğŸ”„ API Key Rotation\\\\n\\\\nğŸ”‘ Rotation Process:\\\\n\\\\nğŸ“‹ Key Selection:\\\\nâ€¢ Production keys: 247\\\\nâ€¢ Development keys: 45\\\\nâ€¢ Testing keys: 13\\\\n\\\\nâ° Rotation Schedule:\\\\nâ€¢ Immediate rotation\\\\nâ€¢ Gradual rollout\\\\nâ€¢ Scheduled rotation\\\\n\\\\nğŸ“§ Notification Process:\\\\nâ€¢ Email alerts\\\\nâ€¢ Slack notifications\\\\nâ€¢ API announcements\\\\n\\\\nğŸ”„ Rotation Steps:\\\\n1. Generate new keys\\\\n2. Update applications\\\\n3. Test new keys\\\\n4. Deactivate old keys\\\\n5. Monitor usage\\\\n\\\\nâš ï¸ Important Notes:\\\\nâ€¢ Zero downtime process\\\\nâ€¢ Rollback capability\\\\nâ€¢ Audit trail maintained\\\\n\\\\nâœ… Key rotation initiated');
          break;
        case 'Configure JWT':
          alert('ğŸ« JWT Configuration\\\\n\\\\nğŸ” JWT Settings:\\\\n\\\\nğŸ“‹ Token Configuration:\\\\nâ€¢ Algorithm: RS256\\\\nâ€¢ Expiration: 2 hours\\\\nâ€¢ Issuer: api.company.com\\\\nâ€¢ Audience: client_apps\\\\n\\\\nğŸ”‘ Key Management:\\\\nâ€¢ Private key rotation\\\\nâ€¢ Public key distribution\\\\nâ€¢ Key backup\\\\nâ€¢ Emergency key\\\\n\\\\nğŸ›¡ï¸ Security Features:\\\\nâ€¢ Token validation\\\\nâ€¢ Revocation checking\\\\nâ€¢ Replay attack prevention\\\\nâ€¢ Brute force protection\\\\n\\\\nğŸ“Š Usage Analytics:\\\\nâ€¢ Active tokens: 1,247\\\\nâ€¢ Tokens issued today: 3,456\\\\nâ€¢ Failed validations: 12\\\\nâ€¢ Average lifespan: 1.8 hours\\\\n\\\\nâœ… JWT configuration updated');
          break;
        case 'Token Logs':
          alert('ğŸ“‹ JWT Token Logs\\\\n\\\\nğŸ“„ Token Activity:\\\\n\\\\nğŸ” Log Analysis:\\\\nâ€¢ Token issuance\\\\nâ€¢ Token validation\\\\nâ€¢ Token expiration\\\\nâ€¢ Failed attempts\\\\n\\\\nğŸ“Š Token Metrics:\\\\nâ€¢ Total tokens: 15,234\\\\nâ€¢ Active tokens: 1,247\\\\nâ€¢ Expired tokens: 12,456\\\\nâ€¢ Failed validations: 89\\\\n\\\\nğŸ”’ Security Events:\\\\nâ€¢ Suspicious patterns\\\\nâ€¢ Failed authentications\\\\nâ€¢ Token abuse attempts\\\\n\\\\nğŸ“ˆ Usage Patterns:\\\\nâ€¢ Peak hours: 9 AM - 11 AM\\\\nâ€¢ Most active client\\\\nâ€¢ Geographic distribution\\\\n\\\\nâœ… Token logs accessible');
          break;
        case 'Manage Clients':
          alert('ğŸ‘¥ OAuth Client Management\\\\n\\\\nğŸŒ OAuth Clients:\\\\n\\\\nğŸ“‹ Client Inventory:\\\\nâ€¢ Active clients: 89\\\\nâ€¢ Pending approval: 12\\\\nâ€¢ Suspended: 3\\\\nâ€¢ Total grants: 15,234\\\\n\\\\nğŸ”§ Client Operations:\\\\nâ€¢ Register new client\\\\nâ€¢ Update client settings\\\\nâ€¢ Revoke client access\\\\nâ€¢ Rotate client secrets\\\\n\\\\nğŸ“Š Client Analytics:\\\\nâ€¢ Most active client\\\\nâ€¢ Highest grant volume\\\\nâ€¢ Geographic distribution\\\\nâ€¢ Usage patterns\\\\n\\\\nğŸ” Security Settings:\\\\nâ€¢ Client authentication\\\\nâ€¢ Grant types\\\\nâ€¢ Scope management\\\\nâ€¢ Token policies\\\\n\\\\nâœ… OAuth clients managed successfully');
          break;
        case 'Configure OAuth':
          alert('ğŸŒ OAuth Configuration\\\\n\\\\nâš™ï¸ OAuth Settings:\\\\n\\\\nğŸ”§ Grant Types:\\\\nâ€¢ Authorization Code\\\\nâ€¢ Client Credentials\\\\nâ€¢ Refresh Token\\\\nâ€¢ Implicit (deprecated)\\\\n\\\\nğŸ›¡ï¸ Security Policies:\\\\nâ€¢ PKCE requirement\\\\nâ€¢ State parameter\\\\nâ€¢ Redirect URI validation\\\\nâ€¢ Token expiration\\\\n\\\\nğŸ“Š Scope Management:\\\\nâ€¢ Read access\\\\nâ€¢ Write access\\\\nâ€¢ Admin access\\\\nâ€¢ Custom scopes\\\\n\\\\nğŸ”„ Token Management:\\\\nâ€¢ Access token: 1 hour\\\\nâ€¢ Refresh token: 30 days\\\\nâ€¢ ID token: 1 hour\\\\n\\\\nğŸ“‹ Integration:\\\\nâ€¢ Discovery endpoint\\\\nâ€¢ JWKS endpoint\\\\nâ€¢ User info endpoint\\\\n\\\\nâœ… OAuth configuration updated');
          break;
        case 'WAF Settings':
          alert('ğŸ›¡ï¸ Web Application Firewall\\\\n\\\\nğŸ”¥ WAF Configuration:\\\\n\\\\nğŸ“‹ Rule Sets:\\\\nâ€¢ OWASP Top 10\\\\nâ€¢ Custom rules\\\\nâ€¢ Rate limiting\\\\nâ€¢ Geo-blocking\\\\n\\\\nâš™ï¸ Protection Levels:\\\\nâ€¢ Low: Basic protection\\\\nâ€¢ Medium: Standard protection\\\\nâ€¢ High: Strict protection\\\\nâ€¢ Custom: Tailored rules\\\\n\\\\nğŸ“Š WAF Analytics:\\\\nâ€¢ Blocked requests: 2,847\\\\nâ€¢ False positives: 12\\\\nâ€¢ Response time impact: +5ms\\\\nâ€¢ Coverage: 99.9%\\\\n\\\\nğŸ”§ Rule Management:\\\\nâ€¢ Add custom rules\\\\nâ€¢ Update rule sets\\\\nâ€¢ Test rule changes\\\\nâ€¢ Rollback capability\\\\n\\\\nâœ… WAF settings configured');
          break;
        case 'DDoS Protection':
          alert('ğŸ›¡ï¸ DDoS Protection System\\\\n\\\\nâš¡ DDoS Mitigation:\\\\n\\\\nğŸ” Detection Methods:\\\\nâ€¢ Traffic pattern analysis\\\\nâ€¢ Rate limiting\\\\nâ€¢ Behavioral analysis\\\\nâ€¢ Geographic filtering\\\\n\\\\nğŸ›¡ï¸ Mitigation Techniques:\\\\nâ€¢ Rate limiting\\\\nâ€¢ IP blocking\\\\nâ€¢ Traffic scrubbing\\\\nâ€¢ CDN integration\\\\n\\\\nğŸ“Š Attack Statistics:\\\\nâ€¢ Attacks mitigated: 23\\\\nâ€¢ Peak attack: 500K RPS\\\\nâ€¢ Average duration: 45 min\\\\nâ€¢ Success rate: 99.9%\\\\n\\\\nâš™ï¸ Configuration:\\\\nâ€¢ Threshold settings\\\\nâ€¢ Response actions\\\\nâ€¢ Alert triggers\\\\nâ€¢ Recovery procedures\\\\n\\\\nâœ… DDoS protection active');
          break;
        case 'IP Blacklist':
          alert('ğŸ“‹ IP Blacklist Management\\\\n\\\\nğŸš« Blocked IPs:\\\\n\\\\nğŸ“Š Blacklist Stats:\\\\nâ€¢ Total blocked: 1,247\\\\nâ€¢ Recently added: 23\\\\nâ€¢ Auto-blocked: 1,224\\\\nâ€¢ Manual blocks: 23\\\\n\\\\nğŸ”§ Block Management:\\\\nâ€¢ Add IP/range\\\\nâ€¢ Remove from list\\\\nâ€¢ Set expiration\\\\nâ€¢ View block history\\\\n\\\\nğŸ“‹ Block Reasons:\\\\nâ€¢ Rate limit violations\\\\nâ€¢ Suspicious patterns\\\\nâ€¢ Failed authentication\\\\nâ€¢ Geographic restrictions\\\\n\\\\nâ° Expiration Settings:\\\\nâ€¢ Permanent blocks\\\\nâ€¢ Temporary blocks\\\\nâ€¢ Auto-expiration\\\\nâ€¢ Manual review\\\\n\\\\nâœ… IP blacklist updated');
          break;
        case 'Role Management':
          alert('ğŸ‘¥ Role-Based Access Control\\\\n\\\\nğŸ” RBAC Configuration:\\\\n\\\\nğŸ‘¤ User Roles:\\\\nâ€¢ Admin: Full access\\\\nâ€¢ Developer: API access\\\\nâ€¢ Analyst: Read-only\\\\nâ€¢ Guest: Limited access\\\\n\\\\nğŸ“‹ Permissions:\\\\nâ€¢ Create APIs\\\\nâ€¢ Manage keys\\\\nâ€¢ View analytics\\\\nâ€¢ Configure security\\\\n\\\\nğŸ‘¥ User Management:\\\\nâ€¢ Add/remove users\\\\nâ€¢ Assign roles\\\\nâ€¢ Update permissions\\\\nâ€¢ Audit access\\\\n\\\\nğŸ”’ Access Policies:\\\\nâ€¢ Least privilege\\\\nâ€¢ Multi-factor auth\\\\nâ€¢ Session management\\\\nâ€¢ Audit logging\\\\n\\\\nâœ… RBAC configuration updated');
          break;
        case 'MFA Settings':
          alert('ğŸ” Multi-Factor Authentication\\\\n\\\\nğŸ“± MFA Configuration:\\\\n\\\\nğŸ”§ Authentication Methods:\\\\nâ€¢ SMS verification\\\\nâ€¢ Authenticator apps\\\\nâ€¢ Hardware tokens\\\\nâ€¢ Biometric\\\\n\\\\nğŸ‘¤ User Enrollment:\\\\nâ€¢ Required for admins\\\\nâ€¢ Optional for developers\\\\nâ€¢ Disabled for APIs\\\\n\\\\nğŸ“Š MFA Statistics:\\\\nâ€¢ Enrolled users: 89%\\\\nâ€¢ Failed attempts: 23\\\\nâ€¢ Successful auth: 15,234\\\\n\\\\nâš™ï¸ MFA Policies:\\\\nâ€¢ Grace period\\\\nâ€¢ Backup codes\\\\nâ€¢ Recovery options\\\\nâ€¢ Lockout policies\\\\n\\\\nâœ… MFA settings configured');
          break;
        case 'SSO Configuration':
          alert('ğŸ”— Single Sign-On Configuration\\\\n\\\\nğŸŒ SSO Integration:\\\\n\\\\nğŸ”§ Identity Providers:\\\\nâ€¢ Google Workspace\\\\nâ€¢ Microsoft Azure AD\\\\nâ€¢ Okta\\\\nâ€¢ Custom SAML\\\\n\\\\nğŸ“‹ SSO Settings:\\\\nâ€¢ SAML 2.0 support\\\\nâ€¢ OpenID Connect\\\\nâ€¢ Just-in-Time provisioning\\\\nâ€¢ SCIM user sync\\\\n\\\\nğŸ‘¥ User Management:\\\\nâ€¢ Auto-provisioning\\\\nâ€¢ Group mapping\\\\nâ€¢ Role assignment\\\\nâ€¢ Access control\\\\n\\\\nğŸ”’ Security Features:\\\\nâ€¢ Encrypted assertions\\\\nâ€¢ Signature validation\\\\nâ€¢ Replay attack prevention\\\\nâ€¢ Session management\\\\n\\\\nâœ… SSO configuration completed');
          break;
        case 'Security Auditing':
          alert('ğŸ” Security Auditing System\\\\n\\\\nğŸ“Š Audit Configuration:\\\\n\\\\nğŸ“‹ Audit Events:\\\\nâ€¢ Authentication attempts\\\\nâ€¢ API access\\\\nâ€¢ Configuration changes\\\\nâ€¢ Security events\\\\n\\\\nğŸ—„ï¸ Audit Storage:\\\\nâ€¢ Retention: 7 years\\\\nâ€¢ Encryption: AES-256\\\\nâ€¢ Immutable logs\\\\nâ€¢ Backup verification\\\\n\\\\nğŸ” Audit Analysis:\\\\nâ€¢ Real-time monitoring\\\\nâ€¢ Pattern detection\\\\nâ€¢ Compliance reporting\\\\nâ€¢ Forensic analysis\\\\n\\\\nğŸ“ˆ Audit Metrics:\\\\nâ€¢ Events logged: 47.2K\\\\nâ€¢ Storage used: 2.3GB\\\\nâ€¢ Query performance: <1s\\\\n\\\\nâœ… Security auditing active');
          break;
        case 'Compliance Reports':
          alert('ğŸ“‹ Compliance Reporting\\\\n\\\\nğŸ“Š Compliance Dashboard:\\\\n\\\\nğŸ”’ Standards Covered:\\\\nâ€¢ GDPR compliance\\\\nâ€¢ SOC 2 Type II\\\\nâ€¢ PCI DSS\\\\nâ€¢ ISO 27001\\\\n\\\\nğŸ“‹ Report Types:\\\\nâ€¢ Executive summary\\\\nâ€¢ Detailed findings\\\\nâ€¢ Remediation plans\\\\nâ€¢ Audit trails\\\\n\\\\nâ° Report Schedule:\\\\nâ€¢ Monthly reports\\\\nâ€¢ Quarterly reviews\\\\nâ€¢ Annual audits\\\\nâ€¢ Ad-hoc requests\\\\n\\\\nğŸ‘¥ Distribution:\\\\nâ€¢ Compliance team\\\\nâ€¢ Executive leadership\\\\nâ€¢ External auditors\\\\nâ€¢ Regulatory bodies\\\\n\\\\nâœ… Compliance reports generated');
          break;
        case 'Intrusion Detection':
          alert('ğŸ” Intrusion Detection System\\\\n\\\\nğŸ›¡ï¸ IDS Configuration:\\\\n\\\\nğŸ” Detection Methods:\\\\nâ€¢ Signature-based\\\\nâ€¢ Anomaly-based\\\\nâ€¢ Heuristic analysis\\\\nâ€¢ Machine learning\\\\n\\\\nğŸ“Š Detection Rules:\\\\nâ€¢ SQL injection\\\\nâ€¢ XSS attacks\\\\nâ€¢ CSRF attempts\\\\nâ€¢ Brute force\\\\n\\\\nğŸš¨ Alert System:\\\\nâ€¢ Real-time alerts\\\\nâ€¢ Severity levels\\\\nâ€¢ Escalation policies\\\\nâ€¢ Automated response\\\\n\\\\nğŸ“ˆ IDS Statistics:\\\\nâ€¢ Threats detected: 89\\\\nâ€¢ False positives: 5\\\\nâ€¢ Response time: <1s\\\\nâ€¢ Coverage: 99.9%\\\\n\\\\nâœ… Intrusion detection active');
          break;
      }
    }

    // Global functions for button onclick handlers
    function editPolicy(policyName) {
      alert(\`ğŸ“ Edit Policy: \${policyName}\\\\n\\\\nâš™ï¸ Policy Configuration:\\\\n\\\\nğŸ“‹ Current Settings:\\\\nâ€¢ Status: Active\\\\nâ€¢ Severity: Medium\\\\nâ€¢ Actions: Log, Alert\\\\nâ€¢ Threshold: 10 violations\\\\n\\\\nğŸ”§ Edit Options:\\\\nâ€¢ Change severity\\\\nâ€¢ Modify actions\\\\nâ€¢ Update threshold\\\\nâ€¢ Add conditions\\\\n\\\\nğŸ“Š Impact Assessment:\\\\nâ€¢ Affected endpoints: 12\\\\nâ€¢ Current violations: 23\\\\nâ€¢ Expected change: +5%\\\\n\\\\nâœ… Policy updated successfully\`);
    }

    function viewPolicyLogs(policyName) {
      alert(\`ğŸ“‹ Policy Logs: \${policyName}\\\\n\\\\nğŸ“„ Log Entries:\\\\n\\\\nRecent Violations:\\\\nâ€¢ 14:32:15 - Rate limit exceeded\\\\nâ€¢ 14:28:33 - Invalid JWT token\\\\nâ€¢ 14:25:18 - CORS violation\\\\nâ€¢ 14:22:45 - SQL injection attempt\\\\n\\\\nğŸ“Š Log Statistics:\\\\nâ€¢ Total violations: 156\\\\nâ€¢ This week: 23\\\\nâ€¢ Most common: Rate limiting\\\\nâ€¢ Peak hour: 2:00 PM\\\\n\\\\nğŸ” Log Analysis:\\\\nâ€¢ Pattern detection\\\\nâ€¢ Trend analysis\\\\nâ€¢ Risk assessment\\\\nâ€¢ Compliance reporting\\\\n\\\\nâœ… Policy logs accessible\`);
    }

    function investigateEvent(message) {
      alert(\`ğŸ” Security Investigation: \${message}\\\\n\\\\nğŸ”¬ Investigation Details:\\\\n\\\\nğŸ“Š Event Information:\\\\nâ€¢ Timestamp: 5 minutes ago\\\\nâ€¢ Source IP: 192.168.1.100\\\\nâ€¢ User Agent: API Client v2.1\\\\nâ€¢ Endpoint: /api/v2/auth\\\\n\\\\nğŸ•µï¸ Automated Analysis:\\\\nâ€¢ Threat level: Low\\\\nâ€¢ Pattern match: Known\\\\nâ€¢ Risk score: 2/10\\\\nâ€¢ Recommendation: Monitor\\\\n\\\\nğŸ“‹ Investigation Steps:\\\\n1. Review access logs\\\\n2. Check user history\\\\n3. Validate credentials\\\\n4. Update security rules\\\\n\\\\nğŸ”’ Security Actions:\\\\nâ€¢ Log incident\\\\nâ€¢ Monitor user\\\\nâ€¢ Update policies\\\\nâ€¢ Send alerts\\\\n\\\\nâœ… Investigation completed\`);
    }

    function exportSecurityEvents() {
      alert('ğŸ“¤ Security Events Export\\\\n\\\\nğŸ“‹ Export Configuration:\\\\n\\\\nğŸ“… Time Range:\\\\nâ€¢ Last 24 hours\\\\nâ€¢ Last 7 days\\\\nâ€¢ Last 30 days\\\\nâ€¢ Custom range\\\\n\\\\nğŸ“Š Event Filters:\\\\nâ€¢ All events\\\\nâ€¢ High severity only\\\\nâ€¢ Authentication events\\\\nâ€¢ Security violations\\\\n\\\\nğŸ“ Export Formats:\\\\nâ€¢ JSON (Structured)\\\\nâ€¢ CSV (Analysis)\\\\nâ€¢ PDF (Report)\\\\nâ€¢ XML (Integration)\\\\n\\\\nğŸ” Security Features:\\\\nâ€¢ Encrypted export\\\\nâ€¢ Audit trail\\\\nâ€¢ Access logging\\\\nâ€¢ Data masking\\\\n\\\\nâœ… Security events exported successfully');
    }
  `;
}

function generateApiDocumentationContent(employee: EmployeeData): string {
  const apiEndpoints = [
    {
      method: 'GET',
      path: '/api/v2/clients',
      description: 'Retrieve list of VIP clients with filtering and pagination',
      parameters: [
        { name: 'limit', type: 'integer', required: false, description: 'Number of results per page (max 100)' },
        { name: 'offset', type: 'integer', required: false, description: 'Pagination offset' },
        { name: 'status', type: 'string', required: false, description: 'Filter by client status (active, inactive)' }
      ],
      responses: {
        '200': 'Success - Returns paginated client list',
        '401': 'Unauthorized - Invalid API key',
        '429': 'Rate limit exceeded'
      }
    },
    {
      method: 'POST',
      path: '/api/v2/bets',
      description: 'Place a new bet with validation and risk assessment',
      parameters: [
        { name: 'client_id', type: 'string', required: true, description: 'VIP client identifier' },
        { name: 'amount', type: 'number', required: true, description: 'Bet amount in USD' },
        { name: 'odds', type: 'number', required: true, description: 'Betting odds (decimal format)' },
        { name: 'sport', type: 'string', required: true, description: 'Sport type (NFL, NBA, MLB, NHL)' }
      ],
      responses: {
        '201': 'Bet created successfully',
        '400': 'Invalid request parameters',
        '403': 'Insufficient client permissions'
      }
    },
    {
      method: 'GET',
      path: '/api/v2/analytics',
      description: 'Retrieve comprehensive analytics and business intelligence data',
      parameters: [
        { name: 'date_from', type: 'date', required: false, description: 'Start date for analytics period' },
        { name: 'date_to', type: 'date', required: false, description: 'End date for analytics period' },
        { name: 'metrics', type: 'array', required: false, description: 'Specific metrics to retrieve' }
      ],
      responses: {
        '200': 'Analytics data retrieved successfully',
        '500': 'Internal server error'
      }
    }
  ];

  const codeExamples = [
    {
      language: 'javascript',
      title: 'Fetch VIP Clients',
      code: `// Fetch VIP clients with pagination
const response = await fetch('/api/v2/clients?limit=50&status=active', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer your-jwt-token',
    'Content-Type': 'application/json'
  }
});

const clients = await response.json();
console.log('VIP Clients:', clients);`
    },
    {
      language: 'python',
      title: 'Place Bet',
      code: `# Place a new bet
import requests

bet_data = {
    'client_id': 'vip_123',
    'amount': 500.00,
    'odds': 2.5,
    'sport': 'NFL'
}

response = requests.post('/api/v2/bets', 
    json=bet_data,
    headers={'Authorization': 'Bearer your-jwt-token'}
)

print('Bet placed:', response.json())`
    },
    {
      language: 'curl',
      title: 'Get Analytics',
      code: `# Get analytics data
curl -X GET '/api/v2/analytics?date_from=2024-01-01&date_to=2024-01-31' \\
  -H 'Authorization: Bearer your-jwt-token' \\
  -H 'Content-Type: application/json'`
    }
  ];

  return `
    <div class="api-documentation-container">
      <style>
        ${getApiDocumentationStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ“š API Documentation Portal</h1>
          <p>Interactive API documentation with examples, testing tools, and developer resources</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              Documentation Live - API v2.0
            </div>
            <div class="last-update">Last updated: <span id="docsLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- API Overview -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš€ API Overview</h2>
          <p>Enterprise-grade REST API for sportsbook operations and VIP client management</p>
        </div>

        <div class="api-overview-cards">
          <div class="overview-card">
            <div class="card-icon">ğŸŒ</div>
            <h3>RESTful Design</h3>
            <p>Standard REST conventions with JSON responses</p>
          </div>
          <div class="overview-card">
            <div class="card-icon">ğŸ”</div>
            <h3>JWT Authentication</h3>
            <p>Secure token-based authentication</p>
          </div>
          <div class="overview-card">
            <div class="card-icon">ğŸ“Š</div>
            <h3>Rate Limiting</h3>
            <p>Intelligent rate limiting with tiered access</p>
          </div>
          <div class="overview-card">
            <div class="card-icon">ğŸ”„</div>
            <h3>Versioning</h3>
            <p>API versioning for backward compatibility</p>
          </div>
        </div>
      </div>

      <!-- Authentication -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ” Authentication</h2>
          <p>Secure API access using JWT tokens and API keys</p>
        </div>

        <div class="auth-tabs">
          <div class="auth-tab active" onclick="switchAuthTab('jwt')">JWT Token</div>
          <div class="auth-tab" onclick="switchAuthTab('apikey')">API Key</div>
        </div>

        <div id="jwt-auth" class="auth-content active">
          <h3>JWT Authentication</h3>
          <p>Obtain a JWT token and include it in your request headers:</p>
          <div class="code-block">
            <pre><code>// Request JWT token
POST /api/v2/auth/login
{
  "username": "your-username",
  "password": "your-password"
}

// Use token in requests
GET /api/v2/clients
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>
          </div>
        </div>

        <div id="apikey-auth" class="auth-content">
          <h3>API Key Authentication</h3>
          <p>Use your API key in the request headers:</p>
          <div class="code-block">
            <pre><code>GET /api/v2/clients
X-API-Key: sk_your_api_key_here
Content-Type: application/json</code></pre>
          </div>
        </div>
      </div>

      <!-- API Endpoints -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”— API Endpoints</h2>
          <p>Detailed documentation for all available API endpoints</p>
        </div>

        <div class="endpoints-list">
          ${apiEndpoints.map(endpoint => `
            <div class="endpoint-card">
              <div class="endpoint-header">
                <span class="endpoint-method method-${endpoint.method.toLowerCase()}">${endpoint.method}</span>
                <span class="endpoint-path">${endpoint.path}</span>
              </div>
              <p class="endpoint-description">${endpoint.description}</p>

              <div class="endpoint-details">
                <div class="parameters-section">
                  <h4>Parameters</h4>
                  <div class="parameters-table">
                    ${endpoint.parameters.map(param => `
                      <div class="param-row">
                        <span class="param-name">${param.name}</span>
                        <span class="param-type">${param.type}</span>
                        <span class="param-required ${param.required ? 'required' : 'optional'}">${param.required ? 'Required' : 'Optional'}</span>
                        <span class="param-description">${param.description}</span>
                      </div>
                    `).join('')}
                  </div>
                </div>

                <div class="responses-section">
                  <h4>Responses</h4>
                  <div class="responses-list">
                    ${Object.entries(endpoint.responses).map(([code, description]) => `
                      <div class="response-item">
                        <span class="response-code code-${code.startsWith('2') ? 'success' : code.startsWith('4') ? 'client-error' : 'server-error'}">${code}</span>
                        <span class="response-description">${description}</span>
                      </div>
                    `).join('')}
                  </div>
                </div>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Code Examples -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ’» Code Examples</h2>
          <p>Ready-to-use code examples in multiple programming languages</p>
        </div>

        <div class="examples-grid">
          ${codeExamples.map(example => `
            <div class="example-card">
              <div class="example-header">
                <span class="example-language">${example.language.toUpperCase()}</span>
                <span class="example-title">${example.title}</span>
              </div>
              <div class="code-block">
                <pre><code>${example.code}</code></pre>
                <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Interactive Testing -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ§ª API Testing Tools</h2>
          <p>Test API endpoints directly from the documentation</p>
        </div>

        <div class="testing-tools">
          <div class="test-form">
            <div class="form-row">
              <label for="test-method">Method:</label>
              <select id="test-method">
                <option>GET</option>
                <option>POST</option>
                <option>PUT</option>
                <option>DELETE</option>
              </select>
            </div>

            <div class="form-row">
              <label for="test-endpoint">Endpoint:</label>
              <input type="text" id="test-endpoint" value="/api/v2/clients" placeholder="Enter API endpoint">
            </div>

            <div class="form-row">
              <label for="test-body">Request Body (JSON):</label>
              <textarea id="test-body" rows="4" placeholder='{"key": "value"}'></textarea>
            </div>

            <div class="form-row">
              <label for="test-headers">Headers:</label>
              <textarea id="test-headers" rows="2" placeholder='{"Authorization": "Bearer token"}'></textarea>
            </div>

            <button class="test-btn" onclick="executeTest()">Execute Test</button>
          </div>

          <div class="test-results">
            <h3>Test Results</h3>
            <div id="test-output" class="test-output">
              <p>Click "Execute Test" to run an API request</p>
            </div>
          </div>
        </div>
      </div>

      <!-- SDK & Libraries -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“¦ SDKs & Libraries</h2>
          <p>Official SDKs and community libraries for easy integration</p>
        </div>

        <div class="sdk-grid">
          <div class="sdk-card">
            <div class="sdk-icon">ğŸ</div>
            <h3>Python SDK</h3>
            <p>Official Python client library</p>
            <div class="sdk-code">pip install fantasy402-sdk</div>
            <a href="#" class="sdk-link">Documentation â†’</a>
          </div>

          <div class="sdk-card">
            <div class="sdk-icon">âš›ï¸</div>
            <h3>JavaScript SDK</h3>
            <p>Node.js and browser compatible</p>
            <div class="sdk-code">npm install @fantasy402/sdk</div>
            <a href="#" class="sdk-link">Documentation â†’</a>
          </div>

          <div class="sdk-card">
            <div class="sdk-icon">â˜•</div>
            <h3>Java SDK</h3>
            <p>Enterprise Java integration</p>
            <div class="sdk-code">implementation 'com.fantasy402:sdk'</div>
            <a href="#" class="sdk-link">Documentation â†’</a>
          </div>

          <div class="sdk-card">
            <div class="sdk-icon">ğŸ”§</div>
            <h3>Go SDK</h3>
            <p>High-performance Go client</p>
            <div class="sdk-code">go get github.com/fantasy402/go-sdk</div>
            <a href="#" class="sdk-link">Documentation â†’</a>
          </div>
        </div>
      </div>

      <!-- API Status -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“Š API Status & Changelog</h2>
          <p>Current API status and version history</p>
        </div>

        <div class="api-status">
          <div class="status-banner">
            <div class="status-icon">âœ…</div>
            <div class="status-info">
              <h3>All Systems Operational</h3>
              <p>API v2.0 is running normally with 99.9% uptime</p>
            </div>
          </div>

          <div class="changelog">
            <h3>Recent Changes</h3>
            <div class="changelog-item">
              <div class="version-tag">v2.1.0</div>
              <div class="change-details">
                <h4>New Analytics Endpoints</h4>
                <p>Added advanced filtering and real-time analytics capabilities</p>
                <small>Released: 2 days ago</small>
              </div>
            </div>

            <div class="changelog-item">
              <div class="version-tag">v2.0.5</div>
              <div class="change-details">
                <h4>Security Enhancements</h4>
                <p>Improved JWT validation and rate limiting algorithms</p>
                <small>Released: 1 week ago</small>
              </div>
            </div>

            <div class="changelog-item">
              <div class="version-tag">v2.0.0</div>
              <div class="change-details">
                <h4>Major Release</h4>
                <p>Complete API redesign with enhanced performance and security</p>
                <small>Released: 2 weeks ago</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Enhanced API Explorer -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ” API Explorer</h2>
          <p>Interactive API endpoint browser with real-time testing</p>
        </div>

        <div class="api-explorer">
          <div class="explorer-controls">
            <div class="search-controls">
              <input type="text" id="apiSearch" placeholder="Search endpoints..." class="search-input">
              <select id="methodFilter" class="method-select">
                <option value="">All Methods</option>
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
                <option value="DELETE">DELETE</option>
              </select>
            </div>
            <div class="explorer-stats">
              <span class="stat-item">ğŸ“Š ${apiEndpoints.length} endpoints</span>
              <span class="stat-item">ğŸ”„ Version 2.1.0</span>
              <span class="stat-item">âš¡ 99.9% uptime</span>
            </div>
          </div>

          <div class="explorer-results" id="explorerResults">
            ${apiEndpoints.map((endpoint, index) => `
              <div class="explorer-endpoint" data-method="${endpoint.method}" data-path="${endpoint.path}">
                <div class="endpoint-summary">
                  <span class="method-badge method-${endpoint.method.toLowerCase()}">${endpoint.method}</span>
                  <span class="endpoint-path-explorer">${endpoint.path}</span>
                  <button class="expand-btn" onclick="toggleEndpoint(${index})">â–¼</button>
                </div>
                <div class="endpoint-details-explorer" id="endpoint-${index}" style="display: none;">
                  <p class="endpoint-description">${endpoint.description}</p>

                  ${endpoint.parameters.length > 0 ? `
                  <div class="parameters-section">
                    <h5>Parameters:</h5>
                    <div class="params-list">
                      ${endpoint.parameters.map(param => `
                        <div class="param-item">
                          <code class="param-name">${param.name}</code>
                          <span class="param-type">${param.type}</span>
                          <span class="param-required ${param.required ? 'required' : 'optional'}">${param.required ? 'Required' : 'Optional'}</span>
                        </div>
                      `).join('')}
                    </div>
                  </div>
                  ` : ''}

                  <div class="responses-section">
                    <h5>Responses:</h5>
                    <div class="responses-list">
                      ${Object.entries(endpoint.responses).map(([code, description]) => `
                        <div class="response-item">
                          <span class="response-code code-${code.startsWith('2') ? 'success' : code.startsWith('4') ? 'client-error' : 'server-error'}">${code}</span>
                          <span class="response-description">${description}</span>
                        </div>
                      `).join('')}
                    </div>
                  </div>

                  <div class="endpoint-actions">
                    <button class="test-endpoint-btn" onclick="testEndpoint('${endpoint.path}', '${endpoint.method}')">Test Endpoint</button>
                    <button class="copy-endpoint-btn" onclick="copyEndpoint('${endpoint.path}')">Copy URL</button>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>

      <!-- Webhooks Documentation -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸª Webhooks & Real-time</h2>
          <p>Real-time event notifications and webhook integration</p>
        </div>

        <div class="webhooks-grid">
          <div class="webhook-card">
            <div class="webhook-icon">ğŸ””</div>
            <h3>Event Notifications</h3>
            <p>Receive real-time notifications for bets, payments, and client activities</p>
            <div class="webhook-events">
              <span class="event-tag">bet.placed</span>
              <span class="event-tag">payment.received</span>
              <span class="event-tag">client.updated</span>
              <span class="event-tag">odds.changed</span>
            </div>
          </div>

          <div class="webhook-card">
            <div class="webhook-icon">ğŸ”’</div>
            <h3>Security</h3>
            <p>Webhook signatures and IP whitelisting for secure delivery</p>
            <div class="webhook-features">
              <span class="feature">HMAC signatures</span>
              <span class="feature">IP whitelisting</span>
              <span class="feature">Retry logic</span>
            </div>
          </div>

          <div class="webhook-card">
            <div class="webhook-icon">ğŸ“Š</div>
            <h3>Analytics</h3>
            <p>Track webhook delivery success and failure rates</p>
            <div class="webhook-metrics">
              <div class="metric">99.8% delivery rate</div>
              <div class="metric">< 30s average delay</div>
            </div>
          </div>
        </div>
      </div>

      <!-- API Limits & Quotas -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš¡ Rate Limits & Quotas</h2>
          <p>Understanding API limits and optimizing your integration</p>
        </div>

        <div class="rate-limits">
          <div class="tier-comparison">
            <div class="tier-card bronze">
              <div class="tier-header">
                <h3>ğŸ¥‰ Bronze</h3>
                <div class="tier-price">Free</div>
              </div>
              <div class="tier-limits">
                <div class="limit-item">100 requests/minute</div>
                <div class="limit-item">1,000 requests/day</div>
                <div class="limit-item">Basic support</div>
              </div>
            </div>

            <div class="tier-card silver">
              <div class="tier-header">
                <h3>ğŸ¥ˆ Silver</h3>
                <div class="tier-price">$99/month</div>
              </div>
              <div class="tier-limits">
                <div class="limit-item">1,000 requests/minute</div>
                <div class="limit-item">50,000 requests/day</div>
                <div class="limit-item">Priority support</div>
              </div>
            </div>

            <div class="tier-card gold">
              <div class="tier-header">
                <h3>ğŸ¥‡ Gold</h3>
                <div class="tier-price">$299/month</div>
              </div>
              <div class="tier-limits">
                <div class="limit-item">10,000 requests/minute</div>
                <div class="limit-item">Unlimited requests</div>
                <div class="limit-item">24/7 dedicated support</div>
              </div>
            </div>
          </div>

          <div class="rate-limit-info">
            <h3>Rate Limit Headers</h3>
            <div class="headers-table">
              <div class="header-row">
                <code>X-RateLimit-Limit</code>
                <span>Maximum requests per time window</span>
              </div>
              <div class="header-row">
                <code>X-RateLimit-Remaining</code>
                <span>Remaining requests in current window</span>
              </div>
              <div class="header-row">
                <code>X-RateLimit-Reset</code>
                <span>Time when limit resets (Unix timestamp)</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Support & Community -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ¤ Support & Community</h2>
          <p>Get help and connect with other developers</p>
        </div>

        <div class="support-resources">
          <div class="support-card">
            <div class="support-icon">ğŸ’¬</div>
            <h3>Developer Community</h3>
            <p>Join our developer community for discussions and support</p>
            <a href="https://community.fantasy402.com" class="support-link">Join Community â†’</a>
          </div>

          <div class="support-card">
            <div class="support-icon">ğŸ“§</div>
            <h3>Email Support</h3>
            <p>Get direct assistance from our developer support team</p>
            <a href="mailto:dev-support@fantasy402.com" class="support-link">Email Support â†’</a>
          </div>

          <div class="support-card">
            <div class="support-icon">ğŸ¯</div>
            <h3>Status Page</h3>
            <p>Real-time API status and incident updates</p>
            <a href="https://status.fantasy402.com" class="support-link">View Status â†’</a>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/developer" class="nav-btn primary">
          <span class="btn-icon">ğŸ‘¨â€ğŸ’»</span>
          Developer Portal
        </a>
        <a href="/api/integrations" class="nav-btn accent">
          <span class="btn-icon">ğŸ”—</span>
          Integrations
        </a>
      </div>
    </div>

    <script>
      ${getApiDocumentationScripts()}
    </script>
  `;
}

function generateApiDeveloperContent(employee: EmployeeData): string {
  const developerResources = [
    {
      icon: 'ğŸ“–',
      title: 'Getting Started Guide',
      description: 'Complete guide for integrating with our API',
      link: '/api/docs/getting-started',
      type: 'guide'
    },
    {
      icon: 'ğŸ¯',
      title: 'Best Practices',
      description: 'Recommended patterns and optimization tips',
      link: '/api/docs/best-practices',
      type: 'guide'
    },
    {
      icon: 'ğŸ§ª',
      title: 'Testing Environment',
      description: 'Sandbox environment for API testing',
      link: 'https://sandbox.fantasy402.com',
      type: 'tool'
    },
    {
      icon: 'ğŸ“Š',
      title: 'API Analytics',
      description: 'Monitor your API usage and performance',
      link: '/api/analytics',
      type: 'tool'
    }
  ];

  const webhookExamples = [
    {
      event: 'bet.placed',
      description: 'Triggered when a new bet is successfully placed',
      payload: `{
  "event": "bet.placed",
  "data": {
    "bet_id": "bet_123456",
    "client_id": "vip_789",
    "amount": 500.00,
    "odds": 2.5,
    "sport": "NFL",
    "timestamp": "2024-01-29T14:30:00Z"
  }
}`
    },
    {
      event: 'payment.received',
      description: 'Triggered when a payment is successfully processed',
      payload: `{
  "event": "payment.received",
  "data": {
    "payment_id": "pay_987654",
    "client_id": "vip_789",
    "amount": 2500.00,
    "currency": "USD",
    "timestamp": "2024-01-29T14:45:00Z"
  }
}`
    },
    {
      event: 'client.updated',
      description: 'Triggered when client information is modified',
      payload: `{
  "event": "client.updated",
  "data": {
    "client_id": "vip_789",
    "changes": ["email", "phone"],
    "timestamp": "2024-01-29T15:00:00Z"
  }
}`
    }
  ];

  return `
    <div class="api-developer-container">
      <style>
        ${getApiDeveloperStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ‘¨â€ğŸ’» Developer Portal</h1>
          <p>Complete developer resources, tools, and integration guides</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              Developer Resources Available
            </div>
            <div class="last-update">Last updated: <span id="devLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Developer Resources -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“š Developer Resources</h2>
          <p>Essential guides, tools, and documentation for API integration</p>
        </div>

        <div class="resources-grid">
          ${developerResources.map(resource => `
            <div class="resource-card ${resource.type}">
              <div class="resource-icon">${resource.icon}</div>
              <h3>${resource.title}</h3>
              <p>${resource.description}</p>
              <a href="${resource.link}" class="resource-link">${resource.type === 'guide' ? 'Read Guide' : 'Access Tool'} â†’</a>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- API Keys Management -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”‘ API Keys</h2>
          <p>Manage your API keys and authentication credentials</p>
        </div>

        <div class="keys-management">
          <div class="keys-summary">
            <div class="keys-stat">
              <div class="stat-value">3</div>
              <div class="stat-label">Active Keys</div>
            </div>
            <div class="keys-stat">
              <div class="stat-value">15.2K</div>
              <div class="stat-label">Requests Today</div>
            </div>
            <div class="keys-stat">
              <div class="stat-value">99.9%</div>
              <div class="stat-label">Success Rate</div>
            </div>
          </div>

          <div class="keys-list">
            <div class="key-item">
              <div class="key-info">
                <h4>Production Key</h4>
                <p>sk_prod_********************</p>
                <div class="key-meta">Created: Jan 15, 2024 â€¢ Last used: 5 min ago</div>
              </div>
              <div class="key-actions">
                <button class="action-btn small" onclick="viewKeyUsage('prod')">Usage</button>
                <button class="action-btn small secondary" onclick="regenerateKey('prod')">Regenerate</button>
              </div>
            </div>

            <div class="key-item">
              <div class="key-info">
                <h4>Development Key</h4>
                <p>sk_dev_********************</p>
                <div class="key-meta">Created: Jan 20, 2024 â€¢ Last used: 2 hours ago</div>
              </div>
              <div class="key-actions">
                <button class="action-btn small" onclick="viewKeyUsage('dev')">Usage</button>
                <button class="action-btn small secondary" onclick="regenerateKey('dev')">Regenerate</button>
              </div>
            </div>

            <div class="key-item">
              <div class="key-info">
                <h4>Testing Key</h4>
                <p>sk_test_********************</p>
                <div class="key-meta">Created: Jan 25, 2024 â€¢ Last used: 1 day ago</div>
              </div>
              <div class="key-actions">
                <button class="action-btn small" onclick="viewKeyUsage('test')">Usage</button>
                <button class="action-btn small secondary" onclick="regenerateKey('test')">Regenerate</button>
              </div>
            </div>
          </div>

          <button class="create-key-btn" onclick="createNewKey()">
            <span class="btn-icon">â•</span>
            Create New API Key
          </button>
        </div>
      </div>

      <!-- Webhooks -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”— Webhooks</h2>
          <p>Real-time event notifications and webhook management</p>
        </div>

        <div class="webhooks-management">
          <div class="webhooks-header">
            <h3>Active Webhooks</h3>
            <button class="create-webhook-btn" onclick="createWebhook()">Create Webhook</button>
          </div>

          <div class="webhooks-list">
            <div class="webhook-item">
              <div class="webhook-info">
                <h4>Bet Notifications</h4>
                <p>https://api.client.com/webhooks/bets</p>
                <div class="webhook-events">Events: bet.placed, bet.settled</div>
                <div class="webhook-status active">â— Active</div>
              </div>
              <div class="webhook-actions">
                <button class="action-btn small" onclick="testWebhook('bets')">Test</button>
                <button class="action-btn small secondary" onclick="editWebhook('bets')">Edit</button>
                <button class="action-btn small danger" onclick="deleteWebhook('bets')">Delete</button>
              </div>
            </div>

            <div class="webhook-item">
              <div class="webhook-info">
                <h4>Payment Updates</h4>
                <p>https://api.client.com/webhooks/payments</p>
                <div class="webhook-events">Events: payment.received, payment.failed</div>
                <div class="webhook-status active">â— Active</div>
              </div>
              <div class="webhook-actions">
                <button class="action-btn small" onclick="testWebhook('payments')">Test</button>
                <button class="action-btn small secondary" onclick="editWebhook('payments')">Edit</button>
                <button class="action-btn small danger" onclick="deleteWebhook('payments')">Delete</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Webhook Examples -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“ Webhook Examples</h2>
          <p>Sample webhook payloads for different event types</p>
        </div>

        <div class="webhook-examples">
          ${webhookExamples.map(example => `
            <div class="webhook-example">
              <div class="example-header">
                <h4>${example.event}</h4>
                <p>${example.description}</p>
              </div>
              <div class="example-payload">
                <pre><code>${example.payload}</code></pre>
                <button class="copy-payload-btn" onclick="copyWebhookPayload(this)">Copy Payload</button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Rate Limits -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸš¦ Rate Limits</h2>
          <p>API rate limiting information and usage tracking</p>
        </div>

        <div class="rate-limits-info">
          <div class="limits-overview">
            <div class="limit-card">
              <h3>Requests per Minute</h3>
              <div class="limit-value">1,000</div>
              <div class="limit-used">234 used (23%)</div>
              <div class="limit-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 23%"></div>
                </div>
              </div>
            </div>

            <div class="limit-card">
              <h3>Requests per Hour</h3>
              <div class="limit-value">10,000</div>
              <div class="limit-used">2,847 used (28%)</div>
              <div class="limit-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 28%"></div>
                </div>
              </div>
            </div>

            <div class="limit-card">
              <h3>Requests per Day</h3>
              <div class="limit-value">50,000</div>
              <div class="limit-used">15,234 used (30%)</div>
              <div class="limit-progress">
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 30%"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="limits-info">
            <h3>Rate Limit Headers</h3>
            <div class="headers-list">
              <div class="header-item">
                <code>X-RateLimit-Limit</code>
                <span>Total requests allowed</span>
              </div>
              <div class="header-item">
                <code>X-RateLimit-Remaining</code>
                <span>Requests remaining in window</span>
              </div>
              <div class="header-item">
                <code>X-RateLimit-Reset</code>
                <span>Time when limit resets (Unix timestamp)</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Error Handling -->
      <div class="api-section">
        <div class="section-header">
          <h2>âš ï¸ Error Handling</h2>
          <p>Common error responses and troubleshooting guide</p>
        </div>

        <div class="error-handling">
          <div class="error-codes">
            <h3>HTTP Status Codes</h3>
            <div class="error-code">
              <span class="code">400</span>
              <span class="description">Bad Request - Invalid parameters</span>
            </div>
            <div class="error-code">
              <span class="code">401</span>
              <span class="description">Unauthorized - Invalid API key or token</span>
            </div>
            <div class="error-code">
              <span class="code">403</span>
              <span class="description">Forbidden - Insufficient permissions</span>
            </div>
            <div class="error-code">
              <span class="code">404</span>
              <span class="description">Not Found - Resource doesn't exist</span>
            </div>
            <div class="error-code">
              <span class="code">429</span>
              <span class="description">Too Many Requests - Rate limit exceeded</span>
            </div>
            <div class="error-code">
              <span class="code">500</span>
              <span class="description">Internal Server Error - Server issue</span>
            </div>
          </div>

          <div class="error-response">
            <h3>Error Response Format</h3>
            <div class="code-block">
              <pre><code>{
  "error": {
    "code": "INVALID_REQUEST",
    "message": "The request parameters are invalid",
    "details": {
      "field": "amount",
      "issue": "Must be a positive number"
    }
  },
  "request_id": "req_1234567890"
}</code></pre>
            </div>
          </div>
        </div>
      </div>

      <!-- Support & Community -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ¤ Support & Community</h2>
          <p>Get help and connect with other developers</p>
        </div>

        <div class="support-resources">
          <div class="support-card">
            <div class="support-icon">ğŸ“§</div>
            <h3>Email Support</h3>
            <p>Get direct assistance from our developer team</p>
            <a href="mailto:api-support@fantasy402.com" class="support-link">api-support@fantasy402.com</a>
          </div>

          <div class="support-card">
            <div class="support-icon">ğŸ’¬</div>
            <h3>Developer Forum</h3>
            <p>Connect with other developers and share knowledge</p>
            <a href="/developer/forum" class="support-link">Visit Forum â†’</a>
          </div>

          <div class="support-card">
            <div class="support-icon">ğŸ“š</div>
            <h3>Knowledge Base</h3>
            <p>Comprehensive guides and troubleshooting articles</p>
            <a href="/developer/knowledge-base" class="support-link">Browse Articles â†’</a>
          </div>

          <div class="support-card">
            <div class="support-icon">ğŸ””</div>
            <h3>Status Updates</h3>
            <p>Real-time API status and maintenance notifications</p>
            <a href="/status" class="support-link">View Status â†’</a>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/documentation" class="nav-btn secondary">
          <span class="btn-icon">ğŸ“š</span>
          Documentation
        </a>
        <a href="/api/integrations" class="nav-btn primary">
          <span class="btn-icon">ğŸ”—</span>
          Integrations
        </a>
      </div>
    </div>

    <script>
      ${getApiDeveloperScripts()}
    </script>
  `;
}

function generateApiIntegrationsContent(employee: EmployeeData): string {
  const integrations = [
    {
      name: 'Slack',
      icon: 'ğŸ’¬',
      description: 'Receive notifications and alerts in Slack channels',
      status: 'connected',
      features: ['Real-time alerts', 'Channel notifications', 'Interactive buttons'],
      setup_time: '5 minutes'
    },
    {
      name: 'Zapier',
      icon: 'âš¡',
      description: 'Connect Fantasy402 with 2,000+ apps via Zapier',
      status: 'available',
      features: ['Automated workflows', 'Data synchronization', 'Custom triggers'],
      setup_time: '10 minutes'
    },
    {
      name: 'Microsoft Teams',
      icon: 'ğŸ‘¥',
      description: 'Team collaboration and notification integration',
      status: 'available',
      features: ['Team notifications', 'Meeting integration', 'File sharing'],
      setup_time: '8 minutes'
    },
    {
      name: 'Discord',
      icon: 'ğŸ®',
      description: 'Gaming community integration and notifications',
      status: 'connected',
      features: ['Server notifications', 'Role-based alerts', 'Voice integration'],
      setup_time: '3 minutes'
    },
    {
      name: 'Google Workspace',
      icon: 'ğŸ“§',
      description: 'Email notifications and calendar integration',
      status: 'available',
      features: ['Email alerts', 'Calendar events', 'Drive integration'],
      setup_time: '12 minutes'
    },
    {
      name: 'Webhook',
      icon: 'ğŸ”—',
      description: 'Custom webhook endpoints for maximum flexibility',
      status: 'active',
      features: ['Custom endpoints', 'Retry logic', 'Payload customization'],
      setup_time: '15 minutes'
    },
    {
      name: 'Stripe',
      icon: 'ğŸ’³',
      description: 'Secure payment processing and subscription management',
      status: 'connected',
      features: ['Payment processing', 'Subscription billing', 'Payout management'],
      setup_time: '8 minutes'
    },
    {
      name: 'Twilio',
      icon: 'ğŸ“±',
      description: 'SMS notifications and communication services',
      status: 'available',
      features: ['SMS alerts', 'Voice calls', 'WhatsApp integration'],
      setup_time: '6 minutes'
    },
    {
      name: 'SendGrid',
      icon: 'ğŸ“¬',
      description: 'Advanced email delivery and marketing automation',
      status: 'available',
      features: ['Email delivery', 'Marketing campaigns', 'Transactional emails'],
      setup_time: '7 minutes'
    },
    {
      name: 'HubSpot',
      icon: 'ğŸ¯',
      description: 'CRM integration and marketing automation',
      status: 'available',
      features: ['Lead tracking', 'Marketing automation', 'Sales pipeline'],
      setup_time: '15 minutes'
    },
    {
      name: 'Salesforce',
      icon: 'â˜ï¸',
      description: 'Enterprise CRM and customer management',
      status: 'available',
      features: ['Customer data sync', 'Sales automation', 'Reporting integration'],
      setup_time: '20 minutes'
    },
    {
      name: 'Jira',
      icon: 'ğŸ“‹',
      description: 'Project management and issue tracking',
      status: 'available',
      features: ['Issue tracking', 'Project management', 'Workflow automation'],
      setup_time: '10 minutes'
    },
    {
      name: 'GitHub',
      icon: 'ğŸ™',
      description: 'Development workflow and CI/CD integration',
      status: 'available',
      features: ['Code deployments', 'Issue tracking', 'Release management'],
      setup_time: '12 minutes'
    },
    {
      name: 'AWS Lambda',
      icon: 'â˜ï¸',
      description: 'Serverless computing and event-driven architecture',
      status: 'available',
      features: ['Serverless functions', 'Event processing', 'Auto-scaling'],
      setup_time: '18 minutes'
    },
    {
      name: 'Docker Hub',
      icon: 'ğŸ³',
      description: 'Container registry and deployment automation',
      status: 'available',
      features: ['Container deployment', 'Image management', 'Registry access'],
      setup_time: '9 minutes'
    }
  ];

  const apiEndpoints = [
    { name: 'Client Management', endpoints: 12, calls: '15.2K', status: 'active' },
    { name: 'Betting Operations', endpoints: 8, calls: '8.9K', status: 'active' },
    { name: 'Analytics & Reporting', endpoints: 15, calls: '12.4K', status: 'active' },
    { name: 'Payment Processing', endpoints: 6, calls: '4.2K', status: 'active' },
    { name: 'User Authentication', endpoints: 4, calls: '892', status: 'active' },
    { name: 'Sports Data', endpoints: 18, calls: '28.7K', status: 'active' },
    { name: 'Risk Management', endpoints: 9, calls: '6.3K', status: 'active' },
    { name: 'Compliance & KYC', endpoints: 7, calls: '3.1K', status: 'active' },
    { name: 'Marketing & Campaigns', endpoints: 11, calls: '9.8K', status: 'active' },
    { name: 'Admin & Settings', endpoints: 5, calls: '1.2K', status: 'active' }
  ];

  return `
    <div class="api-integrations-container">
      <style>
        ${getApiIntegrationsStyles()}
      </style>

      <div class="api-header">
        <div class="header-content">
          <h1>ğŸ”— API Integrations Hub</h1>
          <p>Connect Fantasy402 with your favorite tools and platforms</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              Integration Services Active
            </div>
            <div class="last-update">Last updated: <span id="integrationsLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Integration Marketplace -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ›ï¸ Integration Marketplace</h2>
          <p>Popular integrations and third-party connections</p>
        </div>

        <div class="integrations-grid">
          ${integrations.map(integration => `
            <div class="integration-card ${integration.status}">
              <div class="integration-header">
                <div class="integration-icon">${integration.icon}</div>
                <div class="integration-status ${integration.status}">
                  ${integration.status === 'connected' ? 'â— Connected' : integration.status === 'active' ? 'â— Active' : 'â—‹ Available'}
                </div>
              </div>
              <h3 class="integration-name">${integration.name}</h3>
              <p class="integration-description">${integration.description}</p>

              <div class="integration-features">
                ${integration.features.map(feature => `
                  <span class="feature-tag">${feature}</span>
                `).join('')}
              </div>

              <div class="integration-footer">
                <div class="setup-time">â±ï¸ ${integration.setup_time}</div>
                <button class="integration-btn ${integration.status === 'connected' ? 'disconnect' : 'connect'}"
                        onclick="${integration.status === 'connected' ? 'disconnectIntegration' : 'connectIntegration'}('${integration.name.toLowerCase()}')">
                  ${integration.status === 'connected' ? 'Disconnect' : 'Connect'}
                </button>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- API Endpoints Overview -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”Œ API Endpoints</h2>
          <p>Available API endpoints for integration</p>
        </div>

        <div class="endpoints-overview">
          ${apiEndpoints.map(endpoint => `
            <div class="endpoint-overview">
              <div class="endpoint-info">
                <h3>${endpoint.name}</h3>
                <div class="endpoint-stats">
                  <span class="stat">${endpoint.endpoints} endpoints</span>
                  <span class="stat">${endpoint.calls} calls today</span>
                  <span class="stat status-${endpoint.status}">${endpoint.status}</span>
                </div>
              </div>
              <button class="endpoint-btn" onclick="viewEndpointDetails('${endpoint.name.toLowerCase().replace(/\s+/g, '_')}')">
                View Details
              </button>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Integration Templates -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“‹ Integration Templates</h2>
          <p>Pre-built integration workflows for common use cases</p>
        </div>

        <div class="templates-grid">
          <div class="template-card">
            <div class="template-icon">ğŸ°</div>
            <h3>Automated Betting Alerts</h3>
            <p>Send real-time betting notifications to Slack, Teams, and Discord</p>
            <div class="template-features">
              <span class="feature">High-value bets</span>
              <span class="feature">VIP client activity</span>
              <span class="feature">Risk alerts</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('betting-alerts')">Deploy Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ’°</div>
            <h3>Payment Processing Sync</h3>
            <p>Sync payment data with CRM and accounting systems</p>
            <div class="template-features">
              <span class="feature">Stripe integration</span>
              <span class="feature">HubSpot sync</span>
              <span class="feature">Financial reporting</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('payment-sync')">Deploy Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ“Š</div>
            <h3>Analytics Dashboard Export</h3>
            <p>Export performance data to BI tools and custom dashboards</p>
            <div class="template-features">
              <span class="feature">Real-time sync</span>
              <span class="feature">Custom reports</span>
              <span class="feature">Data visualization</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('analytics-export')">Deploy Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ””</div>
            <h3>Customer Support Integration</h3>
            <p>Create support tickets from client feedback and issues</p>
            <div class="template-features">
              <span class="feature">Auto-ticketing</span>
              <span class="feature">Priority routing</span>
              <span class="feature">SLA tracking</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('support-integration')">Deploy Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ“ˆ</div>
            <h3>Marketing Campaign Sync</h3>
            <p>Sync client data with email marketing and CRM campaigns</p>
            <div class="template-features">
              <span class="feature">Lead scoring</span>
              <span class="feature">Segmentation</span>
              <span class="feature">Campaign triggers</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('marketing-sync')">Deploy Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">âš¡</div>
            <h3>Real-time Data Pipeline</h3>
            <p>Stream live betting data to external analytics platforms</p>
            <div class="template-features">
              <span class="feature">Live streaming</span>
              <span class="feature">Data transformation</span>
              <span class="feature">Custom endpoints</span>
            </div>
            <button class="template-btn" onclick="deployTemplate('data-pipeline')">Deploy Template</button>
          </div>
        </div>
      </div>

      <!-- Webhook Management -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ”— Webhook Management</h2>
          <p>Configure webhooks for real-time event notifications</p>
        </div>

        <div class="webhook-management">
          <div class="webhook-header">
            <h3>Active Webhooks</h3>
            <button class="create-webhook-btn" onclick="createNewWebhook()">
              <span class="btn-icon">â•</span>
              Create Webhook
            </button>
          </div>

          <div class="webhook-stats">
            <div class="stat-box">
              <div class="stat-value">12</div>
              <div class="stat-label">Active Webhooks</div>
            </div>
            <div class="stat-box">
              <div class="stat-value">47.2K</div>
              <div class="stat-label">Events Sent Today</div>
            </div>
            <div class="stat-box">
              <div class="stat-value">99.8%</div>
              <div class="stat-label">Delivery Rate</div>
            </div>
            <div class="stat-box">
              <div class="stat-value">142ms</div>
              <div class="stat-label">Avg Response</div>
            </div>
          </div>

          <div class="webhook-list">
            <div class="webhook-item">
              <div class="webhook-info">
                <h4>Bet Placed Events</h4>
                <p>https://api.client.com/webhooks/bets</p>
                <div class="webhook-meta">
                  <span class="events-count">8,947 events</span>
                  <span class="success-rate">99.9% success</span>
                </div>
              </div>
              <div class="webhook-actions">
                <button class="action-btn small" onclick="testWebhook('bets')">Test</button>
                <button class="action-btn small secondary" onclick="editWebhook('bets')">Edit</button>
                <button class="action-btn small danger" onclick="deleteWebhook('bets')">Delete</button>
              </div>
            </div>

            <div class="webhook-item">
              <div class="webhook-info">
                <h4>Payment Notifications</h4>
                <p>https://api.client.com/webhooks/payments</p>
                <div class="webhook-meta">
                  <span class="events-count">4,231 events</span>
                  <span class="success-rate">99.7% success</span>
                </div>
              </div>
              <div class="webhook-actions">
                <button class="action-btn small" onclick="testWebhook('payments')">Test</button>
                <button class="action-btn small secondary" onclick="editWebhook('payments')">Edit</button>
                <button class="action-btn small danger" onclick="deleteWebhook('payments')">Delete</button>
              </div>
            </div>

            <div class="webhook-item">
              <div class="webhook-info">
                <h4>Client Updates</h4>
                <p>https://api.client.com/webhooks/clients</p>
                <div class="webhook-meta">
                  <span class="events-count">1,892 events</span>
                  <span class="success-rate">99.8% success</span>
                </div>
              </div>
              <div class="webhook-actions">
                <button class="action-btn small" onclick="testWebhook('clients')">Test</button>
                <button class="action-btn small secondary" onclick="editWebhook('clients')">Edit</button>
                <button class="action-btn small danger" onclick="deleteWebhook('clients')">Delete</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Integration Testing -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ§ª Integration Testing</h2>
          <p>Test your integrations and validate webhook endpoints</p>
        </div>

        <div class="integration-testing">
          <div class="test-tools">
            <div class="test-tool">
              <h3>Webhook Tester</h3>
              <p>Test webhook endpoints with sample payloads</p>
              <button class="test-btn" onclick="openWebhookTester()">Open Tester</button>
            </div>

            <div class="test-tool">
              <h3>API Simulator</h3>
              <p>Simulate API responses for testing</p>
              <button class="test-btn" onclick="openApiSimulator()">Open Simulator</button>
            </div>

            <div class="test-tool">
              <h3>Load Testing</h3>
              <p>Test integration performance under load</p>
              <button class="test-btn" onclick="openLoadTester()">Load Tester</button>
            </div>
          </div>

          <div class="test-results">
            <h3>Test Results</h3>
            <div class="result-item success">
              <span class="result-icon">âœ…</span>
              <span class="result-text">Webhook endpoint responding correctly</span>
              <span class="result-time">2 min ago</span>
            </div>
            <div class="result-item success">
              <span class="result-icon">âœ…</span>
              <span class="result-text">API authentication successful</span>
              <span class="result-time">5 min ago</span>
            </div>
            <div class="result-item warning">
              <span class="result-icon">âš ï¸</span>
              <span class="result-text">Rate limit warning triggered</span>
              <span class="result-time">12 min ago</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Integration Analytics -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“Š Integration Analytics</h2>
          <p>Monitor integration performance and usage patterns</p>
        </div>

        <div class="integration-analytics">
          <div class="analytics-metrics">
            <div class="metric-card">
              <div class="metric-icon">ğŸ”„</div>
              <div class="metric-value">47.2K</div>
              <div class="metric-label">API Calls Today</div>
              <div class="metric-change positive">+8.3%</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">âœ…</div>
              <div class="metric-value">99.8%</div>
              <div class="metric-label">Success Rate</div>
              <div class="metric-change positive">+0.2%</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">âš¡</div>
              <div class="metric-value">142ms</div>
              <div class="metric-label">Avg Response Time</div>
              <div class="metric-change neutral">-2ms</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">ğŸ”—</div>
              <div class="metric-value">12</div>
              <div class="metric-label">Active Integrations</div>
              <div class="metric-change positive">+2</div>
            </div>
          </div>

          <div class="analytics-charts">
            <div class="chart-placeholder">
              <h4>Integration Usage Over Time</h4>
              <div class="chart-area">
                <p>ğŸ“Š Interactive charts would be displayed here</p>
                <p>Showing API calls, response times, and error rates</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Integration Templates -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ“‹ Integration Templates</h2>
          <p>Pre-built integration templates to get started quickly</p>
        </div>

        <div class="integration-templates">
          <div class="template-card">
            <div class="template-icon">ğŸ’°</div>
            <h3>Payment Processing</h3>
            <p>Handle payments, payouts, and financial transactions</p>
            <div class="template-features">
              <span class="feature">Stripe integration</span>
              <span class="feature">PayPal support</span>
              <span class="feature">Cryptocurrency</span>
            </div>
            <button class="template-btn" onclick="useTemplate('payment')">Use Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ“§</div>
            <h3>Email Notifications</h3>
            <p>Send automated emails for bets, payments, and updates</p>
            <div class="template-features">
              <span class="feature">SMTP configuration</span>
              <span class="feature">Template engine</span>
              <span class="feature">Delivery tracking</span>
            </div>
            <button class="template-btn" onclick="useTemplate('email')">Use Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ“±</div>
            <h3>Mobile App</h3>
            <p>Build mobile apps with Fantasy402 integration</p>
            <div class="template-features">
              <span class="feature">React Native</span>
              <span class="feature">Flutter</span>
              <span class="feature">iOS/Android</span>
            </div>
            <button class="template-btn" onclick="useTemplate('mobile')">Use Template</button>
          </div>

          <div class="template-card">
            <div class="template-icon">ğŸ¤–</div>
            <h3>AI & Analytics</h3>
            <p>Leverage AI for betting predictions and analytics</p>
            <div class="template-features">
              <span class="feature">ML models</span>
              <span class="feature">Prediction API</span>
              <span class="feature">Data analysis</span>
            </div>
            <button class="template-btn" onclick="useTemplate('ai')">Use Template</button>
          </div>
        </div>
      </div>

      <!-- Support & Documentation -->
      <div class="api-section">
        <div class="section-header">
          <h2>ğŸ†˜ Support & Resources</h2>
          <p>Get help with integrations and find additional resources</p>
        </div>

        <div class="support-resources">
          <div class="resource-card">
            <div class="resource-icon">ğŸ“š</div>
            <h3>Integration Guides</h3>
            <p>Step-by-step guides for common integrations</p>
            <a href="/integrations/guides" class="resource-link">View Guides â†’</a>
          </div>

          <div class="resource-card">
            <div class="resource-icon">ğŸ’¬</div>
            <h3>Developer Community</h3>
            <p>Connect with other developers and get help</p>
            <a href="/community" class="resource-link">Join Community â†’</a>
          </div>

          <div class="resource-card">
            <div class="resource-icon">ğŸ¥</div>
            <h3>Video Tutorials</h3>
            <p>Watch video guides for complex integrations</p>
            <a href="/tutorials" class="resource-link">Watch Videos â†’</a>
          </div>

          <div class="resource-card">
            <div class="resource-icon">ğŸ“</div>
            <h3>Integration Support</h3>
            <p>Direct support for integration issues</p>
            <a href="mailto:integration-support@fantasy402.com" class="resource-link">Get Support</a>
          </div>
        </div>
      </div>

      <div class="api-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          API Overview
        </a>
        <a href="/api/developer" class="nav-btn secondary">
          <span class="btn-icon">ğŸ‘¨â€ğŸ’»</span>
          Developer Portal
        </a>
        <a href="/api/analytics" class="nav-btn primary">
          <span class="btn-icon">ğŸ“Š</span>
          Business Intelligence
        </a>
      </div>
    </div>

    <script>
      ${getApiIntegrationsScripts()}
    </script>
  `;
}

// Supporting functions for styles and scripts
function getApiDocumentationStyles(): string {
  return `
    .api-documentation-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .api-overview-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .overview-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
    }

    .overview-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .card-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .overview-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .overview-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .auth-tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .auth-tab {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .auth-tab.active {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .auth-content {
      display: none;
    }

    .auth-content.active {
      display: block;
    }

    .code-block {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      padding: 1rem;
      margin-top: 1rem;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.9rem;
      overflow-x: auto;
    }

    .endpoints-list {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      margin-top: 2rem;
    }

    .endpoint-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .endpoint-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .endpoint-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .endpoint-method {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      color: white;
    }

    .method-get {
      background: #22c55e;
    }

    .method-post {
      background: #3b82f6;
    }

    .method-put {
      background: #f59e0b;
    }

    .method-delete {
      background: #ef4444;
    }

    .endpoint-path {
      color: #40e0d0;
      font-family: monospace;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .endpoint-description {
      color: #a0a9b8;
      margin-bottom: 1.5rem;
    }

    .endpoint-details {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    .parameters-section h4, .responses-section h4 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .parameters-table {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .param-row {
      display: grid;
      grid-template-columns: 150px 100px 80px 1fr;
      gap: 1rem;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
    }

    .param-name {
      color: #40e0d0;
      font-weight: 600;
    }

    .param-type {
      color: #ffd700;
      font-size: 0.8rem;
    }

    .param-required.required {
      color: #ef4444;
      font-size: 0.8rem;
    }

    .param-required.optional {
      color: #22c55e;
      font-size: 0.8rem;
    }

    .param-description {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .responses-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .response-item {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .response-code {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      min-width: 50px;
      text-align: center;
    }

    .response-code.success {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .response-code.client-error {
      background: rgba(251, 191, 36, 0.2);
      color: #f59e0b;
    }

    .response-code.server-error {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .response-description {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .examples-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .example-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(168, 85, 247, 0.3);
      transition: all 0.3s ease;
    }

    .example-card:hover {
      transform: translateY(-5px);
      border-color: #a855f7;
      box-shadow: 0 8px 25px rgba(168, 85, 247, 0.2);
    }

    .example-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .example-language {
      color: #ffd700;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .example-title {
      color: #e0e6ed;
      font-weight: 600;
    }

    .copy-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      margin-top: 1rem;
    }

    .copy-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .testing-tools {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .test-form {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .form-row {
      margin-bottom: 1.5rem;
    }

    .form-row label {
      display: block;
      color: #e0e6ed;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .form-row select, .form-row input, .form-row textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      font-family: inherit;
    }

    .form-row textarea {
      resize: vertical;
      min-height: 100px;
    }

    .test-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 100%;
    }

    .test-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
    }

    .test-results {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .test-results h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .test-output {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      padding: 1rem;
      font-family: monospace;
      font-size: 0.9rem;
      color: #a0a9b8;
    }

    .sdk-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .sdk-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      border: 1px solid rgba(168, 85, 247, 0.3);
      transition: all 0.3s ease;
    }

    .sdk-card:hover {
      transform: translateY(-5px);
      border-color: #a855f7;
      box-shadow: 0 8px 25px rgba(168, 85, 247, 0.2);
    }

    .sdk-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .sdk-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .sdk-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .sdk-code {
      background: rgba(0, 0, 0, 0.3);
      padding: 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.8rem;
      color: #40e0d0;
      margin-bottom: 1rem;
      display: block;
    }

    .sdk-link {
      color: #ffd700;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .sdk-link:hover {
      color: #ff6b35;
    }

    .api-status {
      margin-top: 2rem;
    }

    .status-banner {
      display: flex;
      align-items: center;
      gap: 2rem;
      background: rgba(34, 197, 94, 0.1);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(34, 197, 94, 0.3);
      margin-bottom: 2rem;
    }

    .status-icon {
      font-size: 2rem;
    }

    .status-info h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .status-info p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .changelog {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
    }

    .changelog h3 {
      color: #e0e6ed;
      margin-bottom: 2rem;
    }

    .changelog-item {
      display: grid;
      grid-template-columns: 100px 1fr;
      gap: 1rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    .version-tag {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      text-align: center;
    }

    .change-details h4 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .change-details p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .change-details small {
      color: #6b7280;
      font-size: 0.8rem;
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-documentation-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .api-overview-cards {
        grid-template-columns: 1fr;
      }

      .endpoint-details {
        grid-template-columns: 1fr;
      }

      .param-row {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }

      .examples-grid {
        grid-template-columns: 1fr;
      }

      .testing-tools {
        grid-template-columns: 1fr;
      }

      .sdk-grid {
        grid-template-columns: 1fr;
      }

      .status-banner {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }
    }
  `;
}

function getApiDeveloperStyles(): string {
  return `
    .api-developer-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .resources-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .resource-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .resource-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .resource-card.guide {
      border-color: rgba(255, 215, 0, 0.3);
    }

    .resource-card.guide:hover {
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .resource-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .resource-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .resource-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .resource-link {
      color: #ffd700;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .resource-link:hover {
      color: #ff6b35;
    }

    .keys-management {
      margin-top: 2rem;
    }

    .keys-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .keys-stat {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      color: #40e0d0;
      display: block;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .keys-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .key-item {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(168, 85, 247, 0.3);
    }

    .key-info h4 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .key-info p {
      color: #a0a9b8;
      font-family: monospace;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .key-meta {
      color: #6b7280;
      font-size: 0.8rem;
    }

    .key-actions {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .create-key-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 100%;
    }

    .create-key-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
    }

    .webhooks-management {
      margin-top: 2rem;
    }

    .webhooks-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .webhooks-header h3 {
      color: #e0e6ed;
    }

    .create-webhook-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .create-webhook-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .webhooks-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .webhook-item {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .webhook-info h4 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .webhook-info p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .webhook-events {
      color: #ffd700;
      font-size: 0.8rem;
      margin-bottom: 0.5rem;
    }

    .webhook-status {
      color: #22c55e;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .webhook-meta {
      display: flex;
      gap: 1rem;
      margin-top: 0.5rem;
    }

    .events-count {
      color: #40e0d0;
      font-size: 0.8rem;
    }

    .success-rate {
      color: #22c55e;
      font-size: 0.8rem;
    }

    .webhook-actions {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .webhook-examples {
      margin-top: 2rem;
    }

    .webhook-example {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(168, 85, 247, 0.3);
    }

    .example-header h4 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .example-header p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .example-payload {
      position: relative;
    }

    .copy-payload-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .copy-payload-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .rate-limits-info {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .limits-overview {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .limit-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .limit-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .limit-value {
      font-size: 1.5rem;
      font-weight: 800;
      color: #ffd700;
      margin-bottom: 0.5rem;
    }

    .limit-used {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .limit-progress {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ffd700, #ff6b35);
      transition: width 0.3s ease;
    }

    .progress-text {
      font-size: 0.8rem;
      color: #a0a9b8;
      margin-top: 0.5rem;
    }

    .limits-info {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .limits-info h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .headers-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .header-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
    }

    .header-item code {
      color: #40e0d0;
      font-family: monospace;
      font-size: 0.9rem;
    }

    .header-item span {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .error-handling {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .error-codes {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .error-codes h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .error-code {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      margin-bottom: 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
      border-left: 4px solid;
    }

    .error-code:nth-child(1) { border-left-color: #ef4444; }
    .error-code:nth-child(2) { border-left-color: #ef4444; }
    .error-code:nth-child(3) { border-left-color: #f59e0b; }
    .error-code:nth-child(4) { border-left-color: #f59e0b; }
    .error-code:nth-child(5) { border-left-color: #f59e0b; }
    .error-code:nth-child(6) { border-left-color: #ef4444; }

    .error-code .code {
      font-weight: 800;
      color: #e0e6ed;
    }

    .error-code .description {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .error-response {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .error-response h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .support-resources {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .support-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .support-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .support-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .support-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .support-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .support-link {
      color: #ffd700;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .support-link:hover {
      color: #ff6b35;
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-developer-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .resources-grid {
        grid-template-columns: 1fr;
      }

      .keys-summary {
        grid-template-columns: 1fr;
      }

      .key-item {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .webhook-item {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .rate-limits-info {
        grid-template-columns: 1fr;
      }

      .error-handling {
        grid-template-columns: 1fr;
      }

      .support-resources {
        grid-template-columns: 1fr;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }
    }
  `;
}

function getApiIntegrationsStyles(): string {
  return `
    .api-integrations-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    .api-header {
      background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(64, 224, 208, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .api-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #a855f7, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .api-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    .integrations-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .integration-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
      position: relative;
    }

    .integration-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .integration-card.connected {
      border-color: rgba(34, 197, 94, 0.3);
    }

    .integration-card.available {
      border-color: rgba(251, 191, 36, 0.3);
    }

    .integration-card.active {
      border-color: rgba(168, 85, 247, 0.3);
    }

    .integration-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .integration-icon {
      font-size: 2rem;
    }

    .integration-status {
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }

    .integration-status .connected {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .integration-status .available {
      background: rgba(251, 191, 36, 0.2);
      color: #f59e0b;
    }

    .integration-status .active {
      background: rgba(168, 85, 247, 0.2);
      color: #a855f7;
    }

    .integration-name {
      font-size: 1.5rem;
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .integration-description {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .integration-features {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .feature-tag {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
    }

    .integration-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .setup-time {
      color: #6b7280;
      font-size: 0.8rem;
    }

    .integration-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.9rem;
    }

    .integration-btn.connect {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .integration-btn.disconnect {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .integration-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .endpoints-overview {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .endpoint-overview {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(168, 85, 247, 0.3);
    }

    .endpoint-info h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .endpoint-stats {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.5rem;
    }

    .endpoint-stats .stat {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .endpoint-stats .status {
      color: #22c55e;
      font-weight: 600;
    }

    .endpoint-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .endpoint-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .webhook-management {
      margin-top: 2rem;
    }

    .webhook-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .webhook-header h3 {
      color: #e0e6ed;
    }

    .create-webhook-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .create-webhook-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .webhook-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .stat-box {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: 800;
      color: #40e0d0;
      display: block;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .webhook-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .webhook-item {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .webhook-info h4 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .webhook-info p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .webhook-meta {
      display: flex;
      gap: 1rem;
      margin-top: 0.5rem;
    }

    .events-count {
      color: #ffd700;
      font-size: 0.8rem;
    }

    .success-rate {
      color: #22c55e;
      font-size: 0.8rem;
    }

    .webhook-actions {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .integration-testing {
      margin-top: 2rem;
    }

    .test-tools {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .test-tool {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(34, 197, 94, 0.3);
    }

    .test-tool h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .test-tool p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .test-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 100%;
    }

    .test-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .test-results {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .test-results h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .result-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem;
      margin-bottom: 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 6px;
    }

    .result-item.success {
      border-left: 4px solid #22c55e;
    }

    .result-item.warning {
      border-left: 4px solid #f59e0b;
    }

    .result-item.error {
      border-left: 4px solid #ef4444;
    }

    .result-icon {
      font-size: 1.2rem;
    }

    .result-text {
      color: #e0e6ed;
      flex: 1;
    }

    .result-time {
      color: #a0a9b8;
      font-size: 0.8rem;
    }

    .integration-analytics {
      margin-top: 2rem;
    }

    .analytics-metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(168, 85, 247, 0.3);
    }

    .metric-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .metric-value {
      font-size: 1.5rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .metric-change {
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .metric-change.positive {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .metric-change.neutral {
      background: rgba(107, 114, 128, 0.2);
      color: #6b7280;
    }

    .analytics-charts {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      padding: 2rem;
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .chart-placeholder {
      text-align: center;
    }

    .chart-placeholder h4 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .chart-placeholder .chart-area {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
      padding: 3rem;
      color: #a0a9b8;
    }

    .integration-templates {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .template-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .template-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .template-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .template-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .template-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .template-features {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .feature {
      background: rgba(255, 255, 255, 0.1);
      color: #a0a9b8;
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.7rem;
      font-weight: 600;
    }

    .template-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      width: 100%;
    }

    .template-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    .support-resources {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .resource-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .resource-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .resource-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .resource-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .resource-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .resource-link {
      color: #ffd700;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .resource-link:hover {
      color: #ff6b35;
    }

    .api-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .api-integrations-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .integrations-grid {
        grid-template-columns: 1fr;
      }

      .endpoints-overview {
        grid-template-columns: 1fr;
      }

      .webhook-item {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .test-tools {
        grid-template-columns: 1fr;
      }

      .analytics-metrics {
        grid-template-columns: 1fr;
      }

      .integration-templates {
        grid-template-columns: 1fr;
      }

      .support-resources {
        grid-template-columns: 1fr;
      }

      .api-navigation {
        flex-direction: column;
        gap: 1rem;
      }

      /* New Enhanced Sections Responsive */
      .primary-channels-grid,
      .webhooks-grid,
      .tier-comparison,
      .support-resources {
        grid-template-columns: 1fr;
      }

      .explorer-controls {
        flex-direction: column;
        gap: 1rem;
      }

      .search-controls {
        flex-direction: column;
      }

      .endpoint-summary {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
      }

      .endpoint-actions {
        flex-direction: column;
        width: 100%;
      }

      .test-endpoint-btn,
      .copy-endpoint-btn {
        width: 100%;
      }
    }

    /* API Explorer */
    .api-explorer {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      overflow: hidden;
    }

    .explorer-controls {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .search-controls {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .search-input {
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      font-size: 0.9rem;
      min-width: 250px;
    }

    .search-input:focus {
      outline: none;
      border-color: #40e0d0;
      box-shadow: 0 0 0 2px rgba(64, 224, 208, 0.2);
    }

    .method-select {
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(64, 224, 208, 0.3);
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      font-size: 0.9rem;
    }

    .explorer-stats {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .stat-item {
      color: #a0a9b8;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .explorer-results {
      max-height: 600px;
      overflow-y: auto;
    }

    .explorer-endpoint {
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .explorer-endpoint:last-child {
      border-bottom: none;
    }

    .endpoint-summary {
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .endpoint-summary:hover {
      background: rgba(64, 224, 208, 0.05);
    }

    .method-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    .method-get {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .method-post {
      background: rgba(59, 130, 246, 0.2);
      color: #3b82f6;
    }

    .method-put {
      background: rgba(245, 158, 11, 0.2);
      color: #f59e0b;
    }

    .method-delete {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .endpoint-path-explorer {
      flex: 1;
      color: #e0e6ed;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.9rem;
    }

    .expand-btn {
      background: none;
      border: none;
      color: #a0a9b8;
      cursor: pointer;
      font-size: 1rem;
      transition: all 0.2s ease;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
    }

    .expand-btn:hover {
      background: rgba(64, 224, 208, 0.1);
      color: #40e0d0;
    }

    .endpoint-details-explorer {
      padding: 1rem 1.5rem 1.5rem;
      background: rgba(255, 255, 255, 0.02);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .endpoint-description {
      color: #a0a9b8;
      margin-bottom: 1rem;
      line-height: 1.5;
    }

    .params-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .param-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 6px;
    }

    .param-name {
      color: #40e0d0;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 0.85rem;
    }

    .param-type {
      color: #a0a9b8;
      font-size: 0.8rem;
      background: rgba(255, 255, 255, 0.1);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
    }

    .param-required {
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-weight: 600;
    }

    .param-required.required {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .param-required.optional {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .endpoint-actions {
      display: flex;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .test-endpoint-btn,
    .copy-endpoint-btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      border: none;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .test-endpoint-btn {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: white;
    }

    .test-endpoint-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
    }

    .copy-endpoint-btn {
      background: rgba(64, 224, 208, 0.1);
      color: #40e0d0;
    }

    .copy-endpoint-btn:hover {
      background: #40e0d0;
      color: #0a0e27;
    }

    /* Webhooks */
    .webhooks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .webhook-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      text-align: center;
      transition: all 0.3s ease;
    }

    .webhook-card:hover {
      transform: translateY(-5px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .webhook-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .webhook-events {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-top: 1rem;
    }

    .event-tag {
      background: rgba(255, 215, 0, 0.1);
      color: #ffd700;
      padding: 0.25rem 0.75rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .webhook-features {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .webhook-features .feature {
      background: rgba(34, 197, 94, 0.1);
      color: #22c55e;
      padding: 0.5rem;
      border-radius: 6px;
      font-size: 0.85rem;
      text-align: center;
    }

    .webhook-metrics {
      margin-top: 1rem;
    }

    .webhook-metrics .metric {
      color: #40e0d0;
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    /* Rate Limits */
    .rate-limits {
      margin-top: 2rem;
    }

    .tier-comparison {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .tier-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      text-align: center;
      transition: all 0.3s ease;
    }

    .tier-card.bronze {
      border-color: rgba(180, 83, 9, 0.3);
    }

    .tier-card.bronze:hover {
      border-color: #b45309;
      box-shadow: 0 8px 25px rgba(180, 83, 9, 0.2);
    }

    .tier-card.silver {
      border-color: rgba(107, 114, 128, 0.3);
    }

    .tier-card.silver:hover {
      border-color: #6b7280;
      box-shadow: 0 8px 25px rgba(107, 114, 128, 0.2);
    }

    .tier-card.gold {
      border-color: rgba(255, 215, 0, 0.3);
    }

    .tier-card.gold:hover {
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .tier-header h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
      font-size: 1.2rem;
    }

    .tier-price {
      color: #40e0d0;
      font-size: 1.1rem;
      font-weight: 700;
    }

    .tier-limits {
      margin-top: 1rem;
    }

    .limit-item {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .rate-limit-info {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(64, 224, 208, 0.2);
    }

    .rate-limit-info h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .headers-table {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
    }

    .header-row code {
      color: #40e0d0;
      font-family: 'Monaco', 'Menlo', monospace;
      font-weight: 600;
    }

    .header-row span {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    /* Support & Community */
    .support-resources {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .support-card {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 107, 53, 0.3);
      text-align: center;
      transition: all 0.3s ease;
    }

    .support-card:hover {
      transform: translateY(-5px);
      border-color: #ff6b35;
      box-shadow: 0 8px 25px rgba(255, 107, 53, 0.2);
    }

    .support-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .support-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .support-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .support-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #ff6b35;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .support-link:hover {
      color: #dc2626;
      transform: translateX(2px);
    }
  `;
}

function getApiDocumentationScripts(): string {
  return `
    // API Documentation - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiDocumentation();
    });

    function initializeApiDocumentation() {
      startDocsUpdates();
      setupDocsListeners();
      initializeApiExplorer();
      initializeEndpointToggler();
      setupSearchAndFilter();
    }

    function startDocsUpdates() {
      setInterval(() => {
        updateDocsTimestamp();
      }, 1000);
    }

    function updateDocsTimestamp() {
      const element = document.getElementById('docsLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function setupDocsListeners() {
      // Auth tab switching
      document.querySelectorAll('.auth-tab').forEach(tab => {
        tab.addEventListener('click', function() {
          switchAuthTab(this.textContent.toLowerCase().replace(' ', ''));
        });
      });

      // Copy buttons
      document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          copyToClipboard(this);
        });
      });
    }

    function switchAuthTab(tab) {
      // Remove active class from all tabs
      document.querySelectorAll('.auth-tab').forEach(t => {
        t.classList.remove('active');
      });
      document.querySelectorAll('.auth-content').forEach(c => {
        c.classList.remove('active');
      });

      // Add active class to selected tab and content
      document.querySelector(\`[onclick="switchAuthTab('\${tab}')"]\`).classList.add('active');
      document.getElementById(tab + '-auth').classList.add('active');
    }

    function copyToClipboard(button) {
      const codeBlock = button.previousElementSibling;
      const code = codeBlock.textContent || codeBlock.innerText;

      navigator.clipboard.writeText(code).then(() => {
        const originalText = button.textContent;
        button.textContent = 'âœ… Copied!';
        button.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy: ', err);
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = code;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);

        const originalText = button.textContent;
        button.textContent = 'âœ… Copied!';
        button.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 2000);
      });
    }

    function executeTest() {
      const method = document.getElementById('test-method').value;
      const endpoint = document.getElementById('test-endpoint').value;
      const body = document.getElementById('test-body').value;
      const headers = document.getElementById('test-headers').value;

      const output = document.getElementById('test-output');

      // Simulate API call
      output.innerHTML = '<p>ğŸ”„ Sending request...</p>';

      setTimeout(() => {
        const mockResponse = {
          status: '200 OK',
          responseTime: '142ms',
          headers: {
            'content-type': 'application/json',
            'x-api-version': '2.0',
            'x-request-id': 'req_' + Math.random().toString(36).substring(2, 15)
          },
          body: {
            success: true,
            data: {
              message: 'Test request successful',
              timestamp: new Date().toISOString(),
              endpoint: endpoint,
              method: method
            }
          }
        };

        output.innerHTML = \`
          <div style="font-family: monospace; font-size: 0.9rem;">
            <div style="color: #22c55e; margin-bottom: 0.5rem;">âœ… \${mockResponse.status}</div>
            <div style="color: #a0a9b8; margin-bottom: 1rem;">Response Time: \${mockResponse.responseTime}</div>

            <div style="margin-bottom: 1rem;">
              <strong style="color: #e0e6ed;">Headers:</strong>
              <pre style="background: rgba(0, 0, 0, 0.3); padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem; color: #40e0d0;">\${JSON.stringify(mockResponse.headers, null, 2)}</pre>
            </div>

            <div>
              <strong style="color: #e0e6ed;">Response Body:</strong>
              <pre style="background: rgba(0, 0, 0, 0.3); padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem; color: #40e0d0;">\${JSON.stringify(mockResponse.body, null, 2)}</pre>
            </div>
          </div>
        \`;
      }, 1500);
    }

    // Global functions for button onclick handlers
    function copyWebhookPayload(button) {
      const payload = button.previousElementSibling.textContent;
      navigator.clipboard.writeText(payload).then(() => {
        const originalText = button.textContent;
        button.textContent = 'âœ… Copied!';
        button.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 2000);
      });
    }

    function deployTemplate(templateName) {
      showNotification('ğŸš€ Deploying ' + templateName + ' template...', 'info');

      setTimeout(() => {
        showNotification('âœ… ' + templateName + ' template deployed successfully! Integration is now active.', 'success');

        // Update template button status
        const buttons = document.querySelectorAll('.template-btn');
        buttons.forEach(btn => {
          if (btn.onclick.toString().includes(templateName)) {
            btn.textContent = 'âœ… Deployed';
            btn.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';
            btn.disabled = true;
          }
        });
      }, 3000);
    }

    function showNotification(message, type) {
      if (type === undefined) type = 'info';

      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      notification.innerHTML = '<div class="notification-content"><span class="notification-icon">' +
        (type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸') +
        '</span><span class="notification-message">' + message + '</span></div><button class="notification-close" onclick="this.parentElement.remove()">Ã—</button>';

      // Style the notification
      const backgroundColor = type === 'success' ? 'linear-gradient(135deg, #22c55e, #16a34a)' :
                             type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' :
                             'linear-gradient(135deg, #3b82f6, #1d4ed8)';

      notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' + backgroundColor +
        '; color: white; padding: 1rem 1.5rem; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); z-index: 10000; max-width: 400px; font-weight: 600; animation: slideInRight 0.3s ease-out;';

      // Add to page
      document.body.appendChild(notification);

      // Auto-remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'slideOutRight 0.3s ease-in';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // Enhanced API Gateway Functions
    function initializeGatewayDashboard() {
      // Add click handlers for overview cards
      document.querySelectorAll('.overview-card').forEach(card => {
        card.addEventListener('click', function() {
          const metricLabel = this.querySelector('.metric-label').textContent;
          showMetricDetails(metricLabel);
        });
      });

      // Refresh metrics button
      const refreshBtn = document.querySelector('.refresh-btn');
      if (refreshBtn) {
        refreshBtn.addEventListener('click', function() {
          refreshGatewayMetrics();
        });
      }
    }

    function refreshGatewayMetrics() {
      showNotification('ğŸ”„ Refreshing gateway metrics...', 'info');

      // Simulate refresh with animations
      document.querySelectorAll('.overview-card').forEach(card => {
        card.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
          card.style.animation = '';
        }, 500);
      });

      setTimeout(() => {
        showNotification('âœ… Gateway metrics refreshed!', 'success');
      }, 1000);
    }

    function showMetricDetails(metricLabel) {
      const details = {
        'Total Routes': '247 routes configured across multiple services',
        'Active Connections': '1,234 concurrent connections being handled',
        'Requests/Min': '2,847 requests processed per minute',
        'Avg Latency': '142ms average response time across all endpoints'
      };

      alert('ğŸ“Š ' + metricLabel + ' Details\n\n' + (details[metricLabel] || 'Detailed metric information'));
    }

    function initializeTrafficVisualization() {
      // Traffic view buttons
      document.querySelectorAll('.viz-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          document.querySelectorAll('.viz-btn').forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');

          const viewType = this.textContent.toLowerCase();
          setTrafficView(viewType);
        });
      });
    }

    function setTrafficView(viewType) {
      const chartContainer = document.querySelector('.chart-placeholder');
      if (chartContainer) {
        chartContainer.innerHTML = '<div class="chart-icon">ğŸ“ˆ</div><div class="chart-text">Loading ' + viewType.toUpperCase() + ' data...</div><div class="loading-spinner"></div>';

        // Simulate data loading
        setTimeout(() => {
          const dataPoints = viewType === 'requests' ? ['Peak: 3,247', 'Avg: 2,847', 'Min: 1,234'] :
                           viewType === 'latency' ? ['Peak: 456ms', 'Avg: 142ms', 'Min: 89ms'] :
                           ['Peak: 23', 'Avg: 8', 'Min: 0'];

          chartContainer.innerHTML = '<div class="chart-icon">ğŸ“Š</div><div class="chart-text">' + viewType.toUpperCase() + ' data loaded!</div><div class="chart-data-summary"><div class="data-point">' + dataPoints[0] + '</div><div class="data-point">' + dataPoints[1] + '</div><div class="data-point">' + dataPoints[2] + '</div></div>';
        }, 2000);
      }
    }

    function initializeRouteManagement() {
      // Route filters
      const methodFilter = document.getElementById('methodFilter');
      const routeSearch = document.getElementById('routeSearch');

      if (methodFilter) {
        methodFilter.addEventListener('change', function() {
          filterRoutes(this.value, routeSearch ? routeSearch.value : '');
        });
      }

      if (routeSearch) {
        routeSearch.addEventListener('input', function() {
          filterRoutes(methodFilter ? methodFilter.value : '', this.value);
        });
      }

      // Select all checkbox
      const selectAll = document.getElementById('selectAllRoutes');
      if (selectAll) {
        selectAll.addEventListener('change', function() {
          toggleSelectAll();
        });
      }

      // Route checkboxes
      document.querySelectorAll('.route-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          updateBulkActions();
        });
      });

      // Route actions
      document.querySelectorAll('.route-actions .action-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const action = this.textContent.trim();
          const routePath = this.closest('.table-row').getAttribute('data-route');

          if (action === 'âœï¸') {
            editRoute(routePath);
          } else if (action === 'ğŸ“Š') {
            viewRouteMetrics(routePath);
          } else if (action === 'ğŸ”´' || action === 'ğŸŸ¢') {
            toggleRoute(routePath);
          }
        });
      });
    }

    function filterRoutes(methodFilter, searchTerm) {
      const rows = document.querySelectorAll('.routes-table .table-row');

      rows.forEach(row => {
        const method = row.querySelector('.method-badge').textContent;
        const route = row.querySelector('.route-name').textContent;
        const matchesMethod = !methodFilter || method === methodFilter;
        const matchesSearch = !searchTerm || route.toLowerCase().includes(searchTerm.toLowerCase());

        row.style.display = matchesMethod && matchesSearch ? 'grid' : 'none';
      });

      updateRouteCount();
    }

    function toggleSelectAll() {
      const selectAll = document.getElementById('selectAllRoutes');
      const checkboxes = document.querySelectorAll('.route-checkbox');

      checkboxes.forEach(checkbox => {
        checkbox.checked = selectAll.checked;
      });

      updateBulkActions();
    }

    function updateBulkActions() {
      const selectedCount = document.querySelectorAll('.route-checkbox:checked').length;
      const bulkActions = document.querySelector('.bulk-actions');

      if (bulkActions) {
        bulkActions.style.display = selectedCount > 0 ? 'flex' : 'none';
        if (selectedCount > 0) {
          bulkActions.innerHTML = '<span>' + selectedCount + ' routes selected</span><button class="action-btn" onclick="bulkEnableRoutes()">Enable</button><button class="action-btn secondary" onclick="bulkDisableRoutes()">Disable</button><button class="action-btn danger" onclick="bulkDeleteRoutes()">Delete</button>';
        }
      }
    }

    function updateRouteCount() {
      const visibleRows = document.querySelectorAll('.routes-table .table-row[style*="display: grid"], .routes-table .table-row:not([style])');
      const statValue = document.querySelector('.stat-value');
      if (statValue) {
        statValue.textContent = visibleRows.length;
      }
    }

    function addNewRoute() {
      showNotification('â• Opening route creation wizard...', 'info');
      setTimeout(() => {
        showNotification('âœ… Route creation wizard ready!', 'success');
      }, 1000);
    }

    function bulkRouteActions() {
      showNotification('âš™ï¸ Opening bulk actions panel...', 'info');
    }

    function editRoute(routePath) {
      showNotification('âœï¸ Opening route editor for ' + routePath, 'info');

      // Show configuration panel
      const panel = document.getElementById('routeConfigPanel');
      const content = document.getElementById('configContent');

      if (panel && content) {
        content.innerHTML = '<div style="text-align: center; padding: 2rem;"><div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ”§</div><h4>Route Configuration</h4><p>Editing: ' + routePath + '</p><div style="display: grid; gap: 1rem; margin-top: 2rem;"><input type="text" placeholder="Route Path" value="' + routePath + '" style="padding: 0.5rem; border-radius: 8px; border: 1px solid rgba(64, 224, 208, 0.3); background: rgba(255, 255, 255, 0.05); color: #e0e6ed;"><select style="padding: 0.5rem; border-radius: 8px; border: 1px solid rgba(64, 224, 208, 0.3); background: rgba(255, 255, 255, 0.05); color: #e0e6ed;"><option>GET</option><option>POST</option><option>PUT</option><option>DELETE</option></select><input type="text" placeholder="Target Service" value="Client Service" style="padding: 0.5rem; border-radius: 8px; border: 1px solid rgba(64, 224, 208, 0.3); background: rgba(255, 255, 255, 0.05); color: #e0e6ed;"><div style="display: flex; gap: 1rem; margin-top: 1rem;"><button class="action-btn primary" onclick="saveRouteConfig()">Save Changes</button><button class="action-btn secondary" onclick="closeRouteConfig()">Cancel</button></div></div></div>';
        panel.style.display = 'block';
      }
    }

    function viewRouteMetrics(routePath) {
      showNotification('ğŸ“Š Loading metrics for ' + routePath, 'info');
      setTimeout(() => {
        showNotification('âœ… Route metrics loaded!', 'success');
      }, 1500);
    }

    function toggleRoute(routePath) {
      const btn = event.target;
      const isEnabled = btn.textContent === 'ğŸ”´';

      btn.textContent = isEnabled ? 'ğŸŸ¢' : 'ğŸ”´';
      btn.className = 'action-btn small ' + (isEnabled ? 'secondary' : 'danger');

      showNotification(isEnabled ? 'ğŸ”´ Route disabled: ' + routePath : 'ğŸŸ¢ Route enabled: ' + routePath, isEnabled ? 'warning' : 'success');
    }

    function saveRouteConfig() {
      showNotification('ğŸ’¾ Saving route configuration...', 'info');
      setTimeout(() => {
        showNotification('âœ… Route configuration saved!', 'success');
        closeRouteConfig();
      }, 1000);
    }

    function closeRouteConfig() {
      const panel = document.getElementById('routeConfigPanel');
      if (panel) {
        panel.style.display = 'none';
      }
    }

    function bulkEnableRoutes() {
      const selectedCount = document.querySelectorAll('.route-checkbox:checked').length;
      showNotification('ğŸŸ¢ Enabling ' + selectedCount + ' routes...', 'info');
      setTimeout(() => {
        showNotification('âœ… ' + selectedCount + ' routes enabled!', 'success');
        document.querySelectorAll('.route-checkbox:checked').forEach(cb => cb.checked = false);
        updateBulkActions();
      }, 1000);
    }

    function bulkDisableRoutes() {
      const selectedCount = document.querySelectorAll('.route-checkbox:checked').length;
      showNotification('ğŸ”´ Disabling ' + selectedCount + ' routes...', 'warning');
      setTimeout(() => {
        showNotification('âœ… ' + selectedCount + ' routes disabled!', 'success');
        document.querySelectorAll('.route-checkbox:checked').forEach(cb => cb.checked = false);
        updateBulkActions();
      }, 1000);
    }

    function bulkDeleteRoutes() {
      const selectedCount = document.querySelectorAll('.route-checkbox:checked').length;
      if (confirm('Are you sure you want to delete ' + selectedCount + ' routes? This action cannot be undone.')) {
        showNotification('ğŸ—‘ï¸ Deleting ' + selectedCount + ' routes...', 'warning');
        setTimeout(() => {
          showNotification('âœ… ' + selectedCount + ' routes deleted!', 'success');
          document.querySelectorAll('.route-checkbox:checked').forEach(cb => {
            cb.closest('.table-row').remove();
          });
          updateBulkActions();
        }, 1000);
      }
    }

    function initializeRateLimiting() {
      // Rate limit card interactions
      document.querySelectorAll('.rate-limit-card').forEach(card => {
        card.addEventListener('click', function() {
          const endpoint = this.querySelector('h3').textContent;
          showRateLimitDetails(endpoint);
        });
      });

      // Rate limit actions
      document.querySelectorAll('.rate-limit-actions .action-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const action = this.textContent.toLowerCase();
          const endpoint = this.closest('.rate-limit-card').querySelector('h3').textContent;

          if (action === 'adjust') {
            adjustLimit(endpoint);
          } else if (action === 'history') {
            viewLimitHistory(endpoint);
          }
        });
      });
    }

    function showRateLimitDetails(endpoint) {
      showNotification('ğŸ“Š Loading rate limit details for ' + endpoint, 'info');
      setTimeout(() => {
        showNotification('âœ… Rate limit details loaded!', 'success');
      }, 1000);
    }

    function adjustLimit(endpoint) {
      showNotification('âš™ï¸ Opening rate limit configuration for ' + endpoint, 'info');
      setTimeout(() => {
        showNotification('âœ… Rate limit configuration ready!', 'success');
      }, 1000);
    }

    function viewLimitHistory(endpoint) {
      showNotification('ğŸ“ˆ Loading rate limit history for ' + endpoint, 'info');
      setTimeout(() => {
        showNotification('âœ… Rate limit history loaded!', 'success');
      }, 1000);
    }

    // Enhanced API Monitoring Functions
    function initializeMonitoringDashboard() {
      // Add click handlers for monitoring cards
      document.querySelectorAll('.monitoring-card').forEach(card => {
        card.addEventListener('click', function() {
          const metricLabel = this.querySelector('.monitoring-label').textContent;
          showMetricTrend(metricLabel);
        });
      });

      // Refresh button
      const refreshBtn = document.querySelector('.refresh-btn');
      if (refreshBtn) {
        refreshBtn.addEventListener('click', function() {
          refreshMonitoring();
        });
      }

      // Time range selector
      const timeRangeSelect = document.getElementById('monitoringTimeRange');
      if (timeRangeSelect) {
        timeRangeSelect.addEventListener('change', function() {
          changeTimeRange();
        });
      }
    }

    function refreshMonitoring() {
      showNotification('ğŸ”„ Refreshing monitoring data...', 'info');

      // Simulate refresh with animations
      document.querySelectorAll('.monitoring-card').forEach(card => {
        card.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
          card.style.animation = '';
        }, 500);
      });

      setTimeout(() => {
        showNotification('âœ… Monitoring data refreshed!', 'success');
      }, 1000);
    }

    function changeTimeRange() {
      const timeRange = document.getElementById('monitoringTimeRange').value;
      showNotification('ğŸ“… Switching to ' + timeRange.toUpperCase() + ' view...', 'info');
      setTimeout(() => {
        showNotification('âœ… Time range updated!', 'success');
      }, 500);
    }

    function showMetricTrend(metricLabel) {
      const trends = {
        'Active Alerts': '0 active alerts, trending downward',
        'Response Time': '142ms average, stable performance',
        'Throughput': '47.2K requests/min, high traffic',
        'Error Rate': '0.1% error rate, excellent reliability'
      };

      alert('ğŸ“Š ' + metricLabel + ' Trend Analysis\n\n' + (trends[metricLabel] || 'Detailed metric trend information'));
    }

    function initializePerformanceChart() {
      // Chart metric buttons
      document.querySelectorAll('.chart-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');

          const metric = this.textContent.toLowerCase();
          setChartMetric(metric);
        });
      });
    }

    function setChartMetric(metric) {
      const chartContainer = document.querySelector('.chart-loading');
      if (chartContainer) {
        chartContainer.innerHTML = '<div class="loading-icon">ğŸ“ˆ</div><div class="loading-text">Loading ' + metric.toUpperCase() + ' data...</div><div class="loading-spinner"></div>';

        // Simulate data loading
        setTimeout(() => {
          const metrics = {
            'response': ['Peak: 245ms', 'Avg: 142ms', 'Min: 89ms'],
            'throughput': ['Peak: 52.1K', 'Avg: 47.2K', 'Min: 23.4K'],
            'errors': ['Peak: 0.3%', 'Avg: 0.1%', 'Min: 0.0%'],
            'alerts': ['Peak: 3', 'Avg: 0', 'Min: 0']
          };

          const data = metrics[metric] || ['Data not available'];
          chartContainer.innerHTML = '<div class="loading-icon">ğŸ“Š</div><div class="loading-text">' + metric.toUpperCase() + ' chart loaded!</div><div class="chart-data-summary"><div class="data-point">' + data[0] + '</div><div class="data-point">' + data[1] + '</div><div class="data-point">' + data[2] + '</div></div>';
        }, 2000);
      }
    }

    function initializeAlertManagement() {
      // Alert summary cards
      document.querySelectorAll('.alert-summary-card').forEach(card => {
        card.addEventListener('click', function() {
          const cardType = this.classList.contains('critical') ? 'active' :
                          this.classList.contains('resolved') ? 'resolved' :
                          this.classList.contains('weekly') ? 'weekly' : 'rules';
          const actions = {
            'critical': viewActiveAlerts,
            'resolved': viewResolvedAlerts,
            'weekly': viewWeeklyAlerts,
            'rules': manageAlertRules
          };
          actions[cardType]();
        });
      });

      // Alert filters
      const typeFilter = document.getElementById('alertTypeFilter');
      const timeFilter = document.getElementById('alertTimeFilter');

      if (typeFilter) {
        typeFilter.addEventListener('change', function() {
          filterAlerts();
        });
      }

      if (timeFilter) {
        timeFilter.addEventListener('change', function() {
          filterAlerts();
        });
      }

      // Timeline controls
      document.querySelectorAll('.timeline-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          document.querySelectorAll('.timeline-btn').forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');

          const view = this.textContent.toLowerCase();
          setTimelineView(view);
        });
      });

      // Alert action buttons
      document.querySelectorAll('.alert-action-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const action = this.textContent.trim().toLowerCase();
          const alertMessage = this.closest('.alert-card').querySelector('.alert-message').textContent;

          if (action === 'view') {
            viewAlertDetails(alertMessage);
          } else if (action === 'ack') {
            acknowledgeAlert(alertMessage);
          } else if (action === 'escalate') {
            escalateAlert(alertMessage);
          }
        });
      });
    }

    function filterAlerts() {
      const typeFilter = document.getElementById('alertTypeFilter').value;
      const timeFilter = document.getElementById('alertTimeFilter').value;

      const alerts = document.querySelectorAll('.timeline-item');
      alerts.forEach(alert => {
        const alertType = alert.classList.contains('error') ? 'error' :
                         alert.classList.contains('warning') ? 'warning' :
                         alert.classList.contains('success') ? 'success' : 'info';

        const matchesType = !typeFilter || alertType === typeFilter;
        // Time filtering logic would go here in a real implementation

        alert.style.display = matchesType ? 'flex' : 'none';
      });

      showNotification('ğŸ” Alerts filtered successfully!', 'success');
    }

    function setTimelineView(view) {
      const alerts = document.querySelectorAll('.timeline-item');
      alerts.forEach(alert => {
        const alertType = alert.classList.contains('error') ? 'critical' :
                         alert.classList.contains('warning') ? 'warnings' :
                         alert.classList.contains('success') ? 'resolved' : 'all';

        const showAlert = view === 'all' ||
                         (view === 'critical' && alertType === 'critical') ||
                         (view === 'warnings' && alertType === 'warnings') ||
                         (view === 'resolved' && alertType === 'resolved');

        alert.style.display = showAlert ? 'flex' : 'none';
      });

      showNotification('ğŸ“… Timeline view updated to ' + view.toUpperCase(), 'info');
    }

    function viewActiveAlerts() {
      showNotification('ğŸš¨ Viewing active alerts...', 'info');
      setTimeout(() => {
        showNotification('âœ… Active alerts dashboard loaded!', 'success');
      }, 1000);
    }

    function viewResolvedAlerts() {
      showNotification('âœ… Viewing resolved alerts...', 'info');
      setTimeout(() => {
        showNotification('âœ… Resolved alerts history loaded!', 'success');
      }, 1000);
    }

    function viewWeeklyAlerts() {
      showNotification('ğŸ“Š Viewing weekly alert trends...', 'info');
      setTimeout(() => {
        showNotification('âœ… Weekly analytics loaded!', 'success');
      }, 1000);
    }

    function manageAlertRules() {
      showNotification('âš™ï¸ Opening alert rules management...', 'info');
      setTimeout(() => {
        showNotification('âœ… Alert rules panel loaded!', 'success');
      }, 1000);
    }

    function createNewAlertRule() {
      showNotification('â• Opening alert rule creation wizard...', 'info');
      setTimeout(() => {
        showNotification('âœ… Alert rule wizard ready!', 'success');
      }, 1000);
    }

    function manageAlertChannels() {
      showNotification('ğŸ“± Opening notification channels...', 'info');
      setTimeout(() => {
        showNotification('âœ… Notification channels loaded!', 'success');
      }, 1000);
    }

    function viewAlertDetails(message) {
      alert('ğŸ“‹ Alert Details\n\n' + message + '\n\nStatus: Active\nPriority: High\nSource: API Gateway\nFirst Seen: 2 hours ago\nOccurrences: 3');
    }

    function acknowledgeAlert(message) {
      showNotification('âœ… Alert acknowledged!', 'success');
    }

    function escalateAlert(message) {
      showNotification('ğŸš¨ Alert escalated to on-call engineer!', 'warning');
      setTimeout(() => {
        showNotification('ğŸ“ On-call engineer notified!', 'success');
      }, 1000);
    }

    // Utility function for notifications
    function showNotification(message, type) {
      if (type === undefined) type = 'info';

      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      notification.innerHTML = '<div class="notification-content"><span class="notification-icon">' +
        (type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸') +
        '</span><span class="notification-message">' + message + '</span></div><button class="notification-close" onclick="this.parentElement.remove()">Ã—</button>';

      // Style the notification
      const backgroundColor = type === 'success' ? 'linear-gradient(135deg, #22c55e, #16a34a)' :
                             type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' :
                             type === 'warning' ? 'linear-gradient(135deg, #f59e0b, #f97316)' :
                             'linear-gradient(135deg, #3b82f6, #1d4ed8)';

      notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' + backgroundColor +
        '; color: white; padding: 1rem 1.5rem; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); z-index: 10000; max-width: 400px; font-weight: 600; animation: slideInRight 0.3s ease-out;';

      // Add to page
      document.body.appendChild(notification);

      // Auto-remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'slideOutRight 0.3s ease-in';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // Add CSS animations for notifications
    const notificationStyles = \`
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    \`;

    // Inject notification styles
    const styleSheet = document.createElement('style');
    styleSheet.textContent = notificationStyles;
    document.head.appendChild(styleSheet);
  `;
}

function getApiDeveloperScripts(): string {
  return `
    // API Developer Portal - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiDeveloper();
    });

    function initializeApiDeveloper() {
      startDevUpdates();
      setupDevListeners();
    }

    function startDevUpdates() {
      setInterval(() => {
        updateDevTimestamp();
      }, 1000);
    }

    function updateDevTimestamp() {
      const element = document.getElementById('devLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function setupDevListeners() {
      // Copy webhook payload buttons
      document.querySelectorAll('.copy-payload-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          copyWebhookPayload(this);
        });
      });
    }

    // Global functions for button onclick handlers
    function viewKeyUsage(keyType) {
      alert(\`ğŸ” API Key Usage: \${keyType.toUpperCase()} Key\\\\n\\\\nğŸ“Š Usage Statistics:\\\\nâ€¢ Requests Today: 15.2K\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Average Response: 142ms\\\\nâ€¢ Error Rate: 0.1%\\\\n\\\\nğŸ“ˆ Usage Trends:\\\\nâ€¢ Peak Hour: 8:00 PM\\\\nâ€¢ Daily Growth: +8.3%\\\\nâ€¢ Geographic Spread: 67 countries\\\\n\\\\nğŸ”§ Rate Limits:\\\\nâ€¢ Current Usage: 23%\\\\nâ€¢ Limit: 1000/min\\\\nâ€¢ Remaining: 770/min\\\\nâ€¢ Reset Time: Next minute\\\\n\\\\nğŸ“‹ Popular Endpoints:\\\\nâ€¢ /api/v2/clients (45%)\\\\nâ€¢ /api/v2/bets (32%)\\\\nâ€¢ /api/v2/analytics (23%)\\\\n\\\\nâš ï¸ Recommendations:\\\\nâ€¢ Monitor peak usage hours\\\\nâ€¢ Consider upgrading limits\\\\nâ€¢ Implement caching strategies\`);
    }

    function regenerateKey(keyType) {
      const newKey = 'sk_' + keyType + '_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);

      if (confirm(\`ğŸ”„ Regenerate \${keyType.toUpperCase()} API Key?\\\\n\\\\nâš ï¸ Warning: This will invalidate the current key immediately.\\\\n\\\\nâ€¢ All requests using the old key will fail\\\\nâ€¢ You must update your applications\\\\nâ€¢ Old key cannot be recovered\\\\n\\\\nNew Key: \${newKey}\\\\n\\\\nAre you sure you want to proceed?\`)) {
        alert(\`âœ… API Key Regenerated!\\\\n\\\\nğŸ” New \${keyType.toUpperCase()} Key:\\\\n\${newKey}\\\\n\\\\nâš ï¸ Important Actions Required:\\\\n\\\\n1. Update all applications\\\\n2. Test with new key\\\\n3. Monitor for failures\\\\n4. Delete old key after migration\\\\n\\\\nğŸ“§ Notification Sent:\\\\nâ€¢ Email sent to team\\\\nâ€¢ Slack notification posted\\\\nâ€¢ Documentation updated\\\\n\\\\nâ° Migration Deadline:\\\\nâ€¢ 7 days to update applications\\\\nâ€¢ Old key expires: \${new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()}\\\\n\\\\nğŸ”§ Rollback Option:\\\\nâ€¢ Contact support to restore old key\\\\nâ€¢ Emergency key available\\\\n\\\\nâœ… Key rotation initiated successfully\`);
      }
    }

    function createNewKey() {
      const keyTypes = ['Production', 'Development', 'Testing'];
      const selectedType = prompt(\`Create New API Key\\\\n\\\\nSelect Key Type:\\\\n\${keyTypes.map((type, i) => \`\${i + 1}. \${type}\`).join('\\\\n')}\\\\n\\\\nEnter number (1-3):\`);

      if (selectedType && ['1', '2', '3'].includes(selectedType)) {
        const type = keyTypes[parseInt(selectedType) - 1].toLowerCase();
        const newKey = 'sk_' + type + '_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);

        alert(\`âœ… New API Key Created!\\\\n\\\\nğŸ” Key Details:\\\\nâ€¢ Type: \${type.charAt(0).toUpperCase() + type.slice(1)}\\\\nâ€¢ Key: \${newKey}\\\\nâ€¢ Created: \${new Date().toLocaleString()}\\\\nâ€¢ Expires: Never\\\\nâ€¢ Rate Limit: 1000/min\\\\n\\\\nğŸ“‹ Permissions:\\\\nâ€¢ Read access: âœ…\\\\nâ€¢ Write access: âœ…\\\\nâ€¢ Delete access: âœ…\\\\nâ€¢ Admin access: âŒ\\\\n\\\\nğŸ”’ Security Features:\\\\nâ€¢ Encrypted storage\\\\nâ€¢ Audit logging\\\\nâ€¢ IP restrictions: None\\\\nâ€¢ MFA required: Yes\\\\n\\\\nğŸ“§ Notifications:\\\\nâ€¢ Email sent to: your@email.com\\\\nâ€¢ Slack channel: #api-keys\\\\nâ€¢ Documentation: Updated\\\\n\\\\nâš ï¸ Important:\\\\nâ€¢ Keep this key secure\\\\nâ€¢ Never share in public\\\\nâ€¢ Rotate regularly\\\\nâ€¢ Monitor usage closely\\\\n\\\\nâœ… API key ready to use!\`);
      }
    }

    function createWebhook() {
      alert(\`ğŸ”— Create New Webhook\\\\n\\\\nğŸª Webhook Configuration Wizard\\\\n\\\\nStep 1: Basic Information\\\\nâ€¢ Name: My Custom Webhook\\\\nâ€¢ Description: Handle custom events\\\\nâ€¢ URL: https://api.myapp.com/webhooks\\\\n\\\\nStep 2: Event Selection\\\\nâ€¢ bet.placed - âœ…\\\\nâ€¢ payment.received - âœ…\\\\nâ€¢ client.updated - âœ…\\\\nâ€¢ system.alert - âŒ\\\\nâ€¢ custom.event - âŒ\\\\n\\\\nStep 3: Authentication\\\\nâ€¢ Method: HMAC-SHA256\\\\nâ€¢ Secret: whsec_...\\\\nâ€¢ Headers: X-Webhook-Signature\\\\n\\\\nStep 4: Advanced Settings\\\\nâ€¢ Retry Policy: 3 attempts\\\\nâ€¢ Timeout: 30 seconds\\\\nâ€¢ Rate Limit: 100/min\\\\n\\\\nâœ… Webhook Created Successfully!\\\\n\\\\nğŸ”— Webhook Details:\\\\nâ€¢ ID: wh_1234567890\\\\nâ€¢ Status: Active\\\\nâ€¢ Test Event: Sent\\\\nâ€¢ Monitoring: Enabled\\\\n\\\\nğŸ“Š First Event Expected:\\\\nâ€¢ Within next few minutes\\\\nâ€¢ Check logs for delivery\\\\nâ€¢ Monitor application logs\`);
    }

    function testWebhook(webhookType) {
      alert(\`ğŸ§ª Testing Webhook: \${webhookType}\\\\n\\\\nğŸ”„ Sending Test Event...\\\\n\\\\nğŸ“¡ Test Payload Sent:\\\\n{\\\\n  "event": "test.webhook",\\\\n  "data": {\\\\n    "message": "This is a test webhook",\\\\n    "timestamp": "\${new Date().toISOString()}",\\\\n    "webhook_type": "\${webhookType}"\\\\n  }\\\\n}\\\\n\\\\nğŸ“Š Response Details:\\\\nâ€¢ Status Code: 200 OK\\\\nâ€¢ Response Time: 234ms\\\\nâ€¢ Content-Type: application/json\\\\nâ€¢ Server: nginx/1.18.0\\\\n\\\\nâœ… Webhook Test Successful!\\\\n\\\\nğŸ“‹ Test Results:\\\\nâ€¢ Delivery: âœ… Success\\\\nâ€¢ Authentication: âœ… Valid\\\\nâ€¢ Processing: âœ… Complete\\\\nâ€¢ Logging: âœ… Recorded\\\\n\\\\nğŸ” Check your application logs for:\\\\nâ€¢ Incoming webhook request\\\\nâ€¢ Payload processing\\\\nâ€¢ Response handling\\\\nâ€¢ Error handling\\\\n\\\\nâš ï¸ Next Steps:\\\\nâ€¢ Verify payload structure\\\\nâ€¢ Test error scenarios\\\\nâ€¢ Monitor production usage\\\\nâ€¢ Set up alerting\`);
    }

    function editWebhook(webhookType) {
      alert(\`âœï¸ Edit Webhook: \${webhookType}\\\\n\\\\nğŸ”§ Current Configuration:\\\\nâ€¢ URL: https://api.client.com/webhooks\\\\nâ€¢ Events: bet.placed, payment.received\\\\nâ€¢ Secret: whsec_************\\\\nâ€¢ Retry: 3 attempts\\\\nâ€¢ Timeout: 30s\\\\n\\\\nğŸ“ Edit Options:\\\\n\\\\n1. Change webhook URL\\\\n2. Add/remove events\\\\n3. Update authentication\\\\n4. Modify retry policy\\\\n5. Adjust timeout settings\\\\n6. Configure headers\\\\n\\\\nEnter your choice (1-6): \\\\n\\\\nâš ï¸ Note: Changes take effect immediately\\\\n\\\\nâœ… Configuration updated successfully!\\\\n\\\\nğŸ”„ Changes Applied:\\\\nâ€¢ New URL: https://api.newclient.com/webhooks\\\\nâ€¢ Added Events: client.created\\\\nâ€¢ Retry Policy: 5 attempts\\\\nâ€¢ Timeout: 60 seconds\\\\n\\\\nğŸ“§ Notifications Sent:\\\\nâ€¢ Team notified of changes\\\\nâ€¢ Test webhook sent\\\\nâ€¢ Documentation updated\\\\n\\\\nğŸ§ª Test Required:\\\\nâ€¢ Send test event\\\\nâ€¢ Verify delivery\\\\nâ€¢ Check application logs\\\\nâ€¢ Monitor for errors\`);
    }

    function deleteWebhook(webhookType) {
      if (confirm(\`ğŸ—‘ï¸ Delete Webhook: \${webhookType}\\\\n\\\\nâš ï¸ This action cannot be undone!\\\\n\\\\nCurrent Configuration:\\\\nâ€¢ Events: 2 active\\\\nâ€¢ Delivery Rate: 99.8%\\\\nâ€¢ Last Event: 5 min ago\\\\n\\\\nImpact Assessment:\\\\nâ€¢ Events will stop\\\\nâ€¢ Applications may break\\\\nâ€¢ Data may be lost\\\\n\\\\nAre you sure you want to delete this webhook?\`)) {
        alert(\`âœ… Webhook Deleted Successfully!\\\\n\\\\nğŸ—‘ï¸ Deletion Summary:\\\\nâ€¢ Webhook: \${webhookType} removed\\\\nâ€¢ Events: Unsubscribed\\\\nâ€¢ Configuration: Cleaned up\\\\nâ€¢ Logs: Archived\\\\n\\\\nğŸ“§ Notifications:\\\\nâ€¢ Team notified\\\\nâ€¢ Applications alerted\\\\nâ€¢ Documentation updated\\\\n\\\\nâš ï¸ Immediate Actions Required:\\\\n\\\\n1. Update applications\\\\n2. Remove webhook code\\\\n3. Test alternative methods\\\\n4. Monitor for issues\\\\n\\\\nğŸ”„ Recovery Options:\\\\nâ€¢ Recreate webhook\\\\nâ€¢ Use API polling\\\\nâ€¢ Contact support\\\\n\\\\nâœ… Webhook deletion completed\`);
      }
    }

    function copyWebhookPayload(button) {
      const payload = button.previousElementSibling.textContent;
      navigator.clipboard.writeText(payload).then(() => {
        const originalText = button.textContent;
        button.textContent = 'âœ… Copied!';
        button.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 2000);
      });
    }
  `;
}

function getApiIntegrationsScripts(): string {
  return `
    // API Integrations Hub - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiIntegrations();
    });

    function initializeApiIntegrations() {
      startIntegrationsUpdates();
      setupIntegrationsListeners();
    }

    function startIntegrationsUpdates() {
      setInterval(() => {
        updateIntegrationsTimestamp();
      }, 1000);
    }

    function updateIntegrationsTimestamp() {
      const element = document.getElementById('integrationsLastUpdate');
      if (element) {
        element.textContent = new Date().toLocaleTimeString();
      }
    }

    function setupIntegrationsListeners() {
      // Integration buttons
      document.querySelectorAll('.integration-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.textContent;
          const integration = this.closest('.integration-card').querySelector('.integration-name').textContent;
          handleIntegrationAction(action, integration);
        });
      });

      // Test buttons
      document.querySelectorAll('.test-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const testType = this.textContent;
          handleTestAction(testType);
        });
      });
    }

    // Global functions for button onclick handlers
    function connectIntegration(integration) {
      alert(\`ğŸ”— Connect \${integration}\\\\n\\\\nğŸ”§ Integration Setup Wizard\\\\n\\\\nStep 1: Authentication\\\\nâ€¢ API Key: Required\\\\nâ€¢ OAuth: Available\\\\nâ€¢ Webhook URL: Optional\\\\n\\\\nStep 2: Permissions\\\\nâ€¢ Read data: âœ…\\\\nâ€¢ Write data: âœ…\\\\nâ€¢ Delete data: âŒ\\\\nâ€¢ Admin access: âŒ\\\\n\\\\nStep 3: Configuration\\\\nâ€¢ Webhook events: bet.placed\\\\nâ€¢ Data mapping: Auto\\\\nâ€¢ Error handling: Retry\\\\n\\\\nStep 4: Testing\\\\nâ€¢ Connection test: âœ…\\\\nâ€¢ Data sync: âœ…\\\\nâ€¢ Webhook test: âœ…\\\\n\\\\nâ±ï¸ Estimated Setup Time: 5-10 minutes\\\\n\\\\nğŸ”„ Connecting...\\\\n\\\\nâœ… Integration Connected Successfully!\\\\n\\\\nğŸ”— Connection Details:\\\\nâ€¢ Status: Active\\\\nâ€¢ API Calls: 0 (just connected)\\\\nâ€¢ Last Sync: Now\\\\nâ€¢ Webhook: Configured\\\\n\\\\nğŸ“Š Integration Metrics:\\\\nâ€¢ Success Rate: 100%\\\\nâ€¢ Response Time: 142ms\\\\nâ€¢ Error Rate: 0%\\\\n\\\\nğŸ“§ Notifications:\\\\nâ€¢ Welcome email sent\\\\nâ€¢ Documentation link\\\\nâ€¢ Support contact info\\\\n\\\\nğŸ¯ Next Steps:\\\\nâ€¢ Configure webhook events\\\\nâ€¢ Set up data mappings\\\\nâ€¢ Test with sample data\\\\nâ€¢ Monitor integration health\`);
    }

    function disconnectIntegration(integration) {
      if (confirm(\`ğŸ”Œ Disconnect \${integration}?\\\\n\\\\nâš ï¸ This will:\\\\nâ€¢ Stop all data sync\\\\nâ€¢ Disable webhooks\\\\nâ€¢ Remove API access\\\\nâ€¢ Delete stored credentials\\\\n\\\\nAre you sure you want to disconnect this integration?\`)) {
        alert(\`âœ… Integration Disconnected\\\\n\\\\nğŸ”Œ Disconnection Summary:\\\\nâ€¢ Integration: \${integration} removed\\\\nâ€¢ API access: Revoked\\\\nâ€¢ Webhooks: Disabled\\\\nâ€¢ Data sync: Stopped\\\\n\\\\nğŸ§¹ Cleanup Actions:\\\\nâ€¢ Credentials deleted\\\\nâ€¢ Cache cleared\\\\nâ€¢ Logs archived\\\\nâ€¢ Documentation updated\\\\n\\\\nğŸ“Š Final Statistics:\\\\nâ€¢ Total API calls: 47,231\\\\nâ€¢ Success rate: 99.8%\\\\nâ€¢ Data transferred: 2.3GB\\\\nâ€¢ Active duration: 45 days\\\\n\\\\nâš ï¸ Impact on Applications:\\\\nâ€¢ Some features may break\\\\nâ€¢ Data sync will stop\\\\nâ€¢ Manual data entry required\\\\n\\\\nğŸ”„ Recovery Options:\\\\nâ€¢ Reconnect anytime\\\\nâ€¢ Export data first\\\\nâ€¢ Contact support\\\\n\\\\nâœ… Integration disconnected successfully\`);
      }
    }

    function viewEndpointDetails(endpoint) {
      alert(\`ğŸ” Endpoint Details: \${endpoint.replace(/_/g, ' ')}\\\\n\\\\nğŸ“Š Endpoint Information:\\\\nâ€¢ Base URL: https://api.fantasy402.com\\\\nâ€¢ Authentication: JWT Required\\\\nâ€¢ Rate Limit: 1000/min\\\\nâ€¢ Response Format: JSON\\\\n\\\\nğŸ”§ Available Methods:\\\\nâ€¢ GET - Retrieve data\\\\nâ€¢ POST - Create resources\\\\nâ€¢ PUT - Update resources\\\\nâ€¢ DELETE - Remove resources\\\\n\\\\nğŸ“‹ Endpoint List:\\\\nâ€¢ /clients - Client management\\\\nâ€¢ /bets - Betting operations\\\\nâ€¢ /analytics - Business intelligence\\\\nâ€¢ /payments - Payment processing\\\\n\\\\nğŸ“Š Usage Statistics:\\\\nâ€¢ Daily calls: 15.2K\\\\nâ€¢ Success rate: 99.9%\\\\nâ€¢ Avg response: 142ms\\\\nâ€¢ Error rate: 0.1%\\\\n\\\\nğŸ”’ Security Features:\\\\nâ€¢ SSL/TLS encryption\\\\nâ€¢ Request signing\\\\nâ€¢ IP whitelisting\\\\nâ€¢ Rate limiting\\\\n\\\\nâœ… Endpoint details loaded\`);
    }

    function createNewWebhook() {
      alert(\`â• Create New Webhook\\\\n\\\\nğŸª Webhook Creation Wizard\\\\n\\\\nStep 1: Basic Setup\\\\nâ€¢ Name: Custom Webhook\\\\nâ€¢ Description: Handle events\\\\nâ€¢ URL: https://api.client.com/webhook\\\\n\\\\nStep 2: Event Selection\\\\nâ€¢ bet.placed - âœ…\\\\nâ€¢ payment.received - âœ…\\\\nâ€¢ client.updated - âœ…\\\\nâ€¢ system.alert - âŒ\\\\nâ€¢ custom.event - âŒ\\\\n\\\\nStep 3: Security\\\\nâ€¢ Secret: whsec_auto_generated\\\\nâ€¢ Signature: HMAC-SHA256\\\\nâ€¢ Headers: X-Webhook-Signature\\\\n\\\\nStep 4: Advanced Options\\\\nâ€¢ Retry Policy: 3 attempts\\\\nâ€¢ Timeout: 30 seconds\\\\nâ€¢ Rate Limit: 100/min\\\\nâ€¢ Filtering: None\\\\n\\\\nâ±ï¸ Setup Time: ~5 minutes\\\\n\\\\nğŸ”„ Creating webhook...\\\\n\\\\nâœ… Webhook Created Successfully!\\\\n\\\\nğŸ”— Webhook Details:\\\\nâ€¢ ID: wh_\${Math.random().toString(36).substring(2, 15)}\\\\nâ€¢ Status: Active\\\\nâ€¢ URL: https://api.client.com/webhook\\\\nâ€¢ Events: 3 configured\\\\n\\\\nğŸ§ª Test Event Sent:\\\\nâ€¢ Status: Delivered\\\\nâ€¢ Response: 200 OK\\\\nâ€¢ Time: 234ms\\\\n\\\\nğŸ“§ Confirmation:\\\\nâ€¢ Email sent\\\\nâ€¢ Documentation updated\\\\nâ€¢ Monitoring enabled\\\\n\\\\nğŸ¯ Next Steps:\\\\nâ€¢ Implement webhook handler\\\\nâ€¢ Test with real events\\\\nâ€¢ Monitor delivery logs\\\\nâ€¢ Set up error handling\`);
    }

    function testWebhook(webhookType) {
      alert(\`ğŸ§ª Testing Webhook: \${webhookType}\\\\n\\\\nğŸ”„ Sending Test Payload...\\\\n\\\\nğŸ“¡ Test Event Details:\\\\n{\\\\n  "event": "test.webhook",\\\\n  "data": {\\\\n    "message": "Webhook test from Fantasy402",\\\\n    "timestamp": "\${new Date().toISOString()}",\\\\n    "webhook_type": "\${webhookType}"\\\\n  },\\\\n  "signature": "sha256=..."\\\\n}\\\\n\\\\nğŸ“Š Delivery Results:\\\\nâ€¢ Status: 200 OK\\\\nâ€¢ Response Time: 156ms\\\\nâ€¢ Content-Type: application/json\\\\nâ€¢ Server: nginx/1.18.0\\\\n\\\\nâœ… Webhook Test Successful!\\\\n\\\\nğŸ” Response Analysis:\\\\nâ€¢ Authentication: âœ… Valid\\\\nâ€¢ Payload: âœ… Accepted\\\\nâ€¢ Processing: âœ… Complete\\\\nâ€¢ Logging: âœ… Recorded\\\\n\\\\nğŸ“‹ Test Summary:\\\\nâ€¢ Delivery time: 156ms\\\\nâ€¢ Network latency: 23ms\\\\nâ€¢ Processing time: 133ms\\\\nâ€¢ Total time: 156ms\\\\n\\\\nâš ï¸ Recommendations:\\\\nâ€¢ Monitor response times\\\\nâ€¢ Implement retry logic\\\\nâ€¢ Handle timeout scenarios\\\\nâ€¢ Log all webhook events\\\\n\\\\nâœ… Test completed successfully\`);
    }

    function editWebhook(webhookType) {
      alert(\`âœï¸ Edit Webhook: \${webhookType}\\\\n\\\\nğŸ”§ Current Configuration:\\\\nâ€¢ URL: https://api.client.com/webhooks\\\\nâ€¢ Events: bet.placed, payment.received\\\\nâ€¢ Secret: whsec_************\\\\nâ€¢ Retry: 3 attempts\\\\nâ€¢ Timeout: 30s\\\\n\\\\nğŸ“ Available Modifications:\\\\n\\\\n1. Change webhook URL\\\\n2. Add/remove events\\\\n3. Update authentication secret\\\\n4. Modify retry policy\\\\n5. Adjust timeout settings\\\\n6. Configure custom headers\\\\n\\\\nEnter your choice (1-6): \\\\n\\\\nğŸ”„ Applying changes...\\\\n\\\\nâœ… Webhook Updated Successfully!\\\\n\\\\nğŸ”§ Changes Applied:\\\\nâ€¢ New URL: https://api.newclient.com/webhooks\\\\nâ€¢ Added Events: client.created\\\\nâ€¢ Retry Policy: 5 attempts\\\\nâ€¢ Timeout: 60 seconds\\\\nâ€¢ Custom Headers: Added\\\\n\\\\nğŸ§ª Validation:\\\\nâ€¢ URL reachable: âœ…\\\\nâ€¢ Authentication: âœ…\\\\nâ€¢ Events valid: âœ…\\\\nâ€¢ Configuration: âœ…\\\\n\\\\nğŸ“§ Notifications:\\\\nâ€¢ Team notified\\\\nâ€¢ Test event sent\\\\nâ€¢ Documentation updated\\\\n\\\\nâš ï¸ Important:\\\\nâ€¢ Test webhook thoroughly\\\\nâ€¢ Monitor for failures\\\\nâ€¢ Update application code\\\\nâ€¢ Backup old configuration\`);
    }

    function deleteWebhook(webhookType) {
      if (confirm(\`ğŸ—‘ï¸ Delete Webhook: \${webhookType}\\\\n\\\\nâš ï¸ This action cannot be undone!\\\\n\\\\nCurrent Status:\\\\nâ€¢ Events handled: 47,231\\\\nâ€¢ Success rate: 99.8%\\\\nâ€¢ Last event: 5 min ago\\\\nâ€¢ Active subscriptions: 3\\\\n\\\\nImpact Assessment:\\\\nâ€¢ Real-time updates will stop\\\\nâ€¢ Applications may break\\\\nâ€¢ Data sync will fail\\\\nâ€¢ Manual intervention required\\\\n\\\\nAre you absolutely sure?\`)) {
        alert(\`âœ… Webhook Deleted Successfully!\\\\n\\\\nğŸ—‘ï¸ Deletion Summary:\\\\nâ€¢ Webhook: \${webhookType} removed\\\\nâ€¢ Events: Unsubscribed (3)\\\\nâ€¢ URL: Deactivated\\\\nâ€¢ Configuration: Cleaned\\\\n\\\\nğŸ“Š Final Statistics:\\\\nâ€¢ Total events: 47,231\\\\nâ€¢ Success rate: 99.8%\\\\nâ€¢ Avg response: 142ms\\\\nâ€¢ Data transferred: 2.3GB\\\\n\\\\nğŸ§¹ Cleanup Actions:\\\\nâ€¢ Credentials removed\\\\nâ€¢ Cache cleared\\\\nâ€¢ Logs archived\\\\nâ€¢ DNS records updated\\\\n\\\\nâš ï¸ Required Actions:\\\\n\\\\n1. Update applications\\\\n2. Remove webhook handlers\\\\n3. Implement alternatives\\\\n4. Test failover systems\\\\n\\\\nğŸ”„ Recovery Options:\\\\nâ€¢ Recreate webhook\\\\nâ€¢ Use API polling\\\\nâ€¢ Contact support\\\\nâ€¢ Restore from backup\\\\n\\\\nâœ… Webhook deletion completed\`);
      }
    }

    function handleIntegrationAction(action, integration) {
      if (action === 'Connect') {
        connectIntegration(integration);
      } else if (action === 'Disconnect') {
        disconnectIntegration(integration);
      }
    }

    function handleTestAction(testType) {
      switch(testType) {
        case 'Open Tester':
          alert('ğŸ§ª Webhook Tester Opened\\\\n\\\\nğŸ”§ Test Configuration:\\\\nâ€¢ Endpoint URL: [Enter webhook URL]\\\\nâ€¢ Event Type: bet.placed\\\\nâ€¢ Custom Payload: Optional\\\\nâ€¢ Authentication: Auto\\\\n\\\\nğŸ“¡ Test Payload:\\\\n{\\\\n  "event": "bet.placed",\\\\n  "data": {\\\\n    "bet_id": "bet_test_123",\\\\n    "amount": 100.00,\\\\n    "timestamp": "' + new Date().toISOString() + '"\\\\n  }\\\\n}\\\\n\\\\nğŸ“Š Test Results:\\\\nâ€¢ Status: Ready\\\\nâ€¢ Authentication: Valid\\\\nâ€¢ Payload: Generated\\\\n\\\\nâœ… Tester ready for use');
          break;
        case 'Open Simulator':
          alert('ğŸ­ API Simulator Opened\\\\n\\\\nğŸ”§ Simulation Settings:\\\\nâ€¢ Response Delay: 142ms\\\\nâ€¢ Success Rate: 99.9%\\\\nâ€¢ Error Types: Random\\\\nâ€¢ Data Volume: Realistic\\\\n\\\\nğŸ“Š Available Scenarios:\\\\nâ€¢ Normal operation\\\\nâ€¢ High load\\\\nâ€¢ Network issues\\\\nâ€¢ Server errors\\\\nâ€¢ Timeout conditions\\\\n\\\\nğŸ¯ Test Cases:\\\\nâ€¢ Valid requests\\\\nâ€¢ Invalid parameters\\\\nâ€¢ Authentication failures\\\\nâ€¢ Rate limit exceeded\\\\nâ€¢ Server maintenance\\\\n\\\\nâœ… Simulator ready for testing');
          break;
        case 'Load Tester':
          alert('âš¡ Load Testing Tool Opened\\\\n\\\\nğŸ”§ Load Test Configuration:\\\\nâ€¢ Target Endpoint: /api/v2/clients\\\\nâ€¢ Concurrent Users: 100\\\\nâ€¢ Test Duration: 5 minutes\\\\nâ€¢ Ramp-up Time: 30 seconds\\\\n\\\\nğŸ“Š Test Scenarios:\\\\nâ€¢ Normal load\\\\nâ€¢ Peak load\\\\nâ€¢ Stress test\\\\nâ€¢ Endurance test\\\\nâ€¢ Spike test\\\\n\\\\nğŸ“ˆ Expected Results:\\\\nâ€¢ Response Time: <500ms\\\\nâ€¢ Error Rate: <1%\\\\nâ€¢ Throughput: 1000 RPS\\\\nâ€¢ CPU Usage: <80%\\\\n\\\\nâš ï¸ Important Notes:\\\\nâ€¢ Test in staging first\\\\nâ€¢ Monitor system resources\\\\nâ€¢ Have rollback plan\\\\nâ€¢ Notify team members\\\\n\\\\nâœ… Load testing tool ready');
          break;
      }
    }

    function useTemplate(templateType) {
      alert(\`ğŸ“‹ Using Template: \${templateType}\\\\n\\\\nğŸ”§ Template Setup Wizard\\\\n\\\\nStep 1: Template Selection\\\\nâ€¢ Template: \${templateType}\\\\nâ€¢ Version: Latest\\\\nâ€¢ Customization: Basic\\\\n\\\\nStep 2: Configuration\\\\nâ€¢ API Keys: Auto-generated\\\\nâ€¢ Webhooks: Configured\\\\nâ€¢ Database: Connected\\\\nâ€¢ Authentication: JWT\\\\n\\\\nStep 3: Integration Points\\\\nâ€¢ Payment Processing: âœ…\\\\nâ€¢ Email Notifications: âœ…\\\\nâ€¢ Data Synchronization: âœ…\\\\nâ€¢ Error Handling: âœ…\\\\n\\\\nStep 4: Testing\\\\nâ€¢ Connection test: âœ…\\\\nâ€¢ Data flow test: âœ…\\\\nâ€¢ Error handling: âœ…\\\\n\\\\nâ±ï¸ Setup Time: 15-30 minutes\\\\n\\\\nğŸ”„ Deploying template...\\\\n\\\\nâœ… Template Deployed Successfully!\\\\n\\\\nğŸš€ Deployment Summary:\\\\nâ€¢ Template: \${templateType}\\\\nâ€¢ Status: Active\\\\nâ€¢ Endpoints: 12 configured\\\\nâ€¢ Webhooks: 3 active\\\\n\\\\nğŸ“Š Initial Metrics:\\\\nâ€¢ API Calls: 0\\\\nâ€¢ Response Time: 142ms\\\\nâ€¢ Success Rate: 100%\\\\nâ€¢ Error Rate: 0%\\\\n\\\\nğŸ”§ Next Steps:\\\\nâ€¢ Configure business logic\\\\nâ€¢ Test with real data\\\\nâ€¢ Set up monitoring\\\\nâ€¢ Train team members\\\\n\\\\nğŸ“š Resources:\\\\nâ€¢ Documentation: Available\\\\nâ€¢ Support: 24/7\\\\nâ€¢ Community: Active\\\\nâ€¢ Training: Scheduled\\\\n\\\\nâœ… Template ready for use!\`);
    }
  `;
}

function generateApiHealthContent(employee: EmployeeData): string {
  const healthMetrics = [
    { icon: 'ğŸ’š', value: 'Healthy', label: 'System Status' },
    { icon: 'âš¡', value: '142ms', label: 'Response Time' },
    { icon: 'ğŸ“Š', value: '99.9%', label: 'Uptime' },
    { icon: 'ğŸ”’', value: 'A+', label: 'Security Rating' },
  ];

  const systemLogs = [
    { status: 'success', message: 'Fantasy402 API connection established' },
    { status: 'success', message: 'VIP dashboard rendered successfully' },
    { status: 'warning', message: 'Cache refresh initiated' },
    { status: 'success', message: 'All systems operational' },
    { status: 'success', message: 'Health check completed' },
  ];

  return `
    <h1>ğŸ’š System Health Dashboard</h1>
    <p>Real-time monitoring and health status for all system components:</p>

    <!-- Health Metrics -->
    <div style="background: rgba(10, 14, 39, 0.8); border-radius: 12px; padding: 2rem; margin-bottom: 2rem;">
      <h3 style="color: #40e0d0; margin-bottom: 1rem;">ğŸ¥ SYSTEM HEALTH METRICS</h3>
      ${generateMetricGrid(healthMetrics)}
    </div>

    <!-- Component Status -->
    <div class="api-grid">
      <div class="api-card" style="border-left: 4px solid #22c55e;">
        <h3>ğŸ° Fantasy402 Platform</h3>
        <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
          <span style="color: #22c55e; font-size: 1.5rem;">â—</span>
          <span>Operational</span>
        </div>
        <p>Live betting platform and sportsbook operations</p>
      </div>

      <div class="api-card" style="border-left: 4px solid #22c55e;">
        <h3>ğŸ‘‘ VIP Management</h3>
        <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
          <span style="color: #22c55e; font-size: 1.5rem;">â—</span>
          <span>Operational</span>
        </div>
        <p>High-value client services and support systems</p>
      </div>

      <div class="api-card" style="border-left: 4px solid #22c55e;">
        <h3>ğŸ“Š Analytics Engine</h3>
        <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
          <span style="color: #22c55e; font-size: 1.5rem;">â—</span>
          <span>Operational</span>
        </div>
        <p>Real-time data processing and business intelligence</p>
      </div>

      <div class="api-card" style="border-left: 4px solid #22c55e;">
        <h3>ğŸ”’ Security Systems</h3>
        <div style="display: flex; align-items: center; gap: 1rem; margin: 1rem 0;">
          <span style="color: #22c55e; font-size: 1.5rem;">â—</span>
          <span>Operational</span>
        </div>
        <p>Enterprise security and compliance monitoring</p>
      </div>
    </div>

    <!-- System Logs -->
    <div class="status-section">
      <h3 style="color: #ff6b35;">ğŸ“‹ RECENT SYSTEM LOGS</h3>
      <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; padding: 1rem; margin-top: 1rem; font-family: monospace; font-size: 0.9rem;">
        ${systemLogs.map(log => `
          <div style="color: ${log.status === 'success' ? '#22c55e' : log.status === 'warning' ? '#f59e0b' : '#ef4444'};">
            [${new Date().toLocaleTimeString()}] ${log.status === 'success' ? 'âœ“' : log.status === 'warning' ? 'âš ï¸' : 'âŒ'} ${log.message}
          </div>
        `).join('')}
      </div>
    </div>

    <div style="margin-top: 2rem; text-align: center;">
      <a href="/api" class="action-btn secondary">â† Back to API</a>
      <a href="/api/status" class="action-btn secondary" style="margin-left: 1rem;">ğŸ“Š System Status</a>
    </div>
  `;
}

function generateApiStatusContent(employee: EmployeeData): string {
  const statusMetrics = [
    { icon: 'ğŸ°', value: '1,247', label: 'VIP Clients' },
    { icon: 'ğŸ’°', value: '$2.8M', label: 'VIP Value' },
    { icon: 'ğŸ“Š', value: '96%', label: 'Retention' },
    { icon: 'âš¡', value: '24', label: 'New This Month' },
  ];

  const securityMetrics = [
    { icon: 'ğŸ”’', value: 'âœ…', label: 'SSL Active' },
    { icon: 'ğŸ›¡ï¸', value: '0', label: 'Security Events' },
    { icon: 'ğŸ“‹', value: 'âœ…', label: 'Compliance' },
    { icon: 'â­', value: 'A+', label: 'Security Rating' },
  ];

  return `
    <h1>ğŸ“Š System Status & Performance</h1>
    <p>Comprehensive system status, performance metrics, and operational data:</p>

    <!-- VIP Management Status -->
    <div class="status-section">
      <h3 style="color: #ffd700;">ğŸ‘‘ VIP MANAGEMENT</h3>
      ${generateMetricGrid(statusMetrics)}
    </div>

    <!-- Security & Compliance -->
    <div class="status-section">
      <h3 style="color: #40e0d0;">ğŸ”’ SECURITY & COMPLIANCE</h3>
      ${generateMetricGrid(securityMetrics)}
    </div>

    <!-- System Logs Preview -->
    <div class="status-section">
      <h3 style="color: #ff6b35;">ğŸ“‹ RECENT SYSTEM LOGS</h3>
      <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; padding: 1rem; margin-top: 1rem; font-family: monospace; font-size: 0.9rem;">
        <div style="color: #22c55e;">[${new Date().toLocaleTimeString()}] âœ“ Fantasy402 API connection established</div>
        <div style="color: #40e0d0;">[${new Date().toLocaleTimeString()}] âœ“ VIP dashboard rendered successfully</div>
        <div style="color: #f59e0b;">[${new Date().toLocaleTimeString()}] âš ï¸ Cache refresh initiated</div>
        <div style="color: #22c55e;">[${new Date().toLocaleTimeString()}] âœ“ All systems operational</div>
        <div style="color: #40e0d0;">[${new Date().toLocaleTimeString()}] âœ“ Health check completed</div>
      </div>
    </div>

    <div style="margin-top: 2rem; text-align: center;">
      <a href="/api" class="action-btn secondary">â† Back to API</a>
      <a href="/api/health" class="action-btn secondary" style="margin-left: 1rem;">ğŸ’š Health Check</a>
    </div>
  `;
}

function generateApiAnalyticsContent(employee: EmployeeData): string {
  const realTimeMetrics = [
    { icon: 'ğŸ‘ï¸', label: 'Profile Views', value: '879', change: '+23.1%', trend: 'up' },
    { icon: 'ğŸ”§', label: 'Tool Usage', value: '244', change: '+18.7%', trend: 'up' },
    { icon: 'ğŸ“¡', label: 'API Calls', value: '806', change: '+15.2%', trend: 'up' },
    { icon: 'âš¡', label: 'Response Time', value: '31ms', change: '-12.3%', trend: 'down' },
  ];

  const performanceData = [
    { metric: 'Uptime', value: '99.9%', status: 'excellent', icon: 'ğŸŸ¢' },
    { metric: 'Error Rate', value: '0.1%', status: 'excellent', icon: 'ğŸŸ¢' },
    { metric: 'Avg Response', value: '142ms', status: 'good', icon: 'ğŸŸ¡' },
    { metric: 'Success Rate', value: '99.9%', status: 'excellent', icon: 'ğŸŸ¢' },
  ];

  const endpointAnalytics = [
    { endpoint: '/api/v2/clients', calls: '15.2K', avgTime: '89ms', success: '99.9%', trend: '+8.3%' },
    { endpoint: '/api/v2/bets', calls: '8.9K', avgTime: '124ms', success: '99.8%', trend: '+12.1%' },
    { endpoint: '/api/v2/analytics', calls: '12.4K', avgTime: '156ms', success: '99.7%', trend: '+15.7%' },
    { endpoint: '/api/v2/payments', calls: '4.2K', avgTime: '98ms', success: '99.9%', trend: '+6.4%' },
    { endpoint: '/api/v2/auth', calls: '892', avgTime: '67ms', success: '99.8%', trend: '+3.2%' },
  ];

  const businessMetrics = [
    { category: 'Revenue', value: '$2.8M', change: '+18.7%', icon: 'ğŸ’°', color: '#22c55e' },
    { category: 'VIP Clients', value: '1,247', change: '+12.3%', icon: 'ğŸ‘‘', color: '#ffd700' },
    { category: 'Commission', value: '$12.8K', change: '+23.4%', icon: 'ğŸ’', color: '#40e0d0' },
    { category: 'Retention', value: '96.4%', change: '+2.1%', icon: 'ğŸ¯', color: '#f59e0b' },
  ];

  const exportOptions = [
    {
      label: 'ğŸ“Š Export JSON',
      description: 'Complete analytics data in JSON format',
      onclick: `exportAnalyticsData('json'); return false;`,
    },
    {
      label: 'ğŸ“‹ Export CSV',
      description: 'Tabular data for spreadsheet analysis',
      onclick: `exportAnalyticsData('csv'); return false;`,
    },
    {
      label: 'ğŸ“„ PDF Report',
      description: 'Executive summary with charts',
      onclick: `exportAnalyticsData('pdf'); return false;`,
    },
    {
      label: 'ğŸ“ˆ Excel Dashboard',
      description: 'Interactive Excel with formulas',
      onclick: `exportAnalyticsData('excel'); return false;`,
    },
    {
      label: 'â° Scheduled Reports',
      description: 'Automated daily/weekly reports',
      onclick: `configureScheduledReports(); return false;`,
    },
    {
      label: 'ğŸ“Š BI Integration',
      description: 'Connect to Tableau/Power BI',
      onclick: `setupBIIntegration(); return false;`,
    },
  ];

  const timeRanges = [
    { label: 'Last Hour', value: '1h', active: false },
    { label: 'Last 24 Hours', value: '24h', active: true },
    { label: 'Last 7 Days', value: '7d', active: false },
    { label: 'Last 30 Days', value: '30d', active: false },
    { label: 'Last 90 Days', value: '90d', active: false },
  ];

  return `
    <div class="api-analytics-container">
      <style>
        ${getApiAnalyticsStyles()}
      </style>

      <div class="analytics-header">
        <div class="header-content">
          <h1>ğŸ“Š Enterprise API Analytics Hub</h1>
          <p>Real-time performance monitoring, business intelligence, and comprehensive analytics</p>
          <div class="header-status">
            <div class="status-indicator online">
              <span class="pulse"></span>
              Analytics Engine Active
            </div>
            <div class="last-update">Last updated: <span id="analyticsLastUpdate">${new Date().toLocaleTimeString()}</span></div>
          </div>
        </div>
      </div>

      <!-- Time Range Selector -->
      <div class="time-range-selector">
        <h3>â±ï¸ Time Range</h3>
        <div class="time-buttons">
          ${timeRanges.map(range => `
            <button class="time-btn ${range.active ? 'active' : ''}" onclick="setTimeRange('${range.value}')">
              ${range.label}
            </button>
          `).join('')}
        </div>
      </div>

      <!-- Real-Time Metrics Dashboard -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>âš¡ Real-Time Performance</h2>
          <p>Live metrics and key performance indicators</p>
        </div>

        <div class="metrics-grid">
          ${realTimeMetrics.map(metric => `
            <div class="metric-card ${metric.trend}" data-metric="${metric.label.toLowerCase().replace(/\s+/g, '-')}">
              <div class="metric-header">
                <div class="metric-icon">${metric.icon}</div>
                <div class="metric-change ${metric.trend}">
                  ${metric.change}
                </div>
              </div>
              <div class="metric-value">${metric.value}</div>
              <div class="metric-label">${metric.label}</div>
              <div class="metric-sparkline" id="sparkline-${metric.label.toLowerCase().replace(/\s+/g, '-')}"></div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Performance Overview -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>ğŸ† System Performance</h2>
          <p>Overall system health and performance metrics</p>
        </div>

        <div class="performance-grid">
          ${performanceData.map(perf => `
            <div class="performance-card ${perf.status}">
              <div class="performance-header">
                <div class="performance-icon">${perf.icon}</div>
                <div class="performance-metric">${perf.metric}</div>
              </div>
              <div class="performance-value">${perf.value}</div>
              <div class="performance-status">${perf.status.toUpperCase()}</div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- API Endpoint Analytics -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>ğŸ”Œ API Endpoint Performance</h2>
          <p>Detailed analytics for each API endpoint</p>
        </div>

        <div class="endpoints-table">
          <div class="table-header">
            <div class="endpoint-col">Endpoint</div>
            <div class="calls-col">Calls</div>
            <div class="time-col">Avg Time</div>
            <div class="success-col">Success Rate</div>
            <div class="trend-col">Trend</div>
          </div>
          ${endpointAnalytics.map(endpoint => `
            <div class="table-row">
              <div class="endpoint-col">
                <code>${endpoint.endpoint}</code>
              </div>
              <div class="calls-col">${endpoint.calls}</div>
              <div class="time-col">${endpoint.avgTime}</div>
              <div class="success-col">${endpoint.success}</div>
              <div class="trend-col">
                <span class="trend ${endpoint.trend.startsWith('+') ? 'positive' : 'negative'}">${endpoint.trend}</span>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Business Intelligence -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>ğŸ’¼ Business Intelligence</h2>
          <p>Revenue, client metrics, and business performance</p>
        </div>

        <div class="business-grid">
          ${businessMetrics.map(biz => `
            <div class="business-card">
              <div class="business-icon" style="color: ${biz.color}">${biz.icon}</div>
              <div class="business-content">
                <div class="business-value" style="color: ${biz.color}">${biz.value}</div>
                <div class="business-label">${biz.category}</div>
                <div class="business-change ${biz.change.startsWith('+') ? 'positive' : 'negative'}">${biz.change}</div>
              </div>
            </div>
          `).join('')}
        </div>
      </div>

      <!-- Advanced Analytics -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>ğŸ”¬ Advanced Analytics</h2>
          <p>Predictive insights and custom reporting</p>
        </div>

        <div class="advanced-analytics">
          <div class="analytics-tools">
            <div class="tool-card">
              <h3>ğŸ¯ Predictive Analytics</h3>
              <p>AI-powered forecasting and trend analysis</p>
              <div class="tool-status active">âœ… Active</div>
              <button class="tool-btn" onclick="openPredictiveAnalytics()">View Insights</button>
            </div>

            <div class="tool-card">
              <h3>ğŸ“Š Custom Dashboards</h3>
              <p>Build personalized analytics dashboards</p>
              <div class="tool-status available">â—‹ Available</div>
              <button class="tool-btn" onclick="createCustomDashboard()">Create Dashboard</button>
            </div>

            <div class="tool-card">
              <h3>ğŸ” Deep Analytics</h3>
              <p>Detailed performance and usage analysis</p>
              <div class="tool-status active">âœ… Active</div>
              <button class="tool-btn" onclick="openDeepAnalytics()">Deep Dive</button>
            </div>

            <div class="tool-card">
              <h3>ğŸ“ˆ Comparative Analysis</h3>
              <p>Compare performance across time periods</p>
              <div class="tool-status available">â—‹ Available</div>
              <button class="tool-btn" onclick="openComparativeAnalysis()">Compare Data</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Data Export & Integration -->
      <div class="analytics-section">
        <div class="section-header">
          <h2>ğŸ“¤ Data Export & Integration</h2>
          <p>Export data and integrate with external tools</p>
        </div>

        <div class="export-grid">
          ${exportOptions.map(option => `
            <div class="export-card">
              <div class="export-content">
                <h3>${option.label}</h3>
                <p>${option.description}</p>
              </div>
              <button class="export-btn" onclick="${option.onclick}">Export</button>
            </div>
          `).join('')}
        </div>
      </div>

      <div class="analytics-navigation">
        <a href="/api" class="nav-btn secondary">
          <span class="btn-icon">â†</span>
          Back to API Hub
        </a>
        <a href="/api/monitoring" class="nav-btn primary">
          <span class="btn-icon">ğŸ“Š</span>
          Live Monitoring
        </a>
        <a href="/tools/analytics" class="nav-btn accent">
          <span class="btn-icon">ğŸ“ˆ</span>
          Full Analytics Suite
        </a>
      </div>
    </div>

    <script>
      ${getApiAnalyticsScripts()}
    </script>
  `;
}

function getApiAnalyticsStyles(): string {
  return `
    .api-analytics-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
      background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
      min-height: 100vh;
    }

    /* Header Section */
    .analytics-header {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 107, 53, 0.1));
      border: 2px solid #ffd700;
      border-radius: 20px;
      padding: 3rem;
      margin-bottom: 3rem;
      position: relative;
      overflow: hidden;
    }

    .analytics-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 6px;
      background: linear-gradient(90deg, #ffd700, #ff6b35, #40e0d0, #ffd700);
      background-size: 200% 100%;
      animation: gradient-shift 3s ease-in-out infinite;
    }

    .header-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .header-content p {
      color: #a0a9b8;
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }

    .header-status {
      display: flex;
      align-items: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: #22c55e;
      font-weight: 600;
    }

    .pulse {
      width: 10px;
      height: 10px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    .last-update {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    /* Time Range Selector */
    .time-range-selector {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .time-range-selector h3 {
      color: #e0e6ed;
      margin-bottom: 1rem;
    }

    .time-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .time-btn {
      padding: 0.75rem 1.5rem;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.05);
      color: #e0e6ed;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .time-btn:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    .time-btn.active {
      background: linear-gradient(135deg, #40e0d0, #22c55e);
      color: white;
      border-color: #40e0d0;
    }

    /* Section Headers */
    .analytics-section {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .section-header h2 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-header p {
      color: #a0a9b8;
      font-size: 1rem;
    }

    /* Real-Time Metrics */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .metric-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(64, 224, 208, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .metric-card:hover {
      transform: translateY(-5px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .metric-card.up {
      border-left: 4px solid #22c55e;
    }

    .metric-card.down {
      border-left: 4px solid #ef4444;
    }

    .metric-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .metric-icon {
      font-size: 2rem;
    }

    .metric-change {
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .metric-change.up {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .metric-change.down {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    .metric-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .metric-label {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .metric-sparkline {
      height: 30px;
      margin-top: 1rem;
      background: rgba(64, 224, 208, 0.1);
      border-radius: 4px;
      position: relative;
    }

    /* Performance Grid */
    .performance-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .performance-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(64, 224, 208, 0.3);
      transition: all 0.3s ease;
    }

    .performance-card:hover {
      transform: translateY(-2px);
      border-color: #40e0d0;
      box-shadow: 0 8px 25px rgba(64, 224, 208, 0.2);
    }

    .performance-card.excellent {
      border-color: #22c55e;
      background: rgba(34, 197, 94, 0.05);
    }

    .performance-card.good {
      border-color: #f59e0b;
      background: rgba(245, 158, 11, 0.05);
    }

    .performance-header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .performance-icon {
      font-size: 2rem;
    }

    .performance-metric {
      color: #e0e6ed;
      font-weight: 600;
    }

    .performance-value {
      font-size: 2rem;
      font-weight: 800;
      color: #40e0d0;
      margin-bottom: 0.5rem;
    }

    .performance-status {
      color: #22c55e;
      font-size: 0.8rem;
      font-weight: 600;
    }

    /* Endpoints Table */
    .endpoints-table {
      margin-top: 2rem;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid rgba(64, 224, 208, 0.3);
    }

    .table-header {
      display: grid;
      grid-template-columns: 3fr 1fr 1fr 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
      background: rgba(64, 224, 208, 0.1);
      border-bottom: 1px solid rgba(64, 224, 208, 0.3);
      font-weight: 600;
      color: #40e0d0;
    }

    .table-row {
      display: grid;
      grid-template-columns: 3fr 1fr 1fr 1fr 1fr;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(64, 224, 208, 0.1);
      transition: all 0.2s ease;
    }

    .table-row:hover {
      background: rgba(64, 224, 208, 0.05);
    }

    .table-row:last-child {
      border-bottom: none;
    }

    .endpoint-col code {
      background: rgba(0, 0, 0, 0.3);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      color: #40e0d0;
      font-size: 0.9rem;
    }

    .calls-col, .time-col, .success-col {
      text-align: center;
      font-weight: 600;
      color: #e0e6ed;
    }

    .trend-col {
      text-align: center;
    }

    .trend {
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .trend.positive {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .trend.negative {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    /* Business Grid */
    .business-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .business-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .business-card:hover {
      transform: translateY(-2px);
      border-color: #ffd700;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    }

    .business-icon {
      font-size: 2.5rem;
    }

    .business-content {
      flex: 1;
    }

    .business-value {
      font-size: 1.8rem;
      font-weight: 800;
      margin-bottom: 0.25rem;
    }

    .business-label {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .business-change {
      font-size: 0.8rem;
      font-weight: 600;
      padding: 0.25rem 0.5rem;
      border-radius: 8px;
    }

    .business-change.positive {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .business-change.negative {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }

    /* Advanced Analytics */
    .advanced-analytics {
      margin-top: 2rem;
    }

    .analytics-tools {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }

    .tool-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(59, 130, 246, 0.3);
      transition: all 0.3s ease;
      text-align: center;
    }

    .tool-card:hover {
      transform: translateY(-2px);
      border-color: #3b82f6;
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
    }

    .tool-card h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .tool-card p {
      color: #a0a9b8;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .tool-status {
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 1rem;
      padding: 0.25rem 0.5rem;
      border-radius: 12px;
      display: inline-block;
    }

    .tool-status.active {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }

    .tool-status.available {
      background: rgba(245, 158, 11, 0.2);
      color: #f59e0b;
    }

    .tool-btn {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .tool-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
    }

    /* Export Grid */
    .export-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .export-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid rgba(168, 85, 247, 0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .export-card:hover {
      transform: translateY(-2px);
      border-color: #a855f7;
      box-shadow: 0 8px 25px rgba(168, 85, 247, 0.2);
    }

    .export-content {
      flex: 1;
    }

    .export-content h3 {
      color: #e0e6ed;
      margin-bottom: 0.5rem;
    }

    .export-content p {
      color: #a0a9b8;
      font-size: 0.9rem;
    }

    .export-btn {
      background: linear-gradient(135deg, #a855f7, #7c3aed);
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .export-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
    }

    /* Navigation */
    .analytics-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      flex-wrap: wrap;
      gap: 1rem;
    }

    .nav-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 700;
      transition: all 0.3s ease;
    }

    .nav-btn.secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #e0e6ed;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .nav-btn.secondary:hover {
      border-color: #40e0d0;
      color: #40e0d0;
    }

    .nav-btn.primary {
      background: linear-gradient(135deg, #ffd700, #ff6b35);
      color: #000;
    }

    .nav-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
    }

    .nav-btn.accent {
      background: linear-gradient(135deg, #ff6b35, #a855f7);
      color: white;
    }

    .nav-btn.accent:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(168, 85, 247, 0.3);
    }

    /* Animations */
    @keyframes gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .api-analytics-container {
        padding: 1rem;
      }

      .header-content h1 {
        font-size: 2rem;
      }

      .header-status {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
      }

      .metrics-grid,
      .performance-grid,
      .business-grid,
      .analytics-tools,
      .export-grid {
        grid-template-columns: 1fr;
      }

      .endpoints-table {
        display: block;
        overflow-x: auto;
      }

      .table-header,
      .table-row {
        grid-template-columns: 1fr;
        gap: 0.5rem;
      }

      .table-header {
        display: none;
      }

      .table-row {
        padding: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        margin-bottom: 1rem;
      }

      .analytics-navigation {
        flex-direction: column;
        gap: 1rem;
      }

      .time-buttons {
        flex-direction: column;
      }

      .time-btn {
        text-align: center;
      }
    }
  `;
}

function getApiAnalyticsScripts(): string {
  return `
    // Enterprise API Analytics Hub - Interactive Features
    document.addEventListener('DOMContentLoaded', function() {
      initializeApiAnalytics();
    });

    function initializeApiAnalytics() {
      // Start live updates
      startAnalyticsUpdates();

      // Initialize sparklines
      initializeSparklines();

      // Setup time range selector
      setupTimeRangeSelector();

      // Setup event listeners
      setupAnalyticsEventListeners();
    }

    function startAnalyticsUpdates() {
      // Update metrics every 30 seconds
      setInterval(() => {
        updateLiveMetrics();
        updateLastUpdated();
      }, 30000);

      // Update endpoint analytics every 60 seconds
      setInterval(() => {
        updateEndpointAnalytics();
      }, 60000);
    }

    function updateLiveMetrics() {
      const metrics = document.querySelectorAll('.metric-card');
      metrics.forEach(metric => {
        // Add subtle animation to indicate update
        metric.style.animation = 'pulse 0.5s ease-in-out';
        setTimeout(() => {
          metric.style.animation = '';
        }, 500);
      });
    }

    function updateLastUpdated() {
      const lastUpdatedElement = document.getElementById('analyticsLastUpdate');
      if (lastUpdatedElement) {
        lastUpdatedElement.textContent = new Date().toLocaleTimeString();
      }
    }

    function updateEndpointAnalytics() {
      // Simulate endpoint data updates
      const endpointRows = document.querySelectorAll('.table-row');
      endpointRows.forEach(row => {
        // Add subtle animation
        row.style.animation = 'pulse 0.3s ease-in-out';
        setTimeout(() => {
          row.style.animation = '';
        }, 300);
      });
    }

    function initializeSparklines() {
      const sparklines = document.querySelectorAll('.metric-sparkline');
      sparklines.forEach((sparkline, index) => {
        const data = generateSparklineData(index);
        renderSparkline(sparkline, data);
      });
    }

    function generateSparklineData(index) {
      // Generate sample data for sparklines
      const baseValue = 50;
      const data = [];
      const trend = index % 2 === 0 ? 1 : -1; // Alternate trends

      for (let i = 0; i < 20; i++) {
        const variation = (Math.random() - 0.5) * 10;
        const trendEffect = trend * (i * 0.5);
        data.push(Math.max(0, Math.min(100, baseValue + variation + trendEffect)));
      }

      return data;
    }

    function renderSparkline(container, data) {
      const maxValue = Math.max(...data);
      const minValue = Math.min(...data);
      const range = maxValue - minValue;

      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('width', '100%');
      svg.setAttribute('height', '100%');
      svg.setAttribute('viewBox', '0 0 100 30');

      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
      let pathData = 'M0,30';

      data.forEach((value, index) => {
        const x = (index / (data.length - 1)) * 100;
        const y = 30 - ((value - minValue) / range) * 25;
        pathData += ' L' + x + ',' + y;
      });

      pathData += ' L100,30 Z';
      path.setAttribute('d', pathData);
      path.setAttribute('fill', 'rgba(64, 224, 208, 0.2)');
      path.setAttribute('stroke', '#40e0d0');
      path.setAttribute('stroke-width', '1.5');

      svg.appendChild(path);
      container.appendChild(svg);
    }

    function setupTimeRangeSelector() {
      const timeButtons = document.querySelectorAll('.time-btn');
      timeButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          timeButtons.forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');

          // Update analytics based on selected time range
          const timeRange = this.getAttribute('onclick').match(/'([^']+)'/)[1];
          updateAnalyticsForTimeRange(timeRange);
        });
      });
    }

    function setTimeRange(timeRange) {
      // This function is called from onclick handlers
      updateAnalyticsForTimeRange(timeRange);
    }

    function updateAnalyticsForTimeRange(timeRange) {
      // Simulate data update based on time range
      showNotification('Updating analytics for ' + timeRange + '...', 'info');

      setTimeout(() => {
        showNotification('Analytics updated for ' + timeRange, 'success');
        updateLiveMetrics();
      }, 1000);
    }

    function setupAnalyticsEventListeners() {
      // Tool buttons
      const toolButtons = document.querySelectorAll('.tool-btn');
      toolButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          const action = this.getAttribute('onclick');
          if (action.includes('openPredictiveAnalytics')) {
            openPredictiveAnalytics();
          } else if (action.includes('createCustomDashboard')) {
            createCustomDashboard();
          } else if (action.includes('openDeepAnalytics')) {
            openDeepAnalytics();
          } else if (action.includes('openComparativeAnalysis')) {
            openComparativeAnalysis();
          }
        });
      });
    }

    // Global functions for button onclick handlers
    function exportAnalyticsData(format) {
      const messages = {
        json: 'ğŸ“Š JSON Export Complete\\\\nâœ… Analytics data exported\\\\nğŸ“ File: analytics_' + new Date().toISOString().split('T')[0] + '.json\\\\nğŸ“ Location: Downloads folder',
        csv: 'ğŸ“‹ CSV Export Complete\\\\nâœ… Analytics data exported\\\\nğŸ“ File: analytics_' + new Date().toISOString().split('T')[0] + '.csv\\\\nğŸ“ Location: Downloads folder',
        pdf: 'ğŸ“„ PDF Report Generated\\\\nâœ… Executive summary created\\\\nğŸ“ File: analytics_report_' + new Date().toISOString().split('T')[0] + '.pdf\\\\nğŸ“ Location: Downloads folder',
        excel: 'ğŸ“ˆ Excel Export Complete\\\\nâœ… Interactive dashboard exported\\\\nğŸ“ File: fantasy402_analytics_' + new Date().toISOString().split('T')[0] + '.xlsx\\\\nğŸ“ Location: Downloads folder'
      };

      alert(messages[format] || 'Export completed successfully!');
      return false;
    }

    function configureScheduledReports() {
      alert('â° Scheduled Reports Configuration\\\\n\\\\nâœ… Configure automated reports:\\\\nâ€¢ Daily performance summary\\\\nâ€¢ Weekly business analytics\\\\nâ€¢ Monthly executive reports\\\\nâ€¢ Custom frequency options\\\\n\\\\nğŸ“§ Email delivery settings\\\\nğŸ”” Notification preferences\\\\nğŸ“ Export format selection');
      return false;
    }

    function setupBIIntegration() {
      alert('ğŸ“Š BI Integration Setup\\\\n\\\\nğŸ”— Connect with popular BI tools:\\\\nâ€¢ Tableau - Real-time dashboards\\\\nâ€¢ Power BI - Microsoft integration\\\\nâ€¢ Looker - Custom visualizations\\\\nâ€¢ Google Data Studio - Free option\\\\n\\\\nâš¡ Live data streaming\\\\nğŸ”„ Automatic sync\\\\nğŸ“ˆ Custom metrics');
      return false;
    }

    function openPredictiveAnalytics() {
      alert('ğŸ¯ Predictive Analytics Dashboard\\\\n\\\\nğŸ§  AI-Powered Insights:\\\\nâ€¢ Revenue forecasting\\\\nâ€¢ Client behavior prediction\\\\nâ€¢ Risk assessment\\\\nâ€¢ Performance optimization\\\\n\\\\nğŸ“Š Confidence levels: 87-95%\\\\nâš¡ Real-time updates\\\\nğŸ¯ Actionable recommendations');
    }

    function createCustomDashboard() {
      alert('ğŸ“Š Custom Dashboard Builder\\\\n\\\\nğŸ¨ Create personalized views:\\\\nâ€¢ Drag & drop widgets\\\\nâ€¢ Custom metric combinations\\\\nâ€¢ Interactive filters\\\\nâ€¢ Real-time data\\\\n\\\\nğŸ’¾ Save & share dashboards\\\\nğŸ“± Mobile-responsive design\\\\nğŸ”„ Auto-refresh options');
    }

    function openDeepAnalytics() {
      alert('ğŸ” Deep Analytics Explorer\\\\n\\\\nğŸ”¬ Advanced Analysis Tools:\\\\nâ€¢ Detailed performance metrics\\\\nâ€¢ Client segmentation analysis\\\\nâ€¢ Conversion funnel tracking\\\\nâ€¢ A/B testing results\\\\n\\\\nğŸ“ˆ Statistical significance\\\\nğŸ¯ Correlation analysis\\\\nâš¡ Real-time insights');
    }

    function openComparativeAnalysis() {
      alert('ğŸ“ˆ Comparative Analysis Tool\\\\n\\\\nâš–ï¸ Compare performance across:\\\\nâ€¢ Time periods (day/week/month)\\\\nâ€¢ Client segments\\\\nâ€¢ Geographic regions\\\\nâ€¢ Product categories\\\\n\\\\nğŸ“Š Visual comparisons\\\\nğŸ“ˆ Trend analysis\\\\nğŸ¯ Performance benchmarks');
    }

    function showNotification(message, type) {
      if (type === undefined) type = 'info';

      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      notification.innerHTML = '<div class="notification-content"><span class="notification-icon">' +
        (type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸') +
        '</span><span class="notification-message">' + message + '</span></div><button class="notification-close" onclick="this.parentElement.remove()">Ã—</button>';

      // Style the notification
      const backgroundColor = type === 'success' ? 'linear-gradient(135deg, #22c55e, #16a34a)' :
                             type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' :
                             'linear-gradient(135deg, #3b82f6, #1d4ed8)';

      notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' + backgroundColor +
        '; color: white; padding: 1rem 1.5rem; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); z-index: 10000; max-width: 400px; font-weight: 600; animation: slideInRight 0.3s ease-out;';

      // Add to page
      document.body.appendChild(notification);

      // Auto-remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'slideOutRight 0.3s ease-in';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // CSS animations for notifications
    const notificationStyles = \`
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    \`;

    // Inject notification styles
    const styleSheet = document.createElement('style');
    styleSheet.textContent = notificationStyles;
    document.head.appendChild(styleSheet);

    // Enhanced API Explorer Functions
    function initializeApiExplorer() {
      // Add click handlers for endpoint expansion
      document.querySelectorAll('.endpoint-summary').forEach(summary => {
        summary.addEventListener('click', function() {
          const endpoint = this.closest('.explorer-endpoint');
          const details = endpoint.querySelector('.endpoint-details-explorer');
          const isExpanded = details.style.display !== 'none';

          // Hide all other expanded details
          document.querySelectorAll('.endpoint-details-explorer').forEach(detail => {
            detail.style.display = 'none';
          });

          // Toggle current endpoint
          details.style.display = isExpanded ? 'none' : 'block';

          // Update expand button
          const btn = this.querySelector('.expand-btn');
          if (btn) {
            btn.textContent = isExpanded ? 'â–¼' : 'â–²';
          }
        });
      });
    }

    function initializeEndpointToggler() {
      // Add click handlers for expand buttons
      document.querySelectorAll('.expand-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const endpoint = this.closest('.explorer-endpoint');
          const details = endpoint.querySelector('.endpoint-details-explorer');
          const isExpanded = details.style.display !== 'none';

          details.style.display = isExpanded ? 'none' : 'block';
          this.textContent = isExpanded ? 'â–¼' : 'â–²';
        });
      });
    }

    function setupSearchAndFilter() {
      const searchInput = document.getElementById('apiSearch');
      const methodFilter = document.getElementById('methodFilter');

      if (searchInput) {
        searchInput.addEventListener('input', function() {
          filterEndpoints(this.value, methodFilter ? methodFilter.value : '');
        });
      }

      if (methodFilter) {
        methodFilter.addEventListener('change', function() {
          filterEndpoints(searchInput ? searchInput.value : '', this.value);
        });
      }
    }

    function filterEndpoints(searchTerm, methodFilter) {
      const endpoints = document.querySelectorAll('.explorer-endpoint');

      endpoints.forEach(endpoint => {
        const method = endpoint.getAttribute('data-method');
        const path = endpoint.getAttribute('data-path');
        const matchesSearch = !searchTerm ||
          path.toLowerCase().includes(searchTerm.toLowerCase()) ||
          method.toLowerCase().includes(searchTerm.toLowerCase());
        const matchesMethod = !methodFilter || method === methodFilter;

        endpoint.style.display = matchesSearch && matchesMethod ? 'block' : 'none';
      });

      // Update stats
      const visibleEndpoints = document.querySelectorAll('.explorer-endpoint[style*="display: block"], .explorer-endpoint:not([style*="display"])');
      const statElement = document.querySelector('.stat-item:first-child');
      if (statElement) {
        statElement.textContent = 'ğŸ“Š ' + visibleEndpoints.length + ' endpoints';
      }
    }

    function toggleEndpoint(index) {
      const details = document.getElementById('endpoint-' + index);
      const btn = document.querySelector('[onclick="toggleEndpoint(' + index + ')"]');

      if (details) {
        const isExpanded = details.style.display !== 'none';
        details.style.display = isExpanded ? 'none' : 'block';

        if (btn) {
          btn.textContent = isExpanded ? 'â–¼' : 'â–²';
        }
      }
    }

    function testEndpoint(path, method) {
      showNotification(\`ğŸ§ª Testing \${method} \${path}...\`, 'info');

      setTimeout(() => {
        const responses = ['200', '201', '400', '401', '429'];
        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        const isSuccess = randomResponse.startsWith('2');

        showNotification(
          \`Test Result: \${randomResponse} \${isSuccess ? 'âœ… Success' : 'âŒ Error'}\\\nEndpoint: \${path}\\\nMethod: \${method}\`,
          isSuccess ? 'success' : 'error'
        );
      }, 1500);
    }

    function copyEndpoint(path) {
      navigator.clipboard.writeText(path).then(() => {
        showNotification(\`ğŸ“‹ Copied to clipboard: \${path}\`, 'success');
      }).catch(err => {
        showNotification('Failed to copy endpoint URL', 'error');
      });
    }

    // Enhanced Code Copy Functions
    function copyToClipboard(element) {
      const codeBlock = element.closest('.code-block');
      const code = codeBlock.querySelector('code, pre');
      if (code) {
        navigator.clipboard.writeText(code.textContent || code.innerText).then(() => {
          showNotification('ğŸ“‹ Code copied to clipboard!', 'success');
        }).catch(err => {
          showNotification('Failed to copy code', 'error');
        });
      }
    }

    // Enhanced Testing Functions
    function executeTest() {
      const method = document.getElementById('test-method').value;
      const endpoint = document.getElementById('test-endpoint').value;
      const headers = document.getElementById('test-headers').value;
      const body = document.getElementById('test-body').value;
      const output = document.getElementById('test-output');

      if (!endpoint) {
        showNotification('Please enter an endpoint URL', 'error');
        return;
      }

      showNotification(\`ğŸ”„ Executing \${method} request to \${endpoint}...\`, 'info');

      // Simulate API call
      setTimeout(() => {
        const mockResponse = generateMockResponse(method, endpoint);
        output.innerHTML = \`<pre><code>\${mockResponse}</code></pre>\`;

        showNotification('âœ… API test completed!', 'success');
      }, 2000);
    }

    function generateMockResponse(method, endpoint) {
      const responses = {
        'GET /api/v2/clients': \`{
  "success": true,
  "data": {
    "clients": [
      {
        "id": "vip_123",
        "name": "Diamond Club Member",
        "status": "active",
        "balance": 50000.00
      }
    ],
    "pagination": {
      "total": 1,
      "page": 1,
      "limit": 50
    }
  },
  "timestamp": "\${new Date().toISOString()}"
}\`,
        'POST /api/v2/bets': \`{
  "success": true,
  "data": {
    "bet_id": "bet_\${Math.random().toString(36).substr(2, 9)}",
    "client_id": "vip_123",
    "amount": 500.00,
    "odds": 2.5,
    "status": "placed",
    "timestamp": "\${new Date().toISOString()}"
  },
  "timestamp": "\${new Date().toISOString()}"
}\`,
        'GET /api/v2/analytics': \`{
  "success": true,
  "data": {
    "total_clients": 1247,
    "active_bets": 89,
    "monthly_revenue": 2800000.00,
    "win_rate": 0.964,
    "avg_response_time": "2.3s",
    "period": "2024-01"
  },
  "timestamp": "\${new Date().toISOString()}"
}\`
      };

      return responses[\`\${method} \${endpoint}\`] || \`{
  "success": false,
  "error": "Endpoint not found",
  "message": "The requested endpoint does not exist or is not available for testing",
  "timestamp": "\${new Date().toISOString()}"
}\`;
    }

    // Enhanced Authentication Tab Switching
    function switchAuthTab(tab) {
      // Hide all auth content
      document.querySelectorAll('.auth-content').forEach(content => {
        content.classList.remove('active');
      });

      // Remove active class from all tabs
      document.querySelectorAll('.auth-tab').forEach(tabBtn => {
        tabBtn.classList.remove('active');
      });

      // Show selected tab content
      const selectedContent = document.getElementById(tab + '-auth');
      const selectedTab = document.querySelector('[onclick="switchAuthTab(\'' + tab + '\')"]');

      if (selectedContent) {
        selectedContent.classList.add('active');
      }
      if (selectedTab) {
        selectedTab.classList.add('active');
      }
    }

    // Enhanced API Overview Functions
    function initializeMetricsDashboard() {
      // Add click handlers for metric cards
      document.querySelectorAll('.metric-card').forEach(card => {
        card.addEventListener('click', function() {
          const metricLabel = this.querySelector('.metric-label').textContent;
          showMetricDetails(metricLabel);
        });
      });

      // Auto-refresh toggle
      const autoRefreshToggle = document.getElementById('autoRefresh');
      if (autoRefreshToggle) {
        autoRefreshToggle.addEventListener('change', function() {
          toggleAutoRefresh(this.checked);
        });
      }
    }

    function refreshMetrics() {
      showNotification('ğŸ”„ Refreshing metrics...', 'info');

      // Simulate refresh
      setTimeout(() => {
        // Add subtle animation to all metric cards
        document.querySelectorAll('.metric-card').forEach(card => {
          card.style.animation = 'pulse 0.5s ease-in-out';
          setTimeout(() => {
            card.style.animation = '';
          }, 500);
        });

        showNotification('âœ… Metrics refreshed successfully!', 'success');
      }, 1000);
    }

    function toggleAutoRefresh(enabled) {
      if (enabled) {
        showNotification('ğŸ”„ Auto-refresh enabled', 'info');
      } else {
        showNotification('â¸ï¸ Auto-refresh disabled', 'info');
      }
    }

    function showMetricDetails(metricLabel) {
      const details = {
        'Total APIs': '247 APIs across 6 categories with 99.9% uptime',
        'Active Calls': '47.2K API calls in the last 24 hours',
        'Success Rate': '99.9% success rate with comprehensive error handling',
        'Avg Response': '142ms average response time with optimization'
      };

      alert('ğŸ“Š ' + metricLabel + ' Details\n\n' + (details[metricLabel] || 'Detailed metrics information'));
    }

    function initializePerformanceChart() {
      // Chart period buttons
      document.querySelectorAll('.chart-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          // Remove active class from all buttons
          document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');

          const period = this.textContent.toLowerCase();
          setChartPeriod(period);
        });
      });
    }

    function setChartPeriod(period) {
      const chartContainer = document.querySelector('.chart-placeholder');
      if (chartContainer) {
        chartContainer.innerHTML = '<div class="placeholder-icon">ğŸ“ˆ</div><div class="placeholder-text">Loading ' + period.toUpperCase() + ' performance data...</div><div class="loading-spinner"></div>';

        // Simulate data loading
        setTimeout(() => {
          chartContainer.innerHTML = '<div class="placeholder-icon">ğŸ“Š</div><div class="placeholder-text">' + period.toUpperCase() + ' chart data loaded!</div><div class="chart-data-summary"><div class="data-point">Peak: 99.9%</div><div class="data-point">Avg: 99.7%</div><div class="data-point">Min: 98.2%</div></div>';
        }, 2000);
      }
    }

    function initializeCategoryNavigation() {
      // Enhanced category card interactions
      document.querySelectorAll('.api-category-card').forEach(card => {
        card.addEventListener('click', function() {
          const title = this.querySelector('.category-title').textContent;
          navigateToCategory(title.toLowerCase().replace(/\s+/g, '_'));
        });
      });

      // Quick action buttons
      document.querySelectorAll('.action-btn.small').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const action = this.textContent.toLowerCase().replace(/\s+/g, '_');
          quickAction(action);
        });
      });

      // Link buttons
      document.querySelectorAll('.link-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          const action = this.textContent.toLowerCase().replace(/\s+/g, '_');
          quickAction(action);
        });
      });
    }

    function navigateToCategory(endpoint) {
      showNotification('ğŸš€ Navigating to ' + endpoint.replace('_', ' ') + '...', 'info');
      setTimeout(() => {
        showNotification('âœ… ' + endpoint.replace('_', ' ') + ' loaded successfully!', 'success');
        // In a real app, this would navigate to the category page
      }, 1000);
    }

    function quickAction(action) {
      const actions = {
        'quick_access': 'Opening quick access panel...',
        'docs': 'Opening documentation...',
        'metrics': 'Loading metrics dashboard...',
        'alerts': 'Checking system alerts...'
      };

      showNotification(actions[action] || 'Action executed!', 'info');

      setTimeout(() => {
        showNotification('âœ… Action completed successfully!', 'success');
      }, 1500);
    }

    function showNotification(message, type) {
      if (type === undefined) type = 'info';

      // Create notification element
      const notification = document.createElement('div');
      notification.className = 'notification ' + type;
      notification.innerHTML = '<div class="notification-content"><span class="notification-icon">' +
        (type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸') +
        '</span><span class="notification-message">' + message + '</span></div><button class="notification-close" onclick="this.parentElement.remove()">Ã—</button>';

      // Style the notification
      const backgroundColor = type === 'success' ? 'linear-gradient(135deg, #22c55e, #16a34a)' :
                             type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' :
                             'linear-gradient(135deg, #3b82f6, #1d4ed8)';

      notification.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' + backgroundColor +
        '; color: white; padding: 1rem 1.5rem; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); z-index: 10000; max-width: 400px; font-weight: 600; animation: slideInRight 0.3s ease-out;';

      // Add to page
      document.body.appendChild(notification);

      // Auto-remove after 5 seconds
      setTimeout(() => {
        if (notification.parentElement) {
          notification.style.animation = 'slideOutRight 0.3s ease-in';
          setTimeout(() => notification.remove(), 300);
        }
      }, 5000);
    }

    // Add CSS animations for notifications
    const notificationStyles = \`
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    \`;

    // Inject notification styles
    const styleSheet = document.createElement('style');
    styleSheet.textContent = notificationStyles;
    document.head.appendChild(styleSheet);
  `;
}
