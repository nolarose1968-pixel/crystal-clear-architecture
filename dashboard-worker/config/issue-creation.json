{
  "templates": [
    {
      "id": "critical-system-failure",
      "name": "Critical System Failure",
      "severity": "CRITICAL",
      "category": "SYSTEM",
      "title": "üö® CRITICAL: {{errorCode}} - {{errorName}}",
      "body": "## Critical System Failure Detected\n\n**Error Code:** `{{errorCode}}`\n**Error Name:** {{errorName}}\n**Category:** {{category}}\n**Severity:** {{severity}}\n\n### Description\n{{description}}\n\n### Occurrence Details\n- **Count:** {{occurrenceCount}} times in {{timeWindow}}\n- **First Seen:** {{firstSeen}}\n- **Last Seen:** {{lastSeen}}\n- **Affected Users:** {{affectedUsers}}\n\n### Recent Context\n```json\n{{recentContext}}\n```\n\n### Common Causes\n{{#each causes}}\n- {{this}}\n{{/each}}\n\n### Suggested Solutions\n{{#each solutions}}\n1. {{this}}\n{{/each}}\n\n### Documentation\n{{#each documentationLinks}}\n- [{{title}}]({{url}})\n{{/each}}\n\n### System Impact\n- **Business Impact:** HIGH - Core system functionality affected\n- **User Impact:** {{userImpact}}\n- **Estimated Resolution Time:** {{estimatedResolutionTime}}\n\n---\n*This issue was automatically created by the Fire22 Error Management System*\n*Alert ID: {{alertId}}*\n*Created: {{createdAt}}*",
      "labels": ["critical", "system-failure", "auto-created"],
      "assignees": ["platform-team"],
      "priority": "critical",
      "provider": "github"
    },
    {
      "id": "database-connectivity-issue",
      "name": "Database Connectivity Issue",
      "errorCode": "E2001",
      "category": "DATABASE",
      "title": "üóÑÔ∏è Database Connection Issue: {{errorCode}}",
      "body": "## Database Connectivity Problem\n\n**Error:** {{errorCode}} - {{errorName}}\n**Occurrences:** {{occurrenceCount}} in {{timeWindow}}\n\n### Recent Failures\n{{#each recentOccurrences}}\n- **{{timestamp}}**: {{context.query}} (Duration: {{context.duration}}ms)\n{{/each}}\n\n### Troubleshooting Steps\n1. Check database server status and connectivity\n2. Verify connection pool configuration\n3. Review network connectivity\n4. Check database server resources (CPU, memory, disk)\n5. Validate connection string and credentials\n\n### Monitoring\n- **Database Health Dashboard:** [Link to monitoring dashboard]\n- **Recent Performance:** [Link to performance metrics]\n\n### Escalation\nIf this issue persists for more than 30 minutes, escalate to:\n- Database Team (database-team@company.com)\n- Platform Engineering (platform-engineering@company.com)\n\n---\n*Auto-created from Fire22 Error Management System*",
      "labels": ["database", "connectivity", "infrastructure"],
      "assignees": ["database-team"],
      "priority": "high",
      "provider": "github"
    },
    {
      "id": "security-incident",
      "name": "Security Incident",
      "category": "SECURITY",
      "title": "üîí SECURITY ALERT: {{errorCode}} - {{errorName}}",
      "body": "## Security Incident Detected\n\n**‚ö†Ô∏è SECURITY ALERT - IMMEDIATE ATTENTION REQUIRED**\n\n**Error Code:** `{{errorCode}}`\n**Incident Type:** {{errorName}}\n**Severity:** {{severity}}\n\n### Incident Summary\n{{description}}\n\n### Threat Details\n- **Detection Time:** {{detectionTime}}\n- **Affected Systems:** {{affectedSystems}}\n- **Source IPs:** {{sourceIPs}}\n- **Attack Pattern:** {{attackPattern}}\n\n### Immediate Actions Taken\n- [x] Automated alerting triggered\n- [ ] Security team notified\n- [ ] Incident response initiated\n- [ ] Threat containment assessed\n\n### Investigation Required\n{{#each investigationSteps}}\n- [ ] {{this}}\n{{/each}}\n\n### Recommended Response\n{{#each responseActions}}\n1. **{{action}}**: {{description}}\n{{/each}}\n\n**üö® This is a security incident requiring immediate response**\n\n### Contact Information\n- **Security Team:** security@company.com\n- **Incident Commander:** @security-lead\n- **Emergency Escalation:** security-emergency@company.com\n\n---\n*Security Alert Auto-Generated by Fire22 Error Management System*\n*Incident ID: {{incidentId}}*\n*Classification: {{classification}}*",
      "labels": ["security", "incident", "urgent", "auto-created"],
      "assignees": ["security-team"],
      "priority": "critical",
      "provider": "github"
    },
    {
      "id": "fire22-integration-failure",
      "name": "Fire22 Integration Failure",
      "errorCode": "E7001",
      "category": "FIRE22",
      "title": "üèà Fire22 Integration Failure: {{errorCode}}",
      "body": "## Fire22 Sportsbook Integration Issue\n\n**Error:** {{errorCode}} - {{errorName}}\n**Integration Status:** FAILED\n**Business Impact:** HIGH\n\n### Failure Details\n- **Service:** Fire22 Sportsbook API\n- **Endpoint:** {{failedEndpoint}}\n- **Error Count:** {{occurrenceCount}} in {{timeWindow}}\n- **Last Successful Call:** {{lastSuccessfulCall}}\n\n### Impact Assessment\n- **Betting Operations:** {{bettingImpact}}\n- **Customer Experience:** {{customerImpact}}\n- **Revenue Impact:** {{revenueImpact}}\n\n### Integration Health\n- **API Status:** {{apiStatus}}\n- **Authentication:** {{authStatus}}\n- **Rate Limits:** {{rateLimitStatus}}\n- **Network Connectivity:** {{networkStatus}}\n\n### Recovery Actions\n1. **Immediate:**\n   - [ ] Check Fire22 API status page\n   - [ ] Verify authentication tokens\n   - [ ] Test network connectivity to fire22.ag\n   \n2. **Short-term:**\n   - [ ] Implement circuit breaker if not already active\n   - [ ] Enable fallback mechanisms\n   - [ ] Contact Fire22 technical support\n   \n3. **Long-term:**\n   - [ ] Review integration monitoring\n   - [ ] Update error handling\n   - [ ] Improve resilience patterns\n\n### Fire22 Support\n- **Technical Support:** technical-support@fire22.ag\n- **API Documentation:** https://docs.fire22.ag/api\n- **Status Page:** https://status.fire22.ag\n\n---\n*Fire22 Integration Monitoring - Auto-Generated Issue*",
      "labels": ["fire22", "integration", "sportsbook", "revenue-impact"],
      "assignees": ["fire22-integration-team"],
      "priority": "high",
      "provider": "github"
    }
  ],
  "rules": [
    {
      "id": "critical-error-immediate-issue",
      "name": "Critical Errors - Immediate Issue Creation",
      "enabled": true,
      "severity": "CRITICAL",
      "conditions": [
        {
          "type": "occurrence_count",
          "operator": "greater_than",
          "value": 1,
          "timeWindow": "5m"
        }
      ],
      "template": "critical-system-failure",
      "cooldown": "30m",
      "autoAssign": true,
      "escalation": {
        "afterHours": 2,
        "escalateTo": ["engineering-manager", "cto"],
        "actions": ["slack-ping", "email-alert"]
      }
    },
    {
      "id": "database-connection-failures",
      "name": "Database Connection Failures",
      "enabled": true,
      "errorCode": "E2001",
      "conditions": [
        {
          "type": "occurrence_count",
          "operator": "greater_than",
          "value": 3,
          "timeWindow": "10m"
        }
      ],
      "template": "database-connectivity-issue",
      "cooldown": "1h",
      "autoAssign": true
    },
    {
      "id": "security-incidents",
      "name": "Security Incidents",
      "enabled": true,
      "category": "SECURITY",
      "conditions": [
        {
          "type": "occurrence_count",
          "operator": "greater_than",
          "value": 5,
          "timeWindow": "5m"
        }
      ],
      "template": "security-incident",
      "cooldown": "15m",
      "autoAssign": true,
      "escalation": {
        "afterHours": 1,
        "escalateTo": ["security-lead", "ciso"],
        "actions": ["page-security-team", "create-incident"]
      }
    },
    {
      "id": "fire22-integration-failures",
      "name": "Fire22 Integration Failures",
      "enabled": true,
      "category": "FIRE22",
      "conditions": [
        {
          "type": "occurrence_count",
          "operator": "greater_than",
          "value": 10,
          "timeWindow": "15m"
        },
        {
          "type": "business_hours",
          "operator": "equals",
          "value": "true"
        }
      ],
      "template": "fire22-integration-failure",
      "cooldown": "2h",
      "autoAssign": true
    }
  ],
  "providers": [
    {
      "id": "github-main",
      "type": "github",
      "config": {
        "owner": "fire22-company",
        "repo": "dashboard-worker",
        "token": "github_pat_xxx",
        "apiUrl": "https://api.github.com"
      }
    }
  ]
}
