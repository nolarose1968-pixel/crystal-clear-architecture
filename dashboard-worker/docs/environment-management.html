<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Environment Management System - Fire22 Dashboard</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
        color: #fff;
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        padding: 30px 0;
        margin-bottom: 30px;
      }

      h1 {
        font-size: 2.8rem;
        margin-bottom: 10px;
        background: linear-gradient(90deg, #fdbb2d, #b21f1f);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .subtitle {
        font-size: 1.2rem;
        opacity: 0.8;
        margin-bottom: 20px;
      }

      .card {
        background: rgba(255, 255, 255, 0.08);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(10px);
      }

      h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #fdbb2d;
      }

      h3 {
        font-size: 1.4rem;
        margin: 15px 0;
        color: #b21f1f;
      }

      .code-block {
        background: #1e1e1e;
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
        overflow-x: auto;
        font-family: 'Fira Code', monospace;
      }

      pre {
        white-space: pre-wrap;
        line-height: 1.5;
      }

      .code-keyword {
        color: #569cd6;
      }

      .code-function {
        color: #dcdcaa;
      }

      .code-string {
        color: #ce9178;
      }

      .code-comment {
        color: #6a9955;
      }

      .env-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      .env-table th,
      .env-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .env-table th {
        background: rgba(0, 0, 0, 0.3);
        font-weight: 600;
        color: #fdbb2d;
      }

      .env-table tr:hover {
        background: rgba(255, 255, 255, 0.05);
      }

      .benefits {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }

      .benefit-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
      }

      .benefit-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: #fdbb2d;
      }

      .callout {
        background: rgba(253, 187, 45, 0.1);
        border-left: 4px solid #fdbb2d;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }

      .cli-commands {
        background: rgba(0, 0, 0, 0.2);
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .cli-command {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 8px;
        margin: 10px 0;
        font-family: 'Fira Code', monospace;
      }

      .cli-command strong {
        color: #fdbb2d;
      }

      .brand-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding: 20px 0;
        border-bottom: 2px solid rgba(253, 187, 45, 0.3);
      }

      .brand-logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        font-size: 3rem;
        animation: flame-flicker 2s ease-in-out infinite alternate;
      }

      @keyframes flame-flicker {
        0%,
        100% {
          transform: scale(1) rotate(-2deg);
        }
        50% {
          transform: scale(1.1) rotate(2deg);
        }
      }

      .company-name {
        font-size: 2.5rem;
        margin: 0;
        background: linear-gradient(90deg, #fdbb2d, #b21f1f);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-weight: 700;
        letter-spacing: 2px;
      }

      .company-tagline {
        font-size: 1rem;
        color: rgba(255, 255, 255, 0.8);
        font-style: italic;
        letter-spacing: 1px;
      }

      .brand-nav {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .nav-link {
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        padding: 10px 15px;
        border-radius: 25px;
        transition: all 0.3s ease;
        border: 1px solid transparent;
        font-weight: 500;
      }

      .nav-link:hover {
        color: #fdbb2d;
        background: rgba(253, 187, 45, 0.1);
        border-color: rgba(253, 187, 45, 0.3);
        transform: translateY(-2px);
      }

      .nav-link.active {
        color: #fdbb2d;
        background: rgba(253, 187, 45, 0.15);
        border-color: #fdbb2d;
      }

      /* Matrix Health Styles */
      .matrix-health-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .matrix-status-item {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        border: 1px solid rgba(253, 187, 45, 0.2);
      }

      .status-label {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .status-value {
        font-size: 2rem;
        font-weight: bold;
        color: #fdbb2d;
        margin-bottom: 10px;
      }

      .status-description {
        font-size: 0.8rem;
        color: rgba(255, 255, 255, 0.6);
        line-height: 1.4;
      }

      .matrix-actions {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
        flex-wrap: wrap;
      }

      .matrix-action-btn {
        background: linear-gradient(135deg, #fdbb2d, #b21f1f);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
      }

      .matrix-action-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(253, 187, 45, 0.3);
      }

      .matrix-action-btn:active {
        transform: translateY(0);
      }

      .footer {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 15px;
        padding: 30px;
        margin-top: 50px;
        text-align: center;
        border-top: 2px solid rgba(253, 187, 45, 0.3);
      }

      @media (max-width: 768px) {
        .brand-header {
          flex-direction: column;
          gap: 20px;
          text-align: center;
        }

        .brand-nav {
          justify-content: center;
        }

        .company-name {
          font-size: 2rem;
        }

        .logo-icon {
          font-size: 2.5rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="brand-header">
          <div class="brand-logo">
            <div class="logo-icon">üî•</div>
            <div class="logo-text">
              <h1 class="company-name">Fire22</h1>
              <span class="company-tagline">Igniting Digital Innovation</span>
            </div>
          </div>
          <div class="brand-nav">
            <a href="packages.html" class="nav-link">üì¶ Packages</a>
            <a href="environment-variables.html" class="nav-link">üåç Environment</a>
            <a href="environment-management.html" class="nav-link active">‚öôÔ∏è Env Manager</a>
            <a href="api-packages.html" class="nav-link">üîå API</a>
            <a href="fire22-dashboard-config.html" class="nav-link">‚öôÔ∏è Config</a>
            <a href="@packages.html" class="nav-link">üß™ Testing</a>
          </div>
        </div>
        <div class="page-header">
          <h2>Environment Management System</h2>
          <p class="subtitle">Complete guide to the Fire22 Environment Manager package</p>
        </div>
      </header>

      <div class="card">
        <h2>üîó Dashboard Worker Integration Hub</h2>
        <p>Your Environment Manager is fully integrated with the Fire22 Dashboard Worker system:</p>

        <div class="benefits">
          <div class="benefit-card">
            <div class="benefit-icon">üì¶</div>
            <h3>Package.json</h3>
            <p><code>dashboard-worker/package.json</code></p>
            <p>Core configuration with environment management scripts</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">‚öôÔ∏è</div>
            <h3>Environment Manager</h3>
            <p>
              <code>environment-management.html</code>
              (current file)
            </p>
            <p>Environment variables, validation, and security auditing</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîó</div>
            <h3>Hub Connection</h3>
            <p><a href="../src/config/hub-connection.ts" class="nav-link">src/config/hub-connection.ts</a></p>
            <p>Centralized D1, R2, SQLite & Language connections</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üß™</div>
            <h3>Testing Playground</h3>
            <p><a href="@packages.html" class="nav-link">@packages.html</a></p>
            <p>Advanced testing for all bun pm pkg operations</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üåç</div>
            <h3>Environment Variables</h3>
            <p><a href="environment-variables.html" class="nav-link">environment-variables.html</a></p>
            <p>Complete environment configuration guide</p>
          </div>
        </div>

        <div class="callout">
          <strong>üîó All Systems Connected:</strong>
          Your dashboard worker documentation is now fully linked and integrated. Navigate seamlessly between
          package.json configuration, environment management, hub connections, and comprehensive testing.
        </div>
      </div>

      <div class="card">
        <h2>üöÄ Environment Manager Package Overview</h2>
        <p>
          The Environment Manager package provides comprehensive environment variable management, configuration
          validation, security auditing, and environment switching capabilities for the Fire22 Dashboard.
        </p>

        <div class="benefits">
          <div class="benefit-card">
            <div class="benefit-icon">üîí</div>
            <h3>Security First</h3>
            <p>Advanced security auditing and secret management</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">‚ö°</div>
            <h3>High Performance</h3>
            <p>Optimized environment loading and validation</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîÑ</div>
            <h3>Environment Switching</h3>
            <p>Seamless switching between dev, staging, and production</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üìä</div>
            <h3>Real-time Monitoring</h3>
            <p>Live environment health and performance metrics</p>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>üì¶ Package Structure</h2>
        <p>The Environment Manager package is organized for maximum modularity and reusability:</p>

        <div class="code-block">
          <pre><span class="code-comment">packages/env-manager/</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">src/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">index.ts</span>          <span class="code-comment"># Main entry point</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">types.ts</span>          <span class="code-comment"># Type definitions</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">validators.ts</span>      <span class="code-comment"># Validation logic</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">security.ts</span>        <span class="code-comment"># Security auditing</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="code-function">monitoring.ts</span>     <span class="code-comment"># Performance monitoring</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">dist/</span>                <span class="code-comment"># Built output</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">package.json</span>        <span class="code-comment"># Package configuration</span>
‚îî‚îÄ‚îÄ <span class="code-keyword">README.md</span>           <span class="code-comment"># Documentation</span></pre>
        </div>
      </div>

      <div class="card">
        <h2>üîó Integration with Dashboard Worker</h2>
        <p>
          This Environment Manager integrates seamlessly with your main dashboard worker package.json and testing
          system:
        </p>

        <div class="callout">
          <strong>üìÅ Main Package.json:</strong>
          Located at
          <code>dashboard-worker/package.json</code>
          , this file contains comprehensive configuration for environment management, testing, and all bun pm pkg
          operations.
        </div>

        <div class="cli-commands">
          <h4>üîß Environment Management Commands</h4>
          <div class="cli-command">
            <strong>Environment Operations:</strong>
            <br />

            <code>bun run env:validate</code>
            <br />

            <code>bun run env:check</code>
            <br />

            <code>bun run env:setup</code>
            <br />

            <code>bun run env:audit</code>
          </div>

          <div class="cli-command">
            <strong>Testing & Validation:</strong>
            <br />

            <code>bun run env:test</code>
            <br />

            <code>bun run env:performance</code>
            <br />

            <code>bun run env:integration</code>
            <br />

            <code>bun run env:demo</code>
          </div>

          <div class="cli-command">
            <strong>Advanced Testing:</strong>
            <br />
            <a href="@packages.html" class="nav-link">üß™ Testing Playground</a>
            - Comprehensive testing for all bun pm pkg operations
            <br />
            <code>bun run test:quick</code>
            - Quick health check
            <br />

            <code>bun run test:checklist</code>
            - Full validation before deployment
          </div>
        </div>

        <div class="success">
          <strong>‚úÖ Fully Integrated:</strong>
          Your environment management system is now fully linked with the dashboard worker package.json and testing
          infrastructure.
        </div>
      </div>

      <div class="card">
        <h2>üìÅ Dashboard Worker File Structure</h2>
        <p>Your complete dashboard worker system is organized for maximum integration and environment management:</p>

        <div class="code-block">
          <pre><span class="code-comment">dashboard-worker/</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">package.json</span>                    <span class="code-comment"># Main configuration & environment scripts</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">docs/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">environment-management.html</span>         <span class="code-comment"># ‚öôÔ∏è Environment Manager (current file)</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">@packages.html</span>               <span class="code-comment"># üß™ Testing Playground</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">environment-variables.html</span>   <span class="code-comment"># üåç Environment Guide</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">packages.html</span>                <span class="code-comment"># üì¶ Package Management</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="code-function">api-packages.html</span>            <span class="code-comment"># üîå API Integration</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="code-function">fire22-dashboard-config.html</span> <span class="code-comment"># ‚öôÔ∏è Configuration Guide</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">src/</span>                             <span class="code-comment"># Source code & API endpoints</span>
‚îú‚îÄ‚îÄ <span class="code-keyword">scripts/</span>                        <span class="code-comment"># Build & deployment scripts</span>
‚îî‚îÄ‚îÄ <span class="code-keyword">packages/</span>                       <span class="code-comment"># Modular packages (env-manager, etc.)</span></pre>
        </div>

        <div class="callout">
          <strong>üîó Navigation Flow:</strong>
          <code>package.json</code>
          ‚Üí
          <code>environment-management.html</code>
          (Environment Manager) ‚Üí
          <a href="@packages.html">Testing Playground</a>
          ‚Üí
          <a href="environment-variables.html">Environment Guide</a>
        </div>
      </div>

      <div class="card">
        <h2>üîß Core Features</h2>

        <h3>1. Hub Connection Management</h3>
        <p>
          Central connection management through
          <a href="../src/config/hub-connection.ts" class="nav-link">hub-connection.ts</a>
          :
        </p>
        <div class="code-block">
          <pre><span class="code-keyword">import</span> { hubConnection } <span class="code-keyword">from</span> <span class="code-string">'../src/config/hub-connection'</span>;

<span class="code-comment">// Connect to all services through hub</span>
<span class="code-keyword">const</span> result = <span class="code-keyword">await</span> hubConnection.connectToHub();
console.log(<span class="code-string">'Connected services:'</span>, result.connections.length);

<span class="code-comment">// Execute D1 database query</span>
<span class="code-keyword">const</span> data = <span class="code-keyword">await</span> hubConnection.executeD1Query(
  <span class="code-string">'fire22-dashboard'</span>, 
  <span class="code-string">'SELECT * FROM config WHERE env = ?'</span>, 
  [<span class="code-string">'production'</span>]
);

<span class="code-comment">// Sync language data</span>
<span class="code-keyword">await</span> hubConnection.syncLanguageData(<span class="code-string">'push'</span>);</pre>
        </div>

        <h3>2. Environment Loading & Validation</h3>
        <div class="code-block">
          <pre><span class="code-keyword">import</span> { EnvironmentManager } <span class="code-keyword">from</span> <span class="code-string">'@fire22/env-manager'</span>;

<span class="code-keyword">const</span> envManager = <span class="code-keyword">new</span> EnvironmentManager();

<span class="code-comment">// Load and validate environment</span>
<span class="code-keyword">const</span> result = <span class="code-keyword">await</span> envManager.loadEnv();
<span class="code-keyword">if</span> (result.success) {
  console.log(<span class="code-string">'‚úÖ Environment loaded successfully'</span>);
} <span class="code-keyword">else</span> {
  console.error(<span class="code-string">'‚ùå Environment validation failed:'</span>, result.errors);
}</pre>
        </div>

        <h3>2. Security Auditing</h3>
        <div class="code-block">
          <pre><span class="code-comment">// Run comprehensive security audit</span>
<span class="code-keyword">const</span> audit = <span class="code-keyword">await</span> envManager.runSecurityAudit();
console.log(<span class="code-string">'Security Score:'</span>, audit.score);
console.log(<span class="code-string">'Vulnerabilities:'</span>, audit.vulnerabilities.length);
console.log(<span class="code-string">'Recommendations:'</span>, audit.recommendations);</pre>
        </div>

        <h3>3. Performance Monitoring</h3>
        <div class="code-block">
          <pre><span class="code-comment">// Monitor environment performance</span>
<span class="code-keyword">const</span> metrics = <span class="code-keyword">await</span> envManager.monitorPerformance();
console.log(<span class="code-string">'Load Time:'</span>, metrics.loadTime, <span class="code-string">'ms'</span>);
console.log(<span class="code-string">'Memory Usage:'</span>, metrics.memoryUsage);
console.log(<span class="code-string">'CPU Usage:'</span>, metrics.cpuUsage);</pre>
        </div>
      </div>

      <div class="card">
        <h2>üìã CLI Commands</h2>
        <p>The Environment Manager integrates with the main dashboard CLI system:</p>

        <div class="cli-commands">
          <div class="cli-command">
            <strong>Core Commands:</strong>
            <br />

            <code>bun run env:validate</code>
            - Validate environment configuration
            <br />

            <code>bun run env:check</code>
            - Check environment status
            <br />

            <code>bun run env:list</code>
            - List all environment variables (masked)
          </div>

          <div class="cli-command">
            <strong>Security & Performance:</strong>
            <br />

            <code>bun run env:audit</code>
            - Run security audit
            <br />

            <code>bun run env:performance</code>
            - Check performance metrics
            <br />

            <code>bun run env:monitor</code>
            - Real-time monitoring
          </div>

          <div class="cli-command">
            <strong>Advanced Features:</strong>
            <br />

            <code>bun run env:backup</code>
            - Backup current environment
            <br />

            <code>bun run env:restore</code>
            - Restore from backup
            <br />

            <code>bun run env:sync</code>
            - Sync across environments
          </div>
        </div>
      </div>

      <div class="card">
        <h2>üîó Hub Connection Configuration</h2>
        <p>
          The Hub Connection system centralizes all database and service connections through
          <code>src/config/hub-connection.ts</code>
          :
        </p>

        <h3>üåê Supported Services</h3>
        <div class="env-table">
          <thead>
            <tr>
              <th>Service</th>
              <th>Connection Type</th>
              <th>Environment Variable</th>
              <th>Default Endpoint</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Fire22 Dashboard DB</td>
              <td>D1 Database</td>
              <td><code>HUB_URL</code></td>
              <td>localhost:3001/api/d1/fire22-dashboard</td>
            </tr>
            <tr>
              <td>Fire22 Registry DB</td>
              <td>D1 Database</td>
              <td><code>HUB_URL</code></td>
              <td>localhost:3001/api/d1/fire22-registry</td>
            </tr>
            <tr>
              <td>Fire22 Packages</td>
              <td>R2 Storage</td>
              <td><code>HUB_URL</code></td>
              <td>localhost:3001/api/r2/fire22-packages</td>
            </tr>
            <tr>
              <td>SQLite Local</td>
              <td>SQLite with Hub Sync</td>
              <td><code>HUB_URL</code></td>
              <td>localhost:3001/api/sqlite/sync</td>
            </tr>
            <tr>
              <td>Language System</td>
              <td>Language Data Sync</td>
              <td><code>HUB_URL</code></td>
              <td>localhost:3001/api/language/sync</td>
            </tr>
          </tbody>
        </div>

        <h3>‚öôÔ∏è Hub Connection CLI Commands</h3>
        <div class="cli-commands">
          <div class="cli-command">
            <strong>Hub Connection Management:</strong>
            <br />
            <code>bun run hub:connect</code>
            - Connect to all hub services
            <br />
            <code>bun run hub:status</code>
            - Check all connection statuses
            <br />
            <code>bun run hub:health</code>
            - Comprehensive health check
          </div>

          <div class="cli-command">
            <strong>Database Operations:</strong>
            <br />
            <code>bun run hub:d1:query</code>
            - Execute D1 database queries
            <br />
            <code>bun run hub:r2:upload</code>
            - Upload files to R2 storage
            <br />
            <code>bun run hub:sqlite:sync</code>
            - Sync SQLite with hub
          </div>

          <div class="cli-command">
            <strong>Language Synchronization:</strong>
            <br />
            <code>bun run hub:lang:push</code>
            - Push language data to hub
            <br />
            <code>bun run hub:lang:pull</code>
            - Pull language data from hub
            <br />
            <code>bun run hub:lang:sync</code>
            - Full language data sync
          </div>
        </div>
      </div>

      <div class="card">
        <h2>üîí Security Features</h2>
        <p>The Environment Manager includes enterprise-grade security features:</p>

        <div class="env-table">
          <thead>
            <tr>
              <th>Security Feature</th>
              <th>Description</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Secret Validation</td>
              <td>Minimum length and complexity requirements</td>
              <td>‚úÖ Active</td>
            </tr>
            <tr>
              <td>Pattern Detection</td>
              <td>Detect exposed API keys and secrets</td>
              <td>‚úÖ Active</td>
            </tr>
            <tr>
              <td>Environment Isolation</td>
              <td>Prevent cross-environment contamination</td>
              <td>‚úÖ Active</td>
            </tr>
            <tr>
              <td>Audit Logging</td>
              <td>Track all environment changes</td>
              <td>‚úÖ Active</td>
            </tr>
          </tbody>
        </div>
      </div>

      <!-- üÜï NEW: Matrix Health Monitoring -->
      <div class="card">
        <h2>üîç Matrix Health Monitoring</h2>
        <p>Integrated permissions matrix health checking and validation:</p>

        <div class="matrix-health-grid">
          <div class="matrix-status-item">
            <div class="status-label">Matrix Health Score</div>
            <div class="status-value" id="matrix-health-score">--</div>
            <div class="status-description">Overall system health rating</div>
          </div>

          <div class="matrix-status-item">
            <div class="status-label">Data Completeness</div>
            <div class="status-value" id="data-completeness">--</div>
            <div class="status-description">Percentage of complete data</div>
          </div>

          <div class="matrix-status-item">
            <div class="status-label">Permission Coverage</div>
            <div class="status-value" id="permission-coverage">--</div>
            <div class="status-description">Coverage of permission matrix</div>
          </div>

          <div class="matrix-status-item">
            <div class="status-label">Agent Data Quality</div>
            <div class="status-value" id="agent-data-quality">--</div>
            <div class="status-description">Quality of agent configuration data</div>
          </div>
        </div>

        <div class="matrix-actions">
          <button class="matrix-action-btn" onclick="checkMatrixHealth()">üîç Check Matrix Health</button>
          <button class="matrix-action-btn" onclick="validatePermissions()">‚úÖ Validate Permissions</button>
          <button class="matrix-action-btn" onclick="repairMatrixIssues()">üîß Repair Issues</button>
        </div>
      </div>

      <div class="card">
        <h2>‚ö° Performance Features</h2>
        <p>Optimized for high-performance environment management:</p>

        <div class="code-block">
          <pre><span class="code-comment">// Performance benchmarks</span>
<span class="code-keyword">const</span> benchmarks = {
  <span class="code-string">'Environment Load'</span>: <span class="code-string">'<50ms'</span>,
  <span class="code-string">'Validation'</span>: <span class="code-string">'<100ms'</span>,
  <span class="code-string">'Security Audit'</span>: <span class="code-string">'<200ms'</span>,
  <span class="code-string">'Environment Switch'</span>: <span class="code-string">'<100ms'</span>
};

<span class="code-comment">// Memory optimization</span>
<span class="code-keyword">const</span> memoryUsage = {
  <span class="code-string">'Base Memory'</span>: <span class="code-string">'<5MB'</span>,
  <span class="code-string">'Per Environment'</span>: <span class="code-string">'<2MB'</span>,
  <span class="code-string">'Cache Size'</span>: <span class="code-string">'<10MB'</span>
};</pre>
        </div>
      </div>

      <div class="card">
        <h2>üîÑ Environment Switching</h2>
        <p>Seamlessly switch between different environments:</p>

        <div class="code-block">
          <pre><span class="code-comment">// Switch to staging environment</span>
<span class="code-keyword">await</span> envManager.setupEnvironment(<span class="code-string">'staging'</span>);

<span class="code-comment">// Switch to production</span>
<span class="code-keyword">await</span> envManager.setupEnvironment(<span class="code-string">'production'</span>);

<span class="code-comment">// Quick environment check</span>
<span class="code-keyword">const</span> currentEnv = envManager.getCurrentEnvironment();
console.log(<span class="code-string">'Current Environment:'</span>, currentEnv.name);
console.log(<span class="code-string">'Config File:'</span>, currentEnv.configFile);</pre>
        </div>

        <div class="callout">
          <strong>Pro Tip:</strong>
          Use
          <code>bun pm pkg set config.environment="staging"</code>
          to update the main package.json configuration when switching environments.
        </div>
      </div>

      <div class="card">
        <h2>üß™ Testing Integration</h2>
        <p>The Environment Manager integrates with the comprehensive testing framework:</p>

        <div class="code-block">
          <pre><span class="code-comment"># Test environment configuration</span>
<span class="code-function">bun run env:test</span>                     <span class="code-comment"># Quick validation test</span>
<span class="code-function">bun run env:integration</span>              <span class="code-comment"># Full integration test</span>

<span class="code-comment"># Test specific features</span>
<span class="code-function">bun run test:env:security</span>            <span class="code-comment"># Security testing</span>
<span class="code-function">bun run test:env:performance</span>         <span class="code-comment"># Performance testing</span>
<span class="code-function">bun run test:env:validation</span>          <span class="code-comment"># Validation testing</span></pre>
        </div>
      </div>

      <div class="card">
        <h2>üìö API Reference</h2>
        <p>Complete API documentation for the Environment Manager:</p>

        <h3>Core Methods</h3>
        <div class="code-block">
          <pre><span class="code-keyword">class</span> EnvironmentManager {
  <span class="code-comment">// Core functionality</span>
  async loadEnv(): Promise&lt;ValidationResult&gt;
  async validateConfig(): Promise&lt;ValidationResult&gt;
  async checkStatus(): Promise&lt;EnvironmentStatus&gt;
  
  <span class="code-comment">// Security features</span>
  async runSecurityAudit(): Promise&lt;SecurityAuditResult&gt;
  async monitorPerformance(): Promise&lt;PerformanceMetrics&gt;
  
  <span class="code-comment">// Environment management</span>
  async setupEnvironment(name: string): Promise&lt;boolean&gt;
  async generateEnvFile(template: string): Promise&lt;string&gt;
  async backupEnv(): Promise&lt;string&gt;
  async restoreEnv(backupPath: string): Promise&lt;boolean&gt;
  
  <span class="code-comment">// Advanced features</span>
  async diffEnv(env1: string, env2: string): Promise&lt;DiffResult&gt;
  async syncEnv(source: string, target: string): Promise&lt;boolean&gt;
  async monitorEnv(): Promise&lt;MonitoringStream&gt;
}</pre>
        </div>
      </div>

      <div class="card">
        <h2>üéØ Use Cases</h2>
        <p>Common use cases for the Environment Manager:</p>

        <div class="benefits">
          <div class="benefit-card">
            <div class="benefit-icon">üöÄ</div>
            <h3>Development</h3>
            <p>Quick environment setup and validation for developers</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîß</div>
            <h3>CI/CD</h3>
            <p>Automated environment validation in deployment pipelines</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîí</div>
            <h3>Security</h3>
            <p>Regular security audits and compliance checking</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üìä</div>
            <h3>Monitoring</h3>
            <p>Real-time environment health monitoring</p>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>üîó Quick Reference - All Connected Systems</h2>
        <p>Your complete dashboard worker ecosystem is now fully integrated and navigable:</p>

        <div class="table">
          <table>
            <thead>
              <tr>
                <th>üìÅ File</th>
                <th>üéØ Purpose</th>
                <th>üîó Navigation</th>
                <th>üìã Key Commands</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>package.json</code></td>
                <td>Core configuration & environment scripts</td>
                <td>
                  File system:
                  <code>dashboard-worker/package.json</code>
                </td>
                <td><code>bun pm pkg get config.environment</code></td>
              </tr>
              <tr>
                <td><code>environment-management.html</code></td>
                <td>Environment Manager (current)</td>
                <td>‚öôÔ∏è Environment variables & validation</td>
                <td><code>bun run env:validate</code></td>
              </tr>
              <tr>
                <td><a href="@packages.html">@packages.html</a></td>
                <td>Testing Playground</td>
                <td>üß™ Advanced testing scenarios</td>
                <td><code>bun run test:quick</code></td>
              </tr>
              <tr>
                <td><a href="environment-variables.html">environment-variables.html</a></td>
                <td>Environment Configuration Guide</td>
                <td>üåç Complete environment setup</td>
                <td><code>bun run env:setup</code></td>
              </tr>
              <tr>
                <td><a href="packages.html">packages.html</a></td>
                <td>Package Management Overview</td>
                <td>üì¶ Package system guide</td>
                <td><code>bun run build:packages</code></td>
              </tr>
              <tr>
                <td><a href="api-packages.html">api-packages.html</a></td>
                <td>API Integration Guide</td>
                <td>üîå API endpoints & integration</td>
                <td><code>bun run api:test</code></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="callout">
          <strong>üöÄ Ready to Use:</strong>
          All systems are now connected. Navigate seamlessly between package.json configuration, environment management,
          testing, and comprehensive documentation.
        </div>
      </div>

      <div class="footer">
        <div class="footer-brand">
          <div class="footer-logo">üî•</div>
          <div class="footer-company">Fire22</div>
          <div class="footer-tagline">Igniting Digital Innovation</div>
        </div>

        <div class="footer-links">
          <a href="packages.html" class="footer-link">üì¶ Packages</a>
          <a href="environment-variables.html" class="footer-link">üåç Environment</a>
          <a href="environment-management.html" class="footer-link">‚öôÔ∏è Env Manager</a>
          <a href="api-packages.html" class="footer-link">üîå API</a>
          <a href="fire22-dashboard-config.html" class="footer-link">‚öôÔ∏è Config</a>
          <a href="@packages.html" class="footer-link">üß™ Testing</a>
        </div>

        <div class="footer-divider"></div>

        <div class="footer-copyright">
          <p>&copy; 2024 Fire22 Development Team. All rights reserved.</p>
          <p>Built with ‚ù§Ô∏è for secure and scalable development</p>
          <p><small>Environment Management System | Fire22 Dashboard</small></p>
        </div>
      </div>
    </div>

    <script>
      // Simple client-side interactivity
      document.addEventListener('DOMContentLoaded', function () {
        // Add animation to table rows
        const tableRows = document.querySelectorAll('tr');
        tableRows.forEach((row, index) => {
          row.style.opacity = '0';
          row.style.transition = `opacity 0.5s ease ${index * 0.1}s`;
          setTimeout(() => {
            row.style.opacity = '1';
          }, 100);
        });

        // Add hover effect to code blocks

        const codeBlocks = document.querySelectorAll('.code-block');
        codeBlocks.forEach(block => {
          block.addEventListener('mouseenter', () => {
            block.style.transform = 'translateY(-5px)';
            block.style.boxShadow = '0 15px 35px rgba(0, 0, 0, 0.4)';
          });

          block.addEventListener('mouseleave', () => {
            block.style.transform = 'translateY(0)';
            block.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.3)';
          });
        });
      });

      // Matrix Health Functions
      async function checkMatrixHealth() {
        try {
          const response = await fetch('/api/matrix/health');
          const data = await response.json();

          if (data.success) {
            document.getElementById('matrix-health-score').textContent = data.matrix_health_score + '/100';
            document.getElementById('data-completeness').textContent = data.matrix_stats.data_completeness + '%';
            document.getElementById('permission-coverage').textContent = data.matrix_stats.permission_coverage + '%';
            document.getElementById('agent-data-quality').textContent = data.matrix_stats.agent_data_quality + '%';

            // Update status colors based on health score
            const healthScore = data.matrix_health_score;
            const statusElement = document.getElementById('matrix-health-score');

            if (healthScore >= 80) {
              statusElement.style.color = '#4CAF50'; // Green
            } else if (healthScore >= 60) {
              statusElement.style.color = '#FF9800'; // Orange
            } else {
              statusElement.style.color = '#F44336'; // Red
            }

            alert(`‚úÖ Matrix Health Check Complete!\nScore: ${healthScore}/100\nStatus: ${data.status}`);
          } else {
            alert('‚ùå Matrix health check failed: ' + data.error);
          }
        } catch (error) {
          alert('‚ùå Error checking matrix health: ' + error.message);
        }
      }

      async function validatePermissions() {
        try {
          const response = await fetch('/api/matrix/validate');
          const data = await response.json();

          if (data.success) {
            alert('‚úÖ ' + data.message);
          } else {
            alert('‚ùå ' + data.message);
          }
        } catch (error) {
          alert('‚ùå Error validating permissions: ' + error.message);
        }
      }

      async function repairMatrixIssues() {
        try {
          const response = await fetch('/api/matrix/repair');
          const data = await response.json();

          if (data.success) {
            alert(`üîß ${data.message}\nIssues fixed: ${data.issues_fixed}`);
            // Refresh the health display
            checkMatrixHealth();
          } else {
            alert('‚ùå ' + data.message);
          }
        } catch (error) {
          alert('‚ùå Error repairing matrix issues: ' + error.message);
        }
      }

      // Simulate matrix health data for demo purposes
      function simulateMatrixHealth() {
        document.getElementById('matrix-health-score').textContent = '92/100';
        document.getElementById('data-completeness').textContent = '75%';
        document.getElementById('permission-coverage').textContent = '100%';
        document.getElementById('agent-data-quality').textContent = '100%';

        // Set green color for good health
        document.getElementById('matrix-health-score').style.color = '#4CAF50';
      }

      // Initialize with demo data
      document.addEventListener('DOMContentLoaded', function () {
        simulateMatrixHealth();
      });
    </script>
  </body>
</html>
