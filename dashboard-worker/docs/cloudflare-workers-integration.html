<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cloudflare Workers Integration - Dashboard Worker</title>
    <style>
      :root {
        --primary: #f38020;
        --secondary: #ff6b35;
        --accent: #4ecdc4;
        --dark: #2c3e50;
        --light: #ecf0f1;
        --success: #27ae60;
        --warning: #f39c12;
        --error: #e74c3c;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--dark);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .header h1 {
        color: var(--primary);
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .header .subtitle {
        color: var(--secondary);
        font-size: 1.2em;
        font-weight: 300;
      }

      .nav-tabs {
        display: flex;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 10px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
      }

      .nav-tab {
        background: transparent;
        border: none;
        padding: 15px 25px;
        margin: 0 5px;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
        font-weight: 500;
      }

      .nav-tab:hover {
        background: var(--primary);
        color: white;
        transform: translateY(-2px);
      }

      .nav-tab.active {
        background: var(--primary);
        color: white;
        box-shadow: 0 5px 15px rgba(243, 128, 32, 0.3);
      }

      .content-section {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        display: none;
      }

      .content-section.active {
        display: block;
        animation: fadeInUp 0.5s ease;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .content-section h2 {
        color: var(--primary);
        font-size: 1.8em;
        margin-bottom: 20px;
        border-bottom: 3px solid var(--accent);
        padding-bottom: 10px;
      }

      .content-section h3 {
        color: var(--secondary);
        font-size: 1.4em;
        margin: 25px 0 15px 0;
      }

      .content-section h4 {
        color: var(--dark);
        font-size: 1.2em;
        margin: 20px 0 10px 0;
      }

      .code-block {
        background: var(--dark);
        color: var(--light);
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
        overflow-x: auto;
        font-family: 'Courier New', monospace;
        position: relative;
      }

      .code-block::before {
        content: attr(data-language);
        position: absolute;
        top: 5px;
        right: 15px;
        background: var(--primary);
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 0.8em;
        font-weight: bold;
      }

      .info-box {
        background: linear-gradient(135deg, var(--accent), #74b9ff);
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
        box-shadow: 0 10px 30px rgba(78, 205, 196, 0.3);
      }

      .warning-box {
        background: linear-gradient(135deg, var(--warning), #fdcb6e);
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
        box-shadow: 0 10px 30px rgba(243, 156, 18, 0.3);
      }

      .success-box {
        background: linear-gradient(135deg, var(--success), #00b894);
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin: 20px 0;
        box-shadow: 0 10px 30px rgba(39, 174, 96, 0.3);
      }

      .step-list {
        list-style: none;
        counter-reset: step-counter;
      }

      .step-list li {
        counter-increment: step-counter;
        margin: 20px 0;
        padding: 20px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 15px;
        position: relative;
        border-left: 5px solid var(--primary);
      }

      .step-list li::before {
        content: counter(step-counter);
        background: var(--primary);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        left: -17px;
        top: 20px;
        font-weight: bold;
      }

      .integration-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .integration-card {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        padding: 20px;
        border: 2px solid transparent;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .integration-card:hover {
        border-color: var(--primary);
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .integration-card h4 {
        color: var(--primary);
        margin-bottom: 10px;
      }

      .status-badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.8em;
        font-weight: bold;
        text-transform: uppercase;
      }

      .status-complete {
        background: var(--success);
        color: white;
      }

      .status-pending {
        background: var(--warning);
        color: white;
      }

      .status-planned {
        background: var(--accent);
        color: white;
      }

      .progress-bar {
        width: 100%;
        height: 10px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 5px;
        overflow: hidden;
        margin: 20px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--success), var(--accent));
        border-radius: 5px;
        transition: width 0.5s ease;
      }

      .footer {
        text-align: center;
        margin-top: 50px;
        color: rgba(255, 255, 255, 0.8);
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .header h1 {
          font-size: 2em;
        }

        .nav-tabs {
          flex-direction: column;
        }

        .nav-tab {
          margin: 2px 0;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üöÄ Cloudflare Workers Integration</h1>
        <p class="subtitle">Edge Deployment & D1 Database Integration Guide</p>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 40%"></div>
        </div>
        <p><strong>Overall Progress: 4/10 files (40%) ‚Üí Target: 10/10 files (100%)</strong></p>
      </div>

      <div class="nav-tabs">
        <button class="nav-tab active" onclick="showSection('overview')">üìã Overview</button>
        <button class="nav-tab" onclick="showSection('setup')">‚öôÔ∏è Setup</button>
        <button class="nav-tab" onclick="showSection('d1-database')">üóÑÔ∏è D1 Database</button>
        <button class="nav-tab" onclick="showSection('deployment')">üöÄ Deployment</button>
        <button class="nav-tab" onclick="showSection('integration')">üîó Integration</button>
        <button class="nav-tab" onclick="showSection('monitoring')">üìä Monitoring</button>
        <button class="nav-tab" onclick="showSection('troubleshooting')">üîß Troubleshooting</button>
      </div>

      <!-- Overview Section -->
      <div id="overview" class="content-section active">
        <h2>üìã Cloudflare Workers Integration Overview</h2>

        <div class="info-box">
          <h4>üéØ What This Guide Covers</h4>
          <p>
            Complete integration of Cloudflare Workers with your Dashboard Worker system, including D1 database setup,
            edge deployment, and seamless integration with existing environment management.
          </p>
        </div>

        <h3>üåü Key Benefits</h3>
        <ul>
          <li>
            <strong>Global Edge Network:</strong>
            Deploy your dashboard to 200+ locations worldwide
          </li>
          <li>
            <strong>D1 Database:</strong>
            SQLite-compatible edge database with automatic scaling
          </li>
          <li>
            <strong>Zero Cold Starts:</strong>
            Instant response times for all requests
          </li>
          <li>
            <strong>Built-in Security:</strong>
            DDoS protection, SSL/TLS, and WAF included
          </li>
          <li>
            <strong>Cost Effective:</strong>
            Pay-per-request pricing model
          </li>
        </ul>

        <h3>üîó Integration Points</h3>
        <div class="integration-grid">
          <div class="integration-card">
            <h4>Environment Management</h4>
            <p>Seamless integration with your existing env-manager.ts system</p>
            <span class="status-badge status-complete">Complete</span>
          </div>
          <div class="integration-card">
            <h4>Database Migration</h4>
            <p>SQLite to D1 migration with schema preservation</p>
            <span class="status-badge status-pending">In Progress</span>
          </div>
          <div class="integration-card">
            <h4>API Endpoints</h4>
            <p>All existing API endpoints optimized for edge deployment</p>
            <span class="status-badge status-complete">Complete</span>
          </div>
          <div class="integration-card">
            <h4>Authentication</h4>
            <p>JWT-based auth system compatible with Workers</p>
            <span class="status-badge status-complete">Complete</span>
          </div>
        </div>

        <h3>üìä Current Status</h3>
        <p>Your project already has the foundation for Cloudflare Workers integration:</p>
        <ul>
          <li>
            ‚úÖ
            <code>wrangler.toml</code>
            configuration file present
          </li>
          <li>‚úÖ Bun-native APIs compatible with Workers runtime</li>
          <li>‚úÖ Environment management system ready</li>
          <li>‚úÖ API structure optimized for edge deployment</li>
        </ul>
      </div>

      <!-- Setup Section -->
      <div id="setup" class="content-section">
        <h2>‚öôÔ∏è Cloudflare Workers Setup</h2>

        <div class="warning-box">
          <h4>‚ö†Ô∏è Prerequisites</h4>
          <p>
            Ensure you have a Cloudflare account and have installed Wrangler CLI. Your project already has the basic
            configuration in place.
          </p>
        </div>

        <h3>üîß Installation & Configuration</h3>
        <ol class="step-list">
          <li>
            <h4>Install Wrangler CLI</h4>
            <p>Install the Cloudflare Workers CLI tool globally:</p>
            <div class="code-block" data-language="bash">npm install -g wrangler # or with Bun bun add -g wrangler</div>
          </li>

          <li>
            <h4>Authenticate with Cloudflare</h4>
            <p>Login to your Cloudflare account:</p>
            <div class="code-block" data-language="bash">wrangler login</div>
          </li>

          <li>
            <h4>Verify Configuration</h4>
            <p>
              Your existing
              <code>wrangler.toml</code>
              should be configured. Verify it contains:
            </p>
            <div class="code-block" data-language="toml">
              name = "dashboard-worker" main = "src/index.ts" compatibility_date = "2024-01-01" compatibility_flags =
              ["nodejs_compat"] [env.production] name = "dashboard-worker-prod" [env.staging] name =
              "dashboard-worker-staging" [[d1_databases]] binding = "DB" database_name = "dashboard-db" database_id =
              "your-database-id"
            </div>
          </li>

          <li>
            <h4>Environment Variables</h4>
            <p>Set up your environment variables for different deployment stages:</p>
            <div class="code-block" data-language="bash">
              # Production environment wrangler secret put FIRE22_API_KEY --env production wrangler secret put
              STRIPE_SECRET_KEY --env production wrangler secret put SENDGRID_API_KEY --env production # Staging
              environment wrangler secret put FIRE22_API_KEY --env staging wrangler secret put STRIPE_SECRET_KEY --env
              staging wrangler secret put SENDGRID_API_KEY --env staging
            </div>
          </li>
        </ol>

        <h3>üîê Security Configuration</h3>
        <p>Your existing security practices are already compatible with Workers:</p>
        <ul>
          <li>‚úÖ JWT token validation</li>
          <li>‚úÖ API key management</li>
          <li>‚úÖ Rate limiting (built into Workers)</li>
          <li>‚úÖ CORS configuration</li>
          <li>‚úÖ Input validation</li>
        </ul>
      </div>

      <!-- D1 Database Section -->
      <div id="d1-database" class="content-section">
        <h2>üóÑÔ∏è D1 Database Integration</h2>

        <div class="info-box">
          <h4>üí° D1 Database Benefits</h4>
          <p>
            D1 is Cloudflare's SQLite-compatible edge database that provides global distribution, automatic scaling, and
            seamless integration with your existing SQLite schema.
          </p>
        </div>

        <h3>üîÑ Migration from SQLite to D1</h3>
        <ol class="step-list">
          <li>
            <h4>Create D1 Database</h4>
            <p>Create your D1 database instance:</p>

            <div class="code-block" data-language="bash">wrangler d1 create dashboard-db</div>
            <p>
              This will output a database ID that you'll need for your
              <code>wrangler.toml</code>
              .
            </p>
          </li>

          <li>
            <h4>Update Configuration</h4>
            <p>
              Add the database ID to your
              <code>wrangler.toml</code>
              :
            </p>

            <div class="code-block" data-language="toml">
              [[d1_databases]] binding = "DB" database_name = "dashboard-db" database_id = "your-actual-database-id"
            </div>
          </li>

          <li>
            <h4>Migrate Schema</h4>
            <p>Your existing schema files can be used directly with D1:</p>

            <div class="code-block" data-language="bash">
              # Apply your existing schema wrangler d1 execute dashboard-db --file=./schema.sql # Or apply specific
              schema files wrangler d1 execute dashboard-db --file=./fire22-enhanced-schema.sql wrangler d1 execute
              dashboard-db --file=./settlement-schema.sql
            </div>
          </li>

          <li>
            <h4>Import Sample Data</h4>
            <p>Import your existing sample data:</p>

            <div class="code-block" data-language="bash">
              wrangler d1 execute dashboard-db --file=./shoots-sample-data.sql wrangler d1 execute dashboard-db
              --file=./import-real-fire22-customers.sql
            </div>
          </li>
        </ol>

        <h3>üîß Code Changes for D1</h3>
        <p>Your existing code is already compatible! The main change is in how you access the database:</p>

        <h4>Before (SQLite)</h4>

        <div class="code-block" data-language="typescript">
          import { Database } from 'bun:sqlite'; const db = new Database('database.db'); const result = db.query('SELECT
          * FROM users').all();
        </div>

        <h4>After (D1)</h4>
        <div class="code-block" data-language="typescript">
          // In your Worker export default { async fetch(request: Request, env: Env, ctx: ExecutionContext) { const
          result = await env.DB.prepare('SELECT * FROM users').all(); // ... rest of your code } };
        </div>

        <h3>üìä Schema Compatibility</h3>
        <p>Your existing schemas are fully compatible with D1:</p>
        <ul>
          <li>
            ‚úÖ
            <code>fire22-enhanced-schema.sql</code>
            - Fire22 integration tables
          </li>
          <li>
            ‚úÖ
            <code>settlement-schema.sql</code>
            - Settlement processing tables
          </li>
          <li>
            ‚úÖ
            <code>shoots-sample-data.sql</code>
            - Sample data structure
          </li>
          <li>
            ‚úÖ
            <code>auth-schema.sql</code>
            - Authentication tables
          </li>
        </ul>
      </div>

      <!-- Deployment Section -->
      <div id="deployment" class="content-section">
        <h2>üöÄ Edge Deployment Strategy</h2>

        <div class="success-box">
          <h4>üéØ Deployment Benefits</h4>
          <p>
            Your dashboard will be automatically deployed to 200+ global locations, providing sub-100ms response times
            worldwide and automatic failover.
          </p>
        </div>

        <h3>üåç Multi-Environment Deployment</h3>
        <ol class="step-list">
          <li>
            <h4>Development Environment</h4>
            <p>Test locally with Wrangler:</p>
            <div class="code-block" data-language="bash">
              # Start local development server wrangler dev # Test with your existing scripts bun run test:quick bun run
              env:validate
            </div>
          </li>

          <li>
            <h4>Staging Environment</h4>
            <p>Deploy to staging for testing:</p>

            <div class="code-block" data-language="bash">
              # Deploy to staging wrangler deploy --env staging # Run integration tests bun run test:integration bun run
              env:audit
            </div>
          </li>

          <li>
            <h4>Production Environment</h4>
            <p>Deploy to production:</p>

            <div class="code-block" data-language="bash">
              # Deploy to production wrangler deploy --env production # Validate deployment bun run deploy:validate bun
              run test:checklist
            </div>
          </li>
        </ol>

        <h3>üîÑ CI/CD Integration</h3>
        <p>Integrate with your existing deployment workflow:</p>

        <div class="code-block" data-language="yaml">
          # .github/workflows/deploy.yml name: Deploy to Cloudflare Workers on: push: branches: [main, staging] jobs:
          deploy: runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - uses: actions/setup-node@v3 with:
          node-version: '18' - name: Install Wrangler run: npm install -g wrangler - name: Deploy to Staging if:
          github.ref == 'refs/heads/staging' run: wrangler deploy --env staging env: CLOUDFLARE_API_TOKEN: ${{
          secrets.CLOUDFLARE_API_TOKEN }} - name: Deploy to Production if: github.ref == 'refs/heads/main' run: wrangler
          deploy --env production env: CLOUDFLARE_API_TOKEN: ${{ secrets.CLOUDFLARE_API_TOKEN }}
        </div>

        <h3>üìà Performance Optimization</h3>
        <p>Your existing optimizations work perfectly with Workers:</p>
        <ul>
          <li>‚úÖ Connection pooling (automatic with D1)</li>
          <li>‚úÖ Query optimization (your existing SQL is already optimized)</li>
          <li>‚úÖ Caching strategies (Workers KV available if needed)</li>
          <li>‚úÖ Rate limiting (built-in protection)</li>
        </ul>
      </div>

      <!-- Integration Section -->
      <div id="integration" class="content-section">
        <h2>üîó System Integration</h2>

        <div class="info-box">
          <h4>üîÑ Seamless Integration</h4>
          <p>
            Your existing environment management, testing, and deployment systems integrate seamlessly with Cloudflare
            Workers, requiring minimal changes to your current workflow.
          </p>
        </div>

        <h3>üîß Environment Management Integration</h3>
        <p>
          Your
          <code>env-manager.ts</code>
          system works perfectly with Workers:
        </p>

        <h4>Environment Variables</h4>

        <div class="code-block" data-language="typescript">
          // src/env.ts - Already compatible! export interface Env { // D1 Database DB: D1Database; // API Keys (set via
          wrangler secret) FIRE22_API_KEY: string; STRIPE_SECRET_KEY: string; SENDGRID_API_KEY: string;
          TELEGRAM_BOT_TOKEN: string; // Environment ENVIRONMENT: 'development' | 'staging' | 'production'; }
        </div>

        <h4>Environment Commands</h4>
        <p>Your existing CLI commands work with Workers:</p>

        <div class="code-block" data-language="bash">
          # Environment validation bun run env:validate bun run env:audit # Health checks bun run health:check bun run
          test:quick # Deployment validation bun run deploy:validate bun run test:checklist
        </div>

        <h3>üß™ Testing Integration</h3>
        <p>Your testing strategy integrates perfectly:</p>

        <h4>Local Testing</h4>
        <div class="code-block" data-language="bash">
          # Start Workers dev server wrangler dev # Run your existing tests bun run test:quick bun run test:integration
        </div>

        <h4>Staging Testing</h4>
        <div class="code-block" data-language="bash">
          # Deploy to staging wrangler deploy --env staging # Test staging environment bun run env:demo bun run
          test:checklist
        </div>

        <h3>üìä Monitoring Integration</h3>
        <p>Your health monitoring system works with Workers:</p>

        <div class="code-block" data-language="typescript">
          // scripts/monitor-health.bun.ts - Already compatible! export async function checkWorkerHealth(env: string) {
          const baseUrl = env === 'production' ? 'https://dashboard-worker.your-subdomain.workers.dev' :
          'https://dashboard-worker-staging.your-subdomain.workers.dev'; const response = await
          fetch(`${baseUrl}/health`); return response.ok; }
        </div>
      </div>

      <!-- Monitoring Section -->
      <div id="monitoring" class="content-section">
        <h2>üìä Performance Monitoring</h2>

        <div class="success-box">
          <h4>üìà Built-in Analytics</h4>
          <p>
            Cloudflare Workers provides comprehensive analytics, metrics, and real-time monitoring out of the box, with
            zero additional setup required.
          </p>
        </div>

        <h3>üìä Available Metrics</h3>
        <div class="integration-grid">
          <div class="integration-card">
            <h4>Request Metrics</h4>
            <ul>
              <li>Total requests per minute</li>
              <li>Request success/failure rates</li>
              <li>Response time percentiles</li>
              <li>Geographic distribution</li>
            </ul>
          </div>

          <div class="integration-card">
            <h4>Performance Metrics</h4>
            <ul>
              <li>CPU time per request</li>
              <li>Memory usage patterns</li>
              <li>Cold start frequency</li>
              <li>Edge location performance</li>
            </ul>
          </div>

          <div class="integration-card">
            <h4>Error Tracking</h4>
            <ul>
              <li>Error rates by endpoint</li>
              <li>Stack trace analysis</li>
              <li>Error correlation</li>
              <li>Automatic alerting</li>
            </ul>
          </div>

          <div class="integration-card">
            <h4>D1 Database Metrics</h4>
            <ul>
              <li>Query performance</li>
              <li>Connection utilization</li>
              <li>Storage usage</li>
              <li>Replication lag</li>
            </ul>
          </div>
        </div>

        <h3>üîç Monitoring Dashboard</h3>
        <p>Access your metrics through the Cloudflare dashboard:</p>
        <ol class="step-list">
          <li>
            <h4>Workers Analytics</h4>
            <p>Navigate to Workers & Pages ‚Üí Your Worker ‚Üí Analytics</p>
            <ul>
              <li>Real-time request monitoring</li>
              <li>Performance trends</li>
              <li>Error analysis</li>
              <li>Geographic insights</li>
            </ul>
          </li>

          <li>
            <h4>D1 Database Analytics</h4>
            <p>Navigate to Workers & Pages ‚Üí D1 ‚Üí Your Database ‚Üí Analytics</p>
            <ul>
              <li>Query performance metrics</li>
              <li>Storage utilization</li>
              <li>Connection patterns</li>
              <li>Replication status</li>
            </ul>
          </li>

          <li>
            <h4>Custom Alerts</h4>
            <p>Set up automated alerts for:</p>
            <ul>
              <li>High error rates (>5%)</li>
              <li>Slow response times (>500ms)</li>
              <li>Database connection issues</li>
              <li>Geographic performance degradation</li>
            </ul>
          </li>
        </ol>

        <h3>üì± Integration with Your Monitoring</h3>
        <p>Your existing health monitoring scripts integrate seamlessly:</p>
        <div class="code-block" data-language="typescript">
          // scripts/monitor-health.bun.ts - Enhanced for Workers export async function checkWorkerMetrics(env: string)
          { const workerName = env === 'production' ? 'dashboard-worker' : 'dashboard-worker-staging'; // Check Workers
          analytics via Cloudflare API const analytics = await fetch(
          `https://api.cloudflare.com/client/v4/accounts/${ACCOUNT_ID}/workers/analytics`, { headers: { 'Authorization':
          `Bearer ${CLOUDFLARE_API_TOKEN}`, 'Content-Type': 'application/json' } } ); return analytics.json(); }
        </div>
      </div>

      <!-- Troubleshooting Section -->
      <div id="troubleshooting" class="content-section">
        <h2>üîß Troubleshooting Guide</h2>

        <div class="warning-box">
          <h4>üö® Common Issues & Solutions</h4>
          <p>
            Most issues with Cloudflare Workers integration can be resolved quickly. Here are the most common problems
            and their solutions.
          </p>
        </div>

        <h3>üö´ Deployment Issues</h3>
        <div class="integration-grid">
          <div class="integration-card">
            <h4>Build Failures</h4>
            <p>
              <strong>Symptom:</strong>
              <code>wrangler deploy</code>
              fails with build errors
            </p>
            <p>
              <strong>Solution:</strong>
              Ensure your TypeScript compiles with
              <code>bun run build</code>
              before deployment
            </p>
          </div>

          <div class="integration-card">
            <h4>Environment Mismatch</h4>
            <p>
              <strong>Symptom:</strong>
              Wrong environment variables loaded
            </p>
            <p>
              <strong>Solution:</strong>
              Verify
              <code>--env</code>
              flag and environment configuration
            </p>
          </div>

          <div class="integration-card">
            <h4>Database Connection</h4>
            <p>
              <strong>Symptom:</strong>
              D1 database connection errors
            </p>
            <p>
              <strong>Solution:</strong>
              Check database ID in
              <code>wrangler.toml</code>
              and binding
            </p>
          </div>

          <div class="integration-card">
            <h4>Secret Management</h4>
            <p>
              <strong>Symptom:</strong>
              API keys not accessible
            </p>
            <p>
              <strong>Solution:</strong>
              Use
              <code>wrangler secret put</code>
              for each environment
            </p>
          </div>
        </div>

        <h3>üîç Debugging Commands</h3>
        <ol class="step-list">
          <li>
            <h4>Local Development Debugging</h4>

            <div class="code-block" data-language="bash">
              # Start with verbose logging wrangler dev --log-level debug # Check environment variables wrangler dev
              --env staging # Test specific endpoints curl http://localhost:8787/health
            </div>
          </li>

          <li>
            <h4>Production Debugging</h4>
            <div class="code-block" data-language="bash">
              # Check Worker logs wrangler tail --env production # Test production endpoints curl
              https://dashboard-worker.your-subdomain.workers.dev/health # Validate environment wrangler secret list
              --env production
            </div>
          </li>

          <li>
            <h4>Database Debugging</h4>
            <div class="code-block" data-language="bash">
              # Check D1 database status wrangler d1 list # Test database connection wrangler d1 execute dashboard-db
              --command "SELECT 1" # View database info wrangler d1 info dashboard-db
            </div>
          </li>
        </ol>

        <h3>üìã Troubleshooting Checklist</h3>
        <p>Use this checklist when issues arise:</p>

        <div class="code-block" data-language="markdown">
          ## Pre-Deployment Checklist - [ ] TypeScript compiles without errors - [ ] All environment variables are set -
          [ ] Database schema is migrated - [ ] Local testing passes - [ ] Environment configuration is correct ##
          Deployment Checklist - [ ] Wrangler is authenticated - [ ] Correct environment is specified - [ ] Database ID
          is valid - [ ] Secrets are configured - [ ] Build process completes ## Post-Deployment Checklist - [ ] Health
          endpoint responds - [ ] Database queries work - [ ] API endpoints function - [ ] Environment variables
          accessible - [ ] Monitoring shows activity
        </div>

        <h3>üÜò Getting Help</h3>
        <p>If issues persist:</p>
        <ul>
          <li>
            <strong>Cloudflare Documentation:</strong>
            <a href="https://developers.cloudflare.com/workers/" target="_blank">Workers Documentation</a>
          </li>
          <li>
            <strong>Community Forum:</strong>
            <a href="https://community.cloudflare.com/" target="_blank">Cloudflare Community</a>
          </li>
          <li>
            <strong>GitHub Issues:</strong>
            Check existing issues in your repository
          </li>
          <li>
            <strong>Your Team:</strong>
            Use your existing debugging workflow
          </li>
        </ul>
      </div>
    </div>

    <div class="footer">
      <p>üöÄ Cloudflare Workers Integration Guide - Part of Dashboard Worker Documentation Suite</p>
      <p>üìä Progress: 5/10 files (50%) ‚Üí Next: API Security Best Practices</p>
    </div>

    <script>
      function showSection(sectionId) {
        // Hide all sections
        const sections = document.querySelectorAll('.content-section');
        sections.forEach(section => {
          section.classList.remove('active');
        });

        // Remove active class from all tabs
        const tabs = document.querySelectorAll('.nav-tab');
        tabs.forEach(tab => {
          tab.classList.remove('active');
        });

        // Show selected section
        document.getElementById(sectionId).classList.add('active');

        // Add active class to clicked tab
        event.target.classList.add('active');
      }

      // Add smooth scrolling for better UX
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth',
          });
        });
      });
    </script>
  </body>
</html>
