<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>âš½ @fire22/sports-betting - Package Staging Review</title>
    <link rel="stylesheet" href="../styles/staging-review-base.css" />
    <style>
      .package-icon {
        background: linear-gradient(135deg, #059669, #10b981);
      }
      .accent-color {
        color: #10b981;
      }
      .section {
        border-color: rgba(5, 150, 105, 0.3);
      }
      .btn-primary {
        background: linear-gradient(135deg, #059669, #047857);
      }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="header-content">
        <div class="logo">
          <div class="package-icon">âš½</div>
          <div class="logo-text">
            <div class="logo-title">@fire22/sports-betting</div>
            <div class="logo-subtitle">
              <strong>v2.3.0</strong>
              â€¢ Sports Engine â€¢ Live Odds â€¢
              <span class="version-tag">Betting Platform</span>
            </div>
          </div>
        </div>
        <nav class="package-nav">
          <a href="pattern-system-review.html" class="nav-link">â† Pattern System</a>
          <a href="security-registry-review.html" class="nav-link">Security Registry â†’</a>
          <a href="../docs/sports-betting-integration.html" class="nav-link">ğŸ“š Sports Betting Docs</a>
        </nav>
      </div>
    </div>

    <div class="approval-panel">
      <div class="approval-status">
        <div class="status-indicator" id="statusIndicator"></div>
        <div>
          <div style="font-weight: bold">Sports Betting Platform</div>
          <div id="statusText">Pending Review</div>
        </div>
      </div>

      <div class="package-details">
        <div>
          Package:
          <span class="accent-color">@fire22/sports-betting</span>
        </div>
        <div>
          Version:
          <span class="accent-color">2.3.0</span>
        </div>
        <div>
          Engine:
          <span class="accent-color">Sports Betting Platform</span>
        </div>
        <div>
          Features:
          <span class="accent-color">Live Odds + Betting</span>
        </div>
        <div>
          Build:
          <span id="buildNumber">#SB-647</span>
        </div>
      </div>

      <div class="approval-buttons">
        <button class="btn btn-approve" onclick="approvePackage()">âœ… Approve Sports Betting</button>
        <button class="btn btn-reject" onclick="rejectPackage()">âŒ Reject</button>
      </div>

      <div class="binaries-info">
        <strong>Available Binaries:</strong>
        <br />
        â€¢
        <code>fire22-sports-engine</code>
        <br />
        â€¢
        <code>sports-betting</code>
      </div>
    </div>

    <div class="container">
      <!-- Sports Betting System Metrics -->
      <div class="section">
        <h2>âš½ Sports Betting System Metrics</h2>
        <div class="build-info">
          <div class="info-card">
            <div class="info-label">Betting Engine</div>
            <div class="info-value success">Sports Platform âœ…</div>
          </div>
          <div class="info-card">
            <div class="info-label">Live Odds</div>
            <div class="info-value success">Real-time Updates</div>
          </div>
          <div class="info-card">
            <div class="info-label">Sports Coverage</div>
            <div class="info-value success">15+ Sports Active</div>
          </div>
          <div class="info-card">
            <div class="info-label">Bet Processing</div>
            <div class="info-value success">< 50ms placement</div>
          </div>
          <div class="info-card">
            <div class="info-label">Memory Usage</div>
            <div class="info-value success">72MB optimized</div>
          </div>
          <div class="info-card">
            <div class="info-label">Binary Size</div>
            <div class="info-value success">5.4MB compiled</div>
          </div>
        </div>
      </div>

      <!-- Sports Betting Features -->
      <div class="section">
        <h2>ğŸ† Sports Betting Feature System</h2>
        <div class="command-grid">
          <div class="command-card">
            <div class="command-name">âš½ Live Sports Engine</div>
            <div class="command-desc">Real-time sports data with live odds and betting</div>
            <div class="command-flow">Sports Data â†’ Odds Calculation â†’ Live Updates â†’ Bet Processing</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ“Š Odds Management</div>
            <div class="command-desc">Dynamic odds calculation and risk management</div>
            <div class="command-flow">Market Data â†’ Risk Analysis â†’ Odds Calculation â†’ Price Updates</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ’° Bet Processing Engine</div>
            <div class="command-desc">High-speed bet placement and validation system</div>
            <div class="command-flow">Bet Request â†’ Validation â†’ Balance Check â†’ Placement â†’ Confirmation</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ”„ Live Settlement</div>
            <div class="command-desc">Automated bet settlement with real-time results</div>
            <div class="command-flow">Event End â†’ Result Verification â†’ Settlement â†’ Payout Processing</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ“ˆ Risk Management</div>
            <div class="command-desc">Advanced risk management and liability monitoring</div>
            <div class="command-flow">Exposure Tracking â†’ Risk Analysis â†’ Limit Management â†’ Alert System</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ¯ Multi-Sport Support</div>
            <div class="command-desc">Support for 15+ sports with specialized bet types</div>
            <div class="command-flow">Sport Selection â†’ Market Loading â†’ Bet Types â†’ Specialized Rules</div>
          </div>
        </div>
      </div>

      <!-- Sports Coverage -->
      <div class="section">
        <h2>ğŸ… Supported Sports & Markets</h2>
        <div class="command-grid">
          <div class="command-card">
            <div class="command-name">âš½ Football/Soccer</div>
            <div class="command-desc">Premier leagues worldwide with live betting</div>
            <div class="command-flow">League Data â†’ Match Odds â†’ Live Betting â†’ Result Processing</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ€ Basketball</div>
            <div class="command-desc">NBA, EuroLeague, and major basketball leagues</div>
            <div class="command-flow">Game Stats â†’ Point Spreads â†’ Live Totals â†’ Settlement</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ¾ Tennis</div>
            <div class="command-desc">Grand Slams, ATP, WTA tournaments</div>
            <div class="command-flow">Match Data â†’ Set Betting â†’ Live Games â†’ Result Updates</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸˆ American Football</div>
            <div class="command-desc">NFL, college football with specialized markets</div>
            <div class="command-flow">Team Stats â†’ Spreads â†’ Player Props â†’ Live Betting</div>
          </div>
          <div class="command-card">
            <div class="command-name">âš¾ Baseball</div>
            <div class="command-desc">MLB and international baseball leagues</div>
            <div class="command-flow">Game Data â†’ Run Lines â†’ Over/Under â†’ Inning Betting</div>
          </div>
          <div class="command-card">
            <div class="command-name">ğŸ’ Hockey</div>
            <div class="command-desc">NHL, international hockey with live markets</div>
            <div class="command-flow">Game Stats â†’ Puck Lines â†’ Period Betting â†’ Live Goals</div>
          </div>
        </div>
      </div>

      <!-- API Endpoints -->
      <div class="section">
        <h2>ğŸ”— Sports Betting API Endpoints</h2>
        <div class="command-grid">
          <div class="command-card">
            <div class="command-name">GET /api/sports/events</div>
            <div class="command-desc">Get available sports events and markets</div>
            <div class="command-flow">Event Request â†’ Sports Data â†’ Market Loading â†’ Response</div>
          </div>
          <div class="command-card">
            <div class="command-name">GET /api/sports/odds/:event</div>
            <div class="command-desc">Get live odds for specific sporting event</div>
            <div class="command-flow">Odds Request â†’ Event Check â†’ Live Odds â†’ Response</div>
          </div>
          <div class="command-card">
            <div class="command-name">POST /api/sports/bet</div>
            <div class="command-desc">Place a sports bet with validation</div>
            <div class="command-flow">Bet Request â†’ Validation â†’ Balance Check â†’ Placement</div>
          </div>
          <div class="command-card">
            <div class="command-name">GET /api/sports/bets/:user</div>
            <div class="command-desc">Get user's active and settled sports bets</div>
            <div class="command-flow">User Request â†’ Bet History â†’ Status Check â†’ Response</div>
          </div>
          <div class="command-card">
            <div class="command-name">POST /api/sports/settlement</div>
            <div class="command-desc">Process bet settlement with results</div>
            <div class="command-flow">Settlement Request â†’ Result Verify â†’ Calculate â†’ Payout</div>
          </div>
          <div class="command-card">
            <div class="command-name">GET /api/sports/live</div>
            <div class="command-desc">Live sports data feed with real-time updates</div>
            <div class="command-flow">Live Request â†’ Event Stream â†’ Data Processing â†’ Updates</div>
          </div>
        </div>
      </div>

      <!-- Sports Betting Tests -->
      <div class="section">
        <h2>ğŸ§ª Sports Betting Test Results</h2>
        <div class="test-grid">
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Sports Engine</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 48 sports engine tests
              <br />
              â±ï¸ Duration: 31.2s
              <br />
              âš½ 15+ sports validated
              <br />
              ğŸ“Š Live odds working
            </div>
          </div>
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Bet Processing</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 42 bet processing tests
              <br />
              â±ï¸ Duration: 24.6s
              <br />
              ğŸ’° < 50ms bet placement
              <br />
              âœ”ï¸ Validation system active
            </div>
          </div>
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Odds Management</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 36 odds tests passed
              <br />
              â±ï¸ Duration: 18.4s
              <br />
              ğŸ“ˆ Dynamic pricing working
              <br />
              ğŸ¯ Risk management active
            </div>
          </div>
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Settlement Engine</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 33 settlement tests
              <br />
              â±ï¸ Duration: 27.8s
              <br />
              ğŸ”„ Auto-settlement working
              <br />
              ğŸ’³ Payout processing active
            </div>
          </div>
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Live Data Feed</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 29 live data tests
              <br />
              â±ï¸ Duration: 35.1s
              <br />
              ğŸ“¡ Real-time updates working
              <br />
              ğŸ”„ Event streaming active
            </div>
          </div>
          <div class="test-card">
            <div class="test-header">
              <div class="test-name">Performance & Load</div>
              <div class="test-status pass">PASS</div>
            </div>
            <div class="test-details">
              âœ… 26 performance tests
              <br />
              â±ï¸ Duration: 41.7s
              <br />
              ğŸš€ 1000+ concurrent bets
              <br />
              ğŸ“Š Real-time odds scaling
            </div>
          </div>
        </div>
      </div>

      <!-- System Architecture -->
      <div class="section">
        <h2>ğŸ—ï¸ Sports Betting System Architecture</h2>
        <div class="api-status">
          <div class="api-endpoint">
            <div>
              <div class="endpoint-name">Sports Data Engine</div>
              <div class="endpoint-detail">Real-time sports data processing and management</div>
            </div>
            <div class="endpoint-status success">âœ… Active</div>
          </div>
          <div class="api-endpoint">
            <div>
              <div class="endpoint-name">Odds Calculation Engine</div>
              <div class="endpoint-detail">Dynamic odds calculation with risk management</div>
            </div>
            <div class="endpoint-status success">âœ… Active</div>
          </div>
          <div class="api-endpoint">
            <div>
              <div class="endpoint-name">Bet Processing System</div>
              <div class="endpoint-detail">High-speed bet validation and placement</div>
            </div>
            <div class="endpoint-status success">âœ… Active</div>
          </div>
          <div class="api-endpoint">
            <div>
              <div class="endpoint-name">Settlement Engine</div>
              <div class="endpoint-detail">Automated bet settlement and payout processing</div>
            </div>
            <div class="endpoint-status success">âœ… Active</div>
          </div>
          <div class="api-endpoint">
            <div>
              <div class="endpoint-name">Risk Management System</div>
              <div class="endpoint-detail">Real-time exposure monitoring and risk control</div>
            </div>
            <div class="endpoint-status success">âœ… Active</div>
          </div>
        </div>
      </div>

      <!-- bunx Integration Commands -->
      <div class="section">
        <h2>âš™ï¸ bunx Package Integration</h2>
        <div class="binary-commands">
          <div class="command-example">
            <div class="command-title">Sports Engine</div>
            <code>bunx --package @fire22/sports-betting fire22-sports-engine</code>
          </div>
          <div class="command-example">
            <div class="command-title">Short Sports Name</div>
            <code>bunx -p @fire22/sports-betting sports-betting</code>
          </div>
          <div class="command-example">
            <div class="command-title">Package Script Shortcut</div>
            <code>bun run bunx:sports</code>
          </div>
          <div class="command-example">
            <div class="command-title">Live Odds Demo</div>
            <code>bunx -p @fire22/sports-betting sports-betting --live-odds</code>
          </div>
          <div class="command-example">
            <div class="command-title">Sports Development Mode</div>
            <code>bunx --package @fire22/sports-betting fire22-sports-engine --dev</code>
          </div>
          <div class="command-example">
            <div class="command-title">Bet Processing Test</div>
            <code>bunx -p @fire22/sports-betting sports-betting --test-bets</code>
          </div>
        </div>
      </div>
    </div>

    <div class="footer">
      <strong>@fire22/sports-betting</strong>
      â€¢ 15+ Sports â€¢ Live Odds â€¢ Betting Platform â€¢ Fire22 Integration â€¢
      <a href="../docs/DOCUMENTATION-HUB.html" style="color: #40e0d0; text-decoration: none">Documentation Hub</a>
      â€¢
      <a href="../docs/sports-betting-integration.html" style="color: #40e0d0; text-decoration: none">
        Sports Betting Guide
      </a>
    </div>

    <script>
      let packageApprovalStatus = 'pending';

      function approvePackage() {
        if (packageApprovalStatus !== 'pending') return;

        packageApprovalStatus = 'approved';
        updatePackageApprovalUI();

        fetch('/api/staging/approve-package', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            package: '@fire22/sports-betting',
            action: 'approved',
            timestamp: new Date().toISOString(),
            build: '#SB-647',
          }),
        });

        console.log('âœ… @fire22/sports-betting approved for deployment');
      }

      function rejectPackage() {
        if (packageApprovalStatus !== 'pending') return;

        packageApprovalStatus = 'rejected';
        updatePackageApprovalUI();

        fetch('/api/staging/reject-package', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            package: '@fire22/sports-betting',
            action: 'rejected',
            timestamp: new Date().toISOString(),
            reason: 'Requires review',
          }),
        });
      }

      function updatePackageApprovalUI() {
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const approveBtn = document.querySelector('.btn-approve');
        const rejectBtn = document.querySelector('.btn-reject');

        if (packageApprovalStatus === 'approved') {
          statusIndicator.className = 'status-indicator approved';
          statusText.textContent = 'Sports Betting Approved âœ…';
          statusText.style.color = '#4ade80';
          approveBtn.disabled = true;
          rejectBtn.disabled = true;
        } else if (packageApprovalStatus === 'rejected') {
          statusIndicator.className = 'status-indicator rejected';
          statusText.textContent = 'Sports Betting Rejected âŒ';
          statusText.style.color = '#ef4444';
          approveBtn.disabled = true;
          rejectBtn.disabled = true;
        }
      }

      // Keyboard shortcuts
      document.addEventListener('keydown', e => {
        if (packageApprovalStatus === 'pending') {
          if (e.key === 'a' || e.key === 'A') {
            approvePackage();
            e.preventDefault();
          } else if (e.key === 'r' || e.key === 'R') {
            rejectPackage();
            e.preventDefault();
          }
        }
      });

      console.log('âš½ @fire22/sports-betting staging review initialized');
      console.log('âŒ¨ï¸  Keyboard shortcuts: A = Approve, R = Reject');
    </script>
  </body>
</html>
